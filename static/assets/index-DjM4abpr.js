function Y1(e,s){for(var n=0;n<s.length;n++){const o=s[n];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in e)){const f=Object.getOwnPropertyDescriptor(o,a);f&&Object.defineProperty(e,a,f.get?f:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const f of a)if(f.type==="childList")for(const y of f.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&o(y)}).observe(document,{childList:!0,subtree:!0});function n(a){const f={};return a.integrity&&(f.integrity=a.integrity),a.referrerPolicy&&(f.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?f.credentials="include":a.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(a){if(a.ep)return;a.ep=!0;const f=n(a);fetch(a.href,f)}})();function Yl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ld={exports:{}},_o={},cd={exports:{}},Ae={};var eg;function X1(){if(eg)return Ae;eg=1;var e=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),y=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=h&&O[h]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,b={};function u(O,K,re){this.props=O,this.context=K,this.refs=b,this.updater=re||S}u.prototype.isReactComponent={},u.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},u.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function x(){}x.prototype=u.prototype;function p(O,K,re){this.props=O,this.context=K,this.refs=b,this.updater=re||S}var g=p.prototype=new x;g.constructor=p,k(g,u.prototype),g.isPureReactComponent=!0;var C=Array.isArray,E=Object.prototype.hasOwnProperty,P={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function j(O,K,re){var ae,he={},ye=null,B=null;if(K!=null)for(ae in K.ref!==void 0&&(B=K.ref),K.key!==void 0&&(ye=""+K.key),K)E.call(K,ae)&&!L.hasOwnProperty(ae)&&(he[ae]=K[ae]);var X=arguments.length-2;if(X===1)he.children=re;else if(1<X){for(var ie=Array(X),oe=0;oe<X;oe++)ie[oe]=arguments[oe+2];he.children=ie}if(O&&O.defaultProps)for(ae in X=O.defaultProps,X)he[ae]===void 0&&(he[ae]=X[ae]);return{$$typeof:e,type:O,key:ye,ref:B,props:he,_owner:P.current}}function A(O,K){return{$$typeof:e,type:O.type,key:K,ref:O.ref,props:O.props,_owner:O._owner}}function z(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function $(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(re){return K[re]})}var U=/\/+/g;function I(O,K){return typeof O=="object"&&O!==null&&O.key!=null?$(""+O.key):K.toString(36)}function W(O,K,re,ae,he){var ye=typeof O;(ye==="undefined"||ye==="boolean")&&(O=null);var B=!1;if(O===null)B=!0;else switch(ye){case"string":case"number":B=!0;break;case"object":switch(O.$$typeof){case e:case s:B=!0}}if(B)return B=O,he=he(B),O=ae===""?"."+I(B,0):ae,C(he)?(re="",O!=null&&(re=O.replace(U,"$&/")+"/"),W(he,K,re,"",function(oe){return oe})):he!=null&&(z(he)&&(he=A(he,re+(!he.key||B&&B.key===he.key?"":(""+he.key).replace(U,"$&/")+"/")+O)),K.push(he)),1;if(B=0,ae=ae===""?".":ae+":",C(O))for(var X=0;X<O.length;X++){ye=O[X];var ie=ae+I(ye,X);B+=W(ye,K,re,ie,he)}else if(ie=w(O),typeof ie=="function")for(O=ie.call(O),X=0;!(ye=O.next()).done;)ye=ye.value,ie=ae+I(ye,X++),B+=W(ye,K,re,ie,he);else if(ye==="object")throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return B}function J(O,K,re){if(O==null)return O;var ae=[],he=0;return W(O,ae,"","",function(ye){return K.call(re,ye,he++)}),ae}function V(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(re){(O._status===0||O._status===-1)&&(O._status=1,O._result=re)},function(re){(O._status===0||O._status===-1)&&(O._status=2,O._result=re)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var G={current:null},D={transition:null},M={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:D,ReactCurrentOwner:P};function H(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:J,forEach:function(O,K,re){J(O,function(){K.apply(this,arguments)},re)},count:function(O){var K=0;return J(O,function(){K++}),K},toArray:function(O){return J(O,function(K){return K})||[]},only:function(O){if(!z(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ae.Component=u,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=p,Ae.StrictMode=o,Ae.Suspense=d,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,Ae.act=H,Ae.cloneElement=function(O,K,re){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ae=k({},O.props),he=O.key,ye=O.ref,B=O._owner;if(K!=null){if(K.ref!==void 0&&(ye=K.ref,B=P.current),K.key!==void 0&&(he=""+K.key),O.type&&O.type.defaultProps)var X=O.type.defaultProps;for(ie in K)E.call(K,ie)&&!L.hasOwnProperty(ie)&&(ae[ie]=K[ie]===void 0&&X!==void 0?X[ie]:K[ie])}var ie=arguments.length-2;if(ie===1)ae.children=re;else if(1<ie){X=Array(ie);for(var oe=0;oe<ie;oe++)X[oe]=arguments[oe+2];ae.children=X}return{$$typeof:e,type:O.type,key:he,ref:ye,props:ae,_owner:B}},Ae.createContext=function(O){return O={$$typeof:y,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:f,_context:O},O.Consumer=O},Ae.createElement=j,Ae.createFactory=function(O){var K=j.bind(null,O);return K.type=O,K},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:l,render:O}},Ae.isValidElement=z,Ae.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:V}},Ae.memo=function(O,K){return{$$typeof:m,type:O,compare:K===void 0?null:K}},Ae.startTransition=function(O){var K=D.transition;D.transition={};try{O()}finally{D.transition=K}},Ae.unstable_act=H,Ae.useCallback=function(O,K){return G.current.useCallback(O,K)},Ae.useContext=function(O){return G.current.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O){return G.current.useDeferredValue(O)},Ae.useEffect=function(O,K){return G.current.useEffect(O,K)},Ae.useId=function(){return G.current.useId()},Ae.useImperativeHandle=function(O,K,re){return G.current.useImperativeHandle(O,K,re)},Ae.useInsertionEffect=function(O,K){return G.current.useInsertionEffect(O,K)},Ae.useLayoutEffect=function(O,K){return G.current.useLayoutEffect(O,K)},Ae.useMemo=function(O,K){return G.current.useMemo(O,K)},Ae.useReducer=function(O,K,re){return G.current.useReducer(O,K,re)},Ae.useRef=function(O){return G.current.useRef(O)},Ae.useState=function(O){return G.current.useState(O)},Ae.useSyncExternalStore=function(O,K,re){return G.current.useSyncExternalStore(O,K,re)},Ae.useTransition=function(){return G.current.useTransition()},Ae.version="18.3.1",Ae}var tg;function Io(){return tg||(tg=1,cd.exports=X1()),cd.exports}var sg;function J1(){if(sg)return _o;sg=1;var e=Io(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function y(l,d,m){var v,h={},w=null,S=null;m!==void 0&&(w=""+m),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(S=d.ref);for(v in d)o.call(d,v)&&!f.hasOwnProperty(v)&&(h[v]=d[v]);if(l&&l.defaultProps)for(v in d=l.defaultProps,d)h[v]===void 0&&(h[v]=d[v]);return{$$typeof:s,type:l,key:w,ref:S,props:h,_owner:a.current}}return _o.Fragment=n,_o.jsx=y,_o.jsxs=y,_o}var rg;function Z1(){return rg||(rg=1,ld.exports=J1()),ld.exports}var r=Z1(),R=Io();const Bs=Yl(R),Xl=Y1({__proto__:null,default:Bs},[R]);var ol={},ud={exports:{}},Ut={},dd={exports:{}},hd={};var ng;function eb(){return ng||(ng=1,(function(e){function s(D,M){var H=D.length;D.push(M);e:for(;0<H;){var O=H-1>>>1,K=D[O];if(0<a(K,M))D[O]=M,D[H]=K,H=O;else break e}}function n(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var M=D[0],H=D.pop();if(H!==M){D[0]=H;e:for(var O=0,K=D.length,re=K>>>1;O<re;){var ae=2*(O+1)-1,he=D[ae],ye=ae+1,B=D[ye];if(0>a(he,H))ye<K&&0>a(B,he)?(D[O]=B,D[ye]=H,O=ye):(D[O]=he,D[ae]=H,O=ae);else if(ye<K&&0>a(B,H))D[O]=B,D[ye]=H,O=ye;else break e}}return M}function a(D,M){var H=D.sortIndex-M.sortIndex;return H!==0?H:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var y=Date,l=y.now();e.unstable_now=function(){return y.now()-l}}var d=[],m=[],v=1,h=null,w=3,S=!1,k=!1,b=!1,u=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var M=n(m);M!==null;){if(M.callback===null)o(m);else if(M.startTime<=D)o(m),M.sortIndex=M.expirationTime,s(d,M);else break;M=n(m)}}function C(D){if(b=!1,g(D),!k)if(n(d)!==null)k=!0,V(E);else{var M=n(m);M!==null&&G(C,M.startTime-D)}}function E(D,M){k=!1,b&&(b=!1,x(j),j=-1),S=!0;var H=w;try{for(g(M),h=n(d);h!==null&&(!(h.expirationTime>M)||D&&!$());){var O=h.callback;if(typeof O=="function"){h.callback=null,w=h.priorityLevel;var K=O(h.expirationTime<=M);M=e.unstable_now(),typeof K=="function"?h.callback=K:h===n(d)&&o(d),g(M)}else o(d);h=n(d)}if(h!==null)var re=!0;else{var ae=n(m);ae!==null&&G(C,ae.startTime-M),re=!1}return re}finally{h=null,w=H,S=!1}}var P=!1,L=null,j=-1,A=5,z=-1;function $(){return!(e.unstable_now()-z<A)}function U(){if(L!==null){var D=e.unstable_now();z=D;var M=!0;try{M=L(!0,D)}finally{M?I():(P=!1,L=null)}}else P=!1}var I;if(typeof p=="function")I=function(){p(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=U,I=function(){J.postMessage(null)}}else I=function(){u(U,0)};function V(D){L=D,P||(P=!0,I())}function G(D,M){j=u(function(){D(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){k||S||(k=!0,V(E))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(D){switch(w){case 1:case 2:case 3:var M=3;break;default:M=w}var H=w;w=M;try{return D()}finally{w=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=w;w=D;try{return M()}finally{w=H}},e.unstable_scheduleCallback=function(D,M,H){var O=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?O+H:O):H=O,D){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=H+K,D={id:v++,callback:M,priorityLevel:D,startTime:H,expirationTime:K,sortIndex:-1},H>O?(D.sortIndex=H,s(m,D),n(d)===null&&D===n(m)&&(b?(x(j),j=-1):b=!0,G(C,H-O))):(D.sortIndex=K,s(d,D),k||S||(k=!0,V(E))),D},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(D){var M=w;return function(){var H=w;w=M;try{return D.apply(this,arguments)}finally{w=H}}}})(hd)),hd}var ig;function tb(){return ig||(ig=1,dd.exports=eb()),dd.exports}var og;function sb(){if(og)return Ut;og=1;var e=Io(),s=tb();function n(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function f(t,i){y(t,i),y(t+"Capture",i)}function y(t,i){for(a[t]=i,t=0;t<i.length;t++)o.add(i[t])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},h={};function w(t){return d.call(h,t)?!0:d.call(v,t)?!1:m.test(t)?h[t]=!0:(v[t]=!0,!1)}function S(t,i,c,_){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return _?!1:c!==null?!c.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k(t,i,c,_){if(i===null||typeof i>"u"||S(t,i,c,_))return!0;if(_)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function b(t,i,c,_,N,T,F){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=_,this.attributeNamespace=N,this.mustUseProperty=c,this.propertyName=t,this.type=i,this.sanitizeURL=T,this.removeEmptyString=F}var u={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){u[t]=new b(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];u[i]=new b(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){u[t]=new b(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){u[t]=new b(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){u[t]=new b(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){u[t]=new b(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){u[t]=new b(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){u[t]=new b(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){u[t]=new b(t,5,!1,t.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function p(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(x,p);u[i]=new b(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(x,p);u[i]=new b(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(x,p);u[i]=new b(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){u[t]=new b(t,1,!1,t.toLowerCase(),null,!1,!1)}),u.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){u[t]=new b(t,1,!1,t.toLowerCase(),null,!0,!0)});function g(t,i,c,_){var N=u.hasOwnProperty(i)?u[i]:null;(N!==null?N.type!==0:_||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,c,N,_)&&(c=null),_||N===null?w(i)&&(c===null?t.removeAttribute(i):t.setAttribute(i,""+c)):N.mustUseProperty?t[N.propertyName]=c===null?N.type===3?!1:"":c:(i=N.attributeName,_=N.attributeNamespace,c===null?t.removeAttribute(i):(N=N.type,c=N===3||N===4&&c===!0?"":""+c,_?t.setAttributeNS(_,i,c):t.setAttribute(i,c))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),P=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),$=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),D=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var H=Object.assign,O;function K(t){if(O===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+t}var re=!1;function ae(t,i){if(!t||re)return"";re=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(se){var _=se}Reflect.construct(t,[],i)}else{try{i.call()}catch(se){_=se}t.call(i.prototype)}else{try{throw Error()}catch(se){_=se}t()}}catch(se){if(se&&_&&typeof se.stack=="string"){for(var N=se.stack.split(`
`),T=_.stack.split(`
`),F=N.length-1,q=T.length-1;1<=F&&0<=q&&N[F]!==T[q];)q--;for(;1<=F&&0<=q;F--,q--)if(N[F]!==T[q]){if(F!==1||q!==1)do if(F--,q--,0>q||N[F]!==T[q]){var Q=`
`+N[F].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=F&&0<=q);break}}}finally{re=!1,Error.prepareStackTrace=c}return(t=t?t.displayName||t.name:"")?K(t):""}function he(t){switch(t.tag){case 5:return K(t.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return t=ae(t.type,!1),t;case 11:return t=ae(t.type.render,!1),t;case 1:return t=ae(t.type,!0),t;default:return""}}function ye(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case P:return"Portal";case A:return"Profiler";case j:return"StrictMode";case I:return"Suspense";case W:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $:return(t.displayName||"Context")+".Consumer";case z:return(t._context.displayName||"Context")+".Provider";case U:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return i=t.displayName||null,i!==null?i:ye(t.type)||"Memo";case V:i=t._payload,t=t._init;try{return ye(t(i))}catch{}}return null}function B(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(i);case 8:return i===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function X(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ie(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function oe(t){var i=ie(t)?"checked":"value",c=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),_=""+t[i];if(!t.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var N=c.get,T=c.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return N.call(this)},set:function(F){_=""+F,T.call(this,F)}}),Object.defineProperty(t,i,{enumerable:c.enumerable}),{getValue:function(){return _},setValue:function(F){_=""+F},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ne(t){t._valueTracker||(t._valueTracker=oe(t))}function ge(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var c=i.getValue(),_="";return t&&(_=ie(t)?t.checked?"true":"false":t.value),t=_,t!==c?(i.setValue(t),!0):!1}function Le(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function it(t,i){var c=i.checked;return H({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??t._wrapperState.initialChecked})}function _t(t,i){var c=i.defaultValue==null?"":i.defaultValue,_=i.checked!=null?i.checked:i.defaultChecked;c=X(i.value!=null?i.value:c),t._wrapperState={initialChecked:_,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Gs(t,i){i=i.checked,i!=null&&g(t,"checked",i,!1)}function De(t,i){Gs(t,i);var c=X(i.value),_=i.type;if(c!=null)_==="number"?(c===0&&t.value===""||t.value!=c)&&(t.value=""+c):t.value!==""+c&&(t.value=""+c);else if(_==="submit"||_==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?on(t,i.type,c):i.hasOwnProperty("defaultValue")&&on(t,i.type,X(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function xr(t,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var _=i.type;if(!(_!=="submit"&&_!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,c||i===t.value||(t.value=i),t.defaultValue=i}c=t.name,c!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,c!==""&&(t.name=c)}function on(t,i,c){(i!=="number"||Le(t.ownerDocument)!==t)&&(c==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+c&&(t.defaultValue=""+c))}var Qs=Array.isArray;function Ds(t,i,c,_){if(t=t.options,i){i={};for(var N=0;N<c.length;N++)i["$"+c[N]]=!0;for(c=0;c<t.length;c++)N=i.hasOwnProperty("$"+t[c].value),t[c].selected!==N&&(t[c].selected=N),N&&_&&(t[c].defaultSelected=!0)}else{for(c=""+X(c),i=null,N=0;N<t.length;N++){if(t[N].value===c){t[N].selected=!0,_&&(t[N].defaultSelected=!0);return}i!==null||t[N].disabled||(i=t[N])}i!==null&&(i.selected=!0)}}function yr(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rt(t,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(n(92));if(Qs(c)){if(1<c.length)throw Error(n(93));c=c[0]}i=c}i==null&&(i=""),c=i}t._wrapperState={initialValue:X(c)}}function _r(t,i){var c=X(i.value),_=X(i.defaultValue);c!=null&&(c=""+c,c!==t.value&&(t.value=c),i.defaultValue==null&&t.defaultValue!==c&&(t.defaultValue=c)),_!=null&&(t.defaultValue=""+_)}function Vt(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function wr(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function an(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?wr(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gt,Bn=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,_,N){MSApp.execUnsafeLocalFunction(function(){return t(i,c,_,N)})}:t})(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(Gt=Gt||document.createElement("div"),Gt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Gt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function Ot(t,i){if(i){var c=t.firstChild;if(c&&c===t.lastChild&&c.nodeType===3){c.nodeValue=i;return}}t.textContent=i}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ge=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(t){Ge.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),xs[i]=xs[t]})});function Jo(t,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||xs.hasOwnProperty(t)&&xs[t]?(""+i).trim():i+"px"}function gf(t,i){t=t.style;for(var c in i)if(i.hasOwnProperty(c)){var _=c.indexOf("--")===0,N=Jo(c,i[c],_);c==="float"&&(c="cssFloat"),_?t.setProperty(c,N):t[c]=N}}var tw=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _c(t,i){if(i){if(tw[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function wc(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=null;function Sc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cc=null,Hn=null,zn=null;function vf(t){if(t=no(t)){if(typeof Cc!="function")throw Error(n(280));var i=t.stateNode;i&&(i=wa(i),Cc(t.stateNode,t.type,i))}}function xf(t){Hn?zn?zn.push(t):zn=[t]:Hn=t}function yf(){if(Hn){var t=Hn,i=zn;if(zn=Hn=null,vf(t),i)for(t=0;t<i.length;t++)vf(i[t])}}function _f(t,i){return t(i)}function wf(){}var jc=!1;function bf(t,i,c){if(jc)return t(i,c);jc=!0;try{return _f(t,i,c)}finally{jc=!1,(Hn!==null||zn!==null)&&(wf(),yf())}}function Ii(t,i){var c=t.stateNode;if(c===null)return null;var _=wa(c);if(_===null)return null;c=_[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(t=t.type,_=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!_;break e;default:t=!1}if(t)return null;if(c&&typeof c!="function")throw Error(n(231,i,typeof c));return c}var kc=!1;if(l)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){kc=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{kc=!1}function sw(t,i,c,_,N,T,F,q,Q){var se=Array.prototype.slice.call(arguments,3);try{i.apply(c,se)}catch(de){this.onError(de)}}var Bi=!1,Zo=null,ea=!1,Nc=null,rw={onError:function(t){Bi=!0,Zo=t}};function nw(t,i,c,_,N,T,F,q,Q){Bi=!1,Zo=null,sw.apply(rw,arguments)}function iw(t,i,c,_,N,T,F,q,Q){if(nw.apply(this,arguments),Bi){if(Bi){var se=Zo;Bi=!1,Zo=null}else throw Error(n(198));ea||(ea=!0,Nc=se)}}function ln(t){var i=t,c=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(c=i.return),t=i.return;while(t)}return i.tag===3?c:null}function Sf(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function Cf(t){if(ln(t)!==t)throw Error(n(188))}function ow(t){var i=t.alternate;if(!i){if(i=ln(t),i===null)throw Error(n(188));return i!==t?null:t}for(var c=t,_=i;;){var N=c.return;if(N===null)break;var T=N.alternate;if(T===null){if(_=N.return,_!==null){c=_;continue}break}if(N.child===T.child){for(T=N.child;T;){if(T===c)return Cf(N),t;if(T===_)return Cf(N),i;T=T.sibling}throw Error(n(188))}if(c.return!==_.return)c=N,_=T;else{for(var F=!1,q=N.child;q;){if(q===c){F=!0,c=N,_=T;break}if(q===_){F=!0,_=N,c=T;break}q=q.sibling}if(!F){for(q=T.child;q;){if(q===c){F=!0,c=T,_=N;break}if(q===_){F=!0,_=T,c=N;break}q=q.sibling}if(!F)throw Error(n(189))}}if(c.alternate!==_)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?t:i}function jf(t){return t=ow(t),t!==null?kf(t):null}function kf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=kf(t);if(i!==null)return i;t=t.sibling}return null}var Nf=s.unstable_scheduleCallback,Ef=s.unstable_cancelCallback,aw=s.unstable_shouldYield,lw=s.unstable_requestPaint,ot=s.unstable_now,cw=s.unstable_getCurrentPriorityLevel,Ec=s.unstable_ImmediatePriority,Rf=s.unstable_UserBlockingPriority,ta=s.unstable_NormalPriority,uw=s.unstable_LowPriority,Pf=s.unstable_IdlePriority,sa=null,Ms=null;function dw(t){if(Ms&&typeof Ms.onCommitFiberRoot=="function")try{Ms.onCommitFiberRoot(sa,t,void 0,(t.current.flags&128)===128)}catch{}}var ys=Math.clz32?Math.clz32:mw,hw=Math.log,fw=Math.LN2;function mw(t){return t>>>=0,t===0?32:31-(hw(t)/fw|0)|0}var ra=64,na=4194304;function Hi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ia(t,i){var c=t.pendingLanes;if(c===0)return 0;var _=0,N=t.suspendedLanes,T=t.pingedLanes,F=c&268435455;if(F!==0){var q=F&~N;q!==0?_=Hi(q):(T&=F,T!==0&&(_=Hi(T)))}else F=c&~N,F!==0?_=Hi(F):T!==0&&(_=Hi(T));if(_===0)return 0;if(i!==0&&i!==_&&(i&N)===0&&(N=_&-_,T=i&-i,N>=T||N===16&&(T&4194240)!==0))return i;if((_&4)!==0&&(_|=c&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=_;0<i;)c=31-ys(i),N=1<<c,_|=t[c],i&=~N;return _}function pw(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gw(t,i){for(var c=t.suspendedLanes,_=t.pingedLanes,N=t.expirationTimes,T=t.pendingLanes;0<T;){var F=31-ys(T),q=1<<F,Q=N[F];Q===-1?((q&c)===0||(q&_)!==0)&&(N[F]=pw(q,i)):Q<=i&&(t.expiredLanes|=q),T&=~q}}function Rc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tf(){var t=ra;return ra<<=1,(ra&4194240)===0&&(ra=64),t}function Pc(t){for(var i=[],c=0;31>c;c++)i.push(t);return i}function zi(t,i,c){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-ys(i),t[i]=c}function vw(t,i){var c=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var _=t.eventTimes;for(t=t.expirationTimes;0<c;){var N=31-ys(c),T=1<<N;i[N]=0,_[N]=-1,t[N]=-1,c&=~T}}function Tc(t,i){var c=t.entangledLanes|=i;for(t=t.entanglements;c;){var _=31-ys(c),N=1<<_;N&i|t[_]&i&&(t[_]|=i),c&=~N}}var Ue=0;function Df(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Mf,Dc,Lf,Af,Of,Mc=!1,oa=[],br=null,Sr=null,Cr=null,Ui=new Map,$i=new Map,jr=[],xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function If(t,i){switch(t){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":Ui.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$i.delete(i.pointerId)}}function Wi(t,i,c,_,N,T){return t===null||t.nativeEvent!==T?(t={blockedOn:i,domEventName:c,eventSystemFlags:_,nativeEvent:T,targetContainers:[N]},i!==null&&(i=no(i),i!==null&&Dc(i)),t):(t.eventSystemFlags|=_,i=t.targetContainers,N!==null&&i.indexOf(N)===-1&&i.push(N),t)}function yw(t,i,c,_,N){switch(i){case"focusin":return br=Wi(br,t,i,c,_,N),!0;case"dragenter":return Sr=Wi(Sr,t,i,c,_,N),!0;case"mouseover":return Cr=Wi(Cr,t,i,c,_,N),!0;case"pointerover":var T=N.pointerId;return Ui.set(T,Wi(Ui.get(T)||null,t,i,c,_,N)),!0;case"gotpointercapture":return T=N.pointerId,$i.set(T,Wi($i.get(T)||null,t,i,c,_,N)),!0}return!1}function Ff(t){var i=cn(t.target);if(i!==null){var c=ln(i);if(c!==null){if(i=c.tag,i===13){if(i=Sf(c),i!==null){t.blockedOn=i,Of(t.priority,function(){Lf(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){t.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}t.blockedOn=null}function aa(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var c=Ac(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(c===null){c=t.nativeEvent;var _=new c.constructor(c.type,c);bc=_,c.target.dispatchEvent(_),bc=null}else return i=no(c),i!==null&&Dc(i),t.blockedOn=c,!1;i.shift()}return!0}function Bf(t,i,c){aa(t)&&c.delete(i)}function _w(){Mc=!1,br!==null&&aa(br)&&(br=null),Sr!==null&&aa(Sr)&&(Sr=null),Cr!==null&&aa(Cr)&&(Cr=null),Ui.forEach(Bf),$i.forEach(Bf)}function qi(t,i){t.blockedOn===i&&(t.blockedOn=null,Mc||(Mc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_w)))}function Ki(t){function i(N){return qi(N,t)}if(0<oa.length){qi(oa[0],t);for(var c=1;c<oa.length;c++){var _=oa[c];_.blockedOn===t&&(_.blockedOn=null)}}for(br!==null&&qi(br,t),Sr!==null&&qi(Sr,t),Cr!==null&&qi(Cr,t),Ui.forEach(i),$i.forEach(i),c=0;c<jr.length;c++)_=jr[c],_.blockedOn===t&&(_.blockedOn=null);for(;0<jr.length&&(c=jr[0],c.blockedOn===null);)Ff(c),c.blockedOn===null&&jr.shift()}var Un=C.ReactCurrentBatchConfig,la=!0;function ww(t,i,c,_){var N=Ue,T=Un.transition;Un.transition=null;try{Ue=1,Lc(t,i,c,_)}finally{Ue=N,Un.transition=T}}function bw(t,i,c,_){var N=Ue,T=Un.transition;Un.transition=null;try{Ue=4,Lc(t,i,c,_)}finally{Ue=N,Un.transition=T}}function Lc(t,i,c,_){if(la){var N=Ac(t,i,c,_);if(N===null)Jc(t,i,_,ca,c),If(t,_);else if(yw(N,t,i,c,_))_.stopPropagation();else if(If(t,_),i&4&&-1<xw.indexOf(t)){for(;N!==null;){var T=no(N);if(T!==null&&Mf(T),T=Ac(t,i,c,_),T===null&&Jc(t,i,_,ca,c),T===N)break;N=T}N!==null&&_.stopPropagation()}else Jc(t,i,_,null,c)}}var ca=null;function Ac(t,i,c,_){if(ca=null,t=Sc(_),t=cn(t),t!==null)if(i=ln(t),i===null)t=null;else if(c=i.tag,c===13){if(t=Sf(i),t!==null)return t;t=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return ca=t,null}function Hf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cw()){case Ec:return 1;case Rf:return 4;case ta:case uw:return 16;case Pf:return 536870912;default:return 16}default:return 16}}var kr=null,Oc=null,ua=null;function zf(){if(ua)return ua;var t,i=Oc,c=i.length,_,N="value"in kr?kr.value:kr.textContent,T=N.length;for(t=0;t<c&&i[t]===N[t];t++);var F=c-t;for(_=1;_<=F&&i[c-_]===N[T-_];_++);return ua=N.slice(t,1<_?1-_:void 0)}function da(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ha(){return!0}function Uf(){return!1}function Qt(t){function i(c,_,N,T,F){this._reactName=c,this._targetInst=N,this.type=_,this.nativeEvent=T,this.target=F,this.currentTarget=null;for(var q in t)t.hasOwnProperty(q)&&(c=t[q],this[q]=c?c(T):T[q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?ha:Uf,this.isPropagationStopped=Uf,this}return H(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),i}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ic=Qt($n),Vi=H({},$n,{view:0,detail:0}),Sw=Qt(Vi),Fc,Bc,Gi,fa=H({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gi&&(Gi&&t.type==="mousemove"?(Fc=t.screenX-Gi.screenX,Bc=t.screenY-Gi.screenY):Bc=Fc=0,Gi=t),Fc)},movementY:function(t){return"movementY"in t?t.movementY:Bc}}),$f=Qt(fa),Cw=H({},fa,{dataTransfer:0}),jw=Qt(Cw),kw=H({},Vi,{relatedTarget:0}),Hc=Qt(kw),Nw=H({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),Ew=Qt(Nw),Rw=H({},$n,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pw=Qt(Rw),Tw=H({},$n,{data:0}),Wf=Qt(Tw),Dw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Aw(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Lw[t])?!!i[t]:!1}function zc(){return Aw}var Ow=H({},Vi,{key:function(t){if(t.key){var i=Dw[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=da(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zc,charCode:function(t){return t.type==="keypress"?da(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?da(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iw=Qt(Ow),Fw=H({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qf=Qt(Fw),Bw=H({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zc}),Hw=Qt(Bw),zw=H({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uw=Qt(zw),$w=H({},fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ww=Qt($w),qw=[9,13,27,32],Uc=l&&"CompositionEvent"in window,Qi=null;l&&"documentMode"in document&&(Qi=document.documentMode);var Kw=l&&"TextEvent"in window&&!Qi,Kf=l&&(!Uc||Qi&&8<Qi&&11>=Qi),Vf=" ",Gf=!1;function Qf(t,i){switch(t){case"keyup":return qw.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wn=!1;function Vw(t,i){switch(t){case"compositionend":return Yf(i);case"keypress":return i.which!==32?null:(Gf=!0,Vf);case"textInput":return t=i.data,t===Vf&&Gf?null:t;default:return null}}function Gw(t,i){if(Wn)return t==="compositionend"||!Uc&&Qf(t,i)?(t=zf(),ua=Oc=kr=null,Wn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Kf&&i.locale!=="ko"?null:i.data;default:return null}}var Qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Qw[t.type]:i==="textarea"}function Jf(t,i,c,_){xf(_),i=xa(i,"onChange"),0<i.length&&(c=new Ic("onChange","change",null,c,_),t.push({event:c,listeners:i}))}var Yi=null,Xi=null;function Yw(t){gm(t,0)}function ma(t){var i=Qn(t);if(ge(i))return t}function Xw(t,i){if(t==="change")return i}var Zf=!1;if(l){var $c;if(l){var Wc="oninput"in document;if(!Wc){var em=document.createElement("div");em.setAttribute("oninput","return;"),Wc=typeof em.oninput=="function"}$c=Wc}else $c=!1;Zf=$c&&(!document.documentMode||9<document.documentMode)}function tm(){Yi&&(Yi.detachEvent("onpropertychange",sm),Xi=Yi=null)}function sm(t){if(t.propertyName==="value"&&ma(Xi)){var i=[];Jf(i,Xi,t,Sc(t)),bf(Yw,i)}}function Jw(t,i,c){t==="focusin"?(tm(),Yi=i,Xi=c,Yi.attachEvent("onpropertychange",sm)):t==="focusout"&&tm()}function Zw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ma(Xi)}function e1(t,i){if(t==="click")return ma(i)}function t1(t,i){if(t==="input"||t==="change")return ma(i)}function s1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _s=typeof Object.is=="function"?Object.is:s1;function Ji(t,i){if(_s(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var c=Object.keys(t),_=Object.keys(i);if(c.length!==_.length)return!1;for(_=0;_<c.length;_++){var N=c[_];if(!d.call(i,N)||!_s(t[N],i[N]))return!1}return!0}function rm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nm(t,i){var c=rm(t);t=0;for(var _;c;){if(c.nodeType===3){if(_=t+c.textContent.length,t<=i&&_>=i)return{node:c,offset:i-t};t=_}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=rm(c)}}function im(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?im(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function om(){for(var t=window,i=Le();i instanceof t.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)t=i.contentWindow;else break;i=Le(t.document)}return i}function qc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function r1(t){var i=om(),c=t.focusedElem,_=t.selectionRange;if(i!==c&&c&&c.ownerDocument&&im(c.ownerDocument.documentElement,c)){if(_!==null&&qc(c)){if(i=_.start,t=_.end,t===void 0&&(t=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(t,c.value.length);else if(t=(i=c.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var N=c.textContent.length,T=Math.min(_.start,N);_=_.end===void 0?T:Math.min(_.end,N),!t.extend&&T>_&&(N=_,_=T,T=N),N=nm(c,T);var F=nm(c,_);N&&F&&(t.rangeCount!==1||t.anchorNode!==N.node||t.anchorOffset!==N.offset||t.focusNode!==F.node||t.focusOffset!==F.offset)&&(i=i.createRange(),i.setStart(N.node,N.offset),t.removeAllRanges(),T>_?(t.addRange(i),t.extend(F.node,F.offset)):(i.setEnd(F.node,F.offset),t.addRange(i)))}}for(i=[],t=c;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)t=i[c],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var n1=l&&"documentMode"in document&&11>=document.documentMode,qn=null,Kc=null,Zi=null,Vc=!1;function am(t,i,c){var _=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Vc||qn==null||qn!==Le(_)||(_=qn,"selectionStart"in _&&qc(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Zi&&Ji(Zi,_)||(Zi=_,_=xa(Kc,"onSelect"),0<_.length&&(i=new Ic("onSelect","select",null,i,c),t.push({event:i,listeners:_}),i.target=qn)))}function pa(t,i){var c={};return c[t.toLowerCase()]=i.toLowerCase(),c["Webkit"+t]="webkit"+i,c["Moz"+t]="moz"+i,c}var Kn={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionend:pa("Transition","TransitionEnd")},Gc={},lm={};l&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function ga(t){if(Gc[t])return Gc[t];if(!Kn[t])return t;var i=Kn[t],c;for(c in i)if(i.hasOwnProperty(c)&&c in lm)return Gc[t]=i[c];return t}var cm=ga("animationend"),um=ga("animationiteration"),dm=ga("animationstart"),hm=ga("transitionend"),fm=new Map,mm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(t,i){fm.set(t,i),f(i,[t])}for(var Qc=0;Qc<mm.length;Qc++){var Yc=mm[Qc],i1=Yc.toLowerCase(),o1=Yc[0].toUpperCase()+Yc.slice(1);Nr(i1,"on"+o1)}Nr(cm,"onAnimationEnd"),Nr(um,"onAnimationIteration"),Nr(dm,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(hm,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a1=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function pm(t,i,c){var _=t.type||"unknown-event";t.currentTarget=c,iw(_,i,void 0,t),t.currentTarget=null}function gm(t,i){i=(i&4)!==0;for(var c=0;c<t.length;c++){var _=t[c],N=_.event;_=_.listeners;e:{var T=void 0;if(i)for(var F=_.length-1;0<=F;F--){var q=_[F],Q=q.instance,se=q.currentTarget;if(q=q.listener,Q!==T&&N.isPropagationStopped())break e;pm(N,q,se),T=Q}else for(F=0;F<_.length;F++){if(q=_[F],Q=q.instance,se=q.currentTarget,q=q.listener,Q!==T&&N.isPropagationStopped())break e;pm(N,q,se),T=Q}}}if(ea)throw t=Nc,ea=!1,Nc=null,t}function Qe(t,i){var c=i[nu];c===void 0&&(c=i[nu]=new Set);var _=t+"__bubble";c.has(_)||(vm(i,t,2,!1),c.add(_))}function Xc(t,i,c){var _=0;i&&(_|=4),vm(c,t,_,i)}var va="_reactListening"+Math.random().toString(36).slice(2);function to(t){if(!t[va]){t[va]=!0,o.forEach(function(c){c!=="selectionchange"&&(a1.has(c)||Xc(c,!1,t),Xc(c,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[va]||(i[va]=!0,Xc("selectionchange",!1,i))}}function vm(t,i,c,_){switch(Hf(i)){case 1:var N=ww;break;case 4:N=bw;break;default:N=Lc}c=N.bind(null,i,c,t),N=void 0,!kc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(N=!0),_?N!==void 0?t.addEventListener(i,c,{capture:!0,passive:N}):t.addEventListener(i,c,!0):N!==void 0?t.addEventListener(i,c,{passive:N}):t.addEventListener(i,c,!1)}function Jc(t,i,c,_,N){var T=_;if((i&1)===0&&(i&2)===0&&_!==null)e:for(;;){if(_===null)return;var F=_.tag;if(F===3||F===4){var q=_.stateNode.containerInfo;if(q===N||q.nodeType===8&&q.parentNode===N)break;if(F===4)for(F=_.return;F!==null;){var Q=F.tag;if((Q===3||Q===4)&&(Q=F.stateNode.containerInfo,Q===N||Q.nodeType===8&&Q.parentNode===N))return;F=F.return}for(;q!==null;){if(F=cn(q),F===null)return;if(Q=F.tag,Q===5||Q===6){_=T=F;continue e}q=q.parentNode}}_=_.return}bf(function(){var se=T,de=Sc(c),fe=[];e:{var le=fm.get(t);if(le!==void 0){var ve=Ic,_e=t;switch(t){case"keypress":if(da(c)===0)break e;case"keydown":case"keyup":ve=Iw;break;case"focusin":_e="focus",ve=Hc;break;case"focusout":_e="blur",ve=Hc;break;case"beforeblur":case"afterblur":ve=Hc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=$f;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=jw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Hw;break;case cm:case um:case dm:ve=Ew;break;case hm:ve=Uw;break;case"scroll":ve=Sw;break;case"wheel":ve=Ww;break;case"copy":case"cut":case"paste":ve=Pw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=qf}var we=(i&4)!==0,at=!we&&t==="scroll",ee=we?le!==null?le+"Capture":null:le;we=[];for(var Y=se,te;Y!==null;){te=Y;var me=te.stateNode;if(te.tag===5&&me!==null&&(te=me,ee!==null&&(me=Ii(Y,ee),me!=null&&we.push(so(Y,me,te)))),at)break;Y=Y.return}0<we.length&&(le=new ve(le,_e,null,c,de),fe.push({event:le,listeners:we}))}}if((i&7)===0){e:{if(le=t==="mouseover"||t==="pointerover",ve=t==="mouseout"||t==="pointerout",le&&c!==bc&&(_e=c.relatedTarget||c.fromElement)&&(cn(_e)||_e[Ys]))break e;if((ve||le)&&(le=de.window===de?de:(le=de.ownerDocument)?le.defaultView||le.parentWindow:window,ve?(_e=c.relatedTarget||c.toElement,ve=se,_e=_e?cn(_e):null,_e!==null&&(at=ln(_e),_e!==at||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(ve=null,_e=se),ve!==_e)){if(we=$f,me="onMouseLeave",ee="onMouseEnter",Y="mouse",(t==="pointerout"||t==="pointerover")&&(we=qf,me="onPointerLeave",ee="onPointerEnter",Y="pointer"),at=ve==null?le:Qn(ve),te=_e==null?le:Qn(_e),le=new we(me,Y+"leave",ve,c,de),le.target=at,le.relatedTarget=te,me=null,cn(de)===se&&(we=new we(ee,Y+"enter",_e,c,de),we.target=te,we.relatedTarget=at,me=we),at=me,ve&&_e)t:{for(we=ve,ee=_e,Y=0,te=we;te;te=Vn(te))Y++;for(te=0,me=ee;me;me=Vn(me))te++;for(;0<Y-te;)we=Vn(we),Y--;for(;0<te-Y;)ee=Vn(ee),te--;for(;Y--;){if(we===ee||ee!==null&&we===ee.alternate)break t;we=Vn(we),ee=Vn(ee)}we=null}else we=null;ve!==null&&xm(fe,le,ve,we,!1),_e!==null&&at!==null&&xm(fe,at,_e,we,!0)}}e:{if(le=se?Qn(se):window,ve=le.nodeName&&le.nodeName.toLowerCase(),ve==="select"||ve==="input"&&le.type==="file")var be=Xw;else if(Xf(le))if(Zf)be=t1;else{be=Zw;var Ce=Jw}else(ve=le.nodeName)&&ve.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(be=e1);if(be&&(be=be(t,se))){Jf(fe,be,c,de);break e}Ce&&Ce(t,le,se),t==="focusout"&&(Ce=le._wrapperState)&&Ce.controlled&&le.type==="number"&&on(le,"number",le.value)}switch(Ce=se?Qn(se):window,t){case"focusin":(Xf(Ce)||Ce.contentEditable==="true")&&(qn=Ce,Kc=se,Zi=null);break;case"focusout":Zi=Kc=qn=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,am(fe,c,de);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":am(fe,c,de)}var je;if(Uc)e:{switch(t){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Wn?Qf(t,c)&&(Re="onCompositionEnd"):t==="keydown"&&c.keyCode===229&&(Re="onCompositionStart");Re&&(Kf&&c.locale!=="ko"&&(Wn||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Wn&&(je=zf()):(kr=de,Oc="value"in kr?kr.value:kr.textContent,Wn=!0)),Ce=xa(se,Re),0<Ce.length&&(Re=new Wf(Re,t,null,c,de),fe.push({event:Re,listeners:Ce}),je?Re.data=je:(je=Yf(c),je!==null&&(Re.data=je)))),(je=Kw?Vw(t,c):Gw(t,c))&&(se=xa(se,"onBeforeInput"),0<se.length&&(de=new Wf("onBeforeInput","beforeinput",null,c,de),fe.push({event:de,listeners:se}),de.data=je))}gm(fe,i)})}function so(t,i,c){return{instance:t,listener:i,currentTarget:c}}function xa(t,i){for(var c=i+"Capture",_=[];t!==null;){var N=t,T=N.stateNode;N.tag===5&&T!==null&&(N=T,T=Ii(t,c),T!=null&&_.unshift(so(t,T,N)),T=Ii(t,i),T!=null&&_.push(so(t,T,N))),t=t.return}return _}function Vn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xm(t,i,c,_,N){for(var T=i._reactName,F=[];c!==null&&c!==_;){var q=c,Q=q.alternate,se=q.stateNode;if(Q!==null&&Q===_)break;q.tag===5&&se!==null&&(q=se,N?(Q=Ii(c,T),Q!=null&&F.unshift(so(c,Q,q))):N||(Q=Ii(c,T),Q!=null&&F.push(so(c,Q,q)))),c=c.return}F.length!==0&&t.push({event:i,listeners:F})}var l1=/\r\n?/g,c1=/\u0000|\uFFFD/g;function ym(t){return(typeof t=="string"?t:""+t).replace(l1,`
`).replace(c1,"")}function ya(t,i,c){if(i=ym(i),ym(t)!==i&&c)throw Error(n(425))}function _a(){}var Zc=null,eu=null;function tu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var su=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(t){return _m.resolve(null).then(t).catch(h1)}:su;function h1(t){setTimeout(function(){throw t})}function ru(t,i){var c=i,_=0;do{var N=c.nextSibling;if(t.removeChild(c),N&&N.nodeType===8)if(c=N.data,c==="/$"){if(_===0){t.removeChild(N),Ki(i);return}_--}else c!=="$"&&c!=="$?"&&c!=="$!"||_++;c=N}while(c);Ki(i)}function Er(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function wm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var c=t.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return t;i--}else c==="/$"&&i++}t=t.previousSibling}return null}var Gn=Math.random().toString(36).slice(2),Ls="__reactFiber$"+Gn,ro="__reactProps$"+Gn,Ys="__reactContainer$"+Gn,nu="__reactEvents$"+Gn,f1="__reactListeners$"+Gn,m1="__reactHandles$"+Gn;function cn(t){var i=t[Ls];if(i)return i;for(var c=t.parentNode;c;){if(i=c[Ys]||c[Ls]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(t=wm(t);t!==null;){if(c=t[Ls])return c;t=wm(t)}return i}t=c,c=t.parentNode}return null}function no(t){return t=t[Ls]||t[Ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function wa(t){return t[ro]||null}var iu=[],Yn=-1;function Rr(t){return{current:t}}function Ye(t){0>Yn||(t.current=iu[Yn],iu[Yn]=null,Yn--)}function Ke(t,i){Yn++,iu[Yn]=t.current,t.current=i}var Pr={},St=Rr(Pr),It=Rr(!1),un=Pr;function Xn(t,i){var c=t.type.contextTypes;if(!c)return Pr;var _=t.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===i)return _.__reactInternalMemoizedMaskedChildContext;var N={},T;for(T in c)N[T]=i[T];return _&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=N),N}function Ft(t){return t=t.childContextTypes,t!=null}function ba(){Ye(It),Ye(St)}function bm(t,i,c){if(St.current!==Pr)throw Error(n(168));Ke(St,i),Ke(It,c)}function Sm(t,i,c){var _=t.stateNode;if(i=i.childContextTypes,typeof _.getChildContext!="function")return c;_=_.getChildContext();for(var N in _)if(!(N in i))throw Error(n(108,B(t)||"Unknown",N));return H({},c,_)}function Sa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pr,un=St.current,Ke(St,t),Ke(It,It.current),!0}function Cm(t,i,c){var _=t.stateNode;if(!_)throw Error(n(169));c?(t=Sm(t,i,un),_.__reactInternalMemoizedMergedChildContext=t,Ye(It),Ye(St),Ke(St,t)):Ye(It),Ke(It,c)}var Xs=null,Ca=!1,ou=!1;function jm(t){Xs===null?Xs=[t]:Xs.push(t)}function p1(t){Ca=!0,jm(t)}function Tr(){if(!ou&&Xs!==null){ou=!0;var t=0,i=Ue;try{var c=Xs;for(Ue=1;t<c.length;t++){var _=c[t];do _=_(!0);while(_!==null)}Xs=null,Ca=!1}catch(N){throw Xs!==null&&(Xs=Xs.slice(t+1)),Nf(Ec,Tr),N}finally{Ue=i,ou=!1}}return null}var Jn=[],Zn=0,ja=null,ka=0,os=[],as=0,dn=null,Js=1,Zs="";function hn(t,i){Jn[Zn++]=ka,Jn[Zn++]=ja,ja=t,ka=i}function km(t,i,c){os[as++]=Js,os[as++]=Zs,os[as++]=dn,dn=t;var _=Js;t=Zs;var N=32-ys(_)-1;_&=~(1<<N),c+=1;var T=32-ys(i)+N;if(30<T){var F=N-N%5;T=(_&(1<<F)-1).toString(32),_>>=F,N-=F,Js=1<<32-ys(i)+N|c<<N|_,Zs=T+t}else Js=1<<T|c<<N|_,Zs=t}function au(t){t.return!==null&&(hn(t,1),km(t,1,0))}function lu(t){for(;t===ja;)ja=Jn[--Zn],Jn[Zn]=null,ka=Jn[--Zn],Jn[Zn]=null;for(;t===dn;)dn=os[--as],os[as]=null,Zs=os[--as],os[as]=null,Js=os[--as],os[as]=null}var Yt=null,Xt=null,Ze=!1,ws=null;function Nm(t,i){var c=ds(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=t,i=t.deletions,i===null?(t.deletions=[c],t.flags|=16):i.push(c)}function Em(t,i){switch(t.tag){case 5:var c=t.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,Yt=t,Xt=Er(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,Yt=t,Xt=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=dn!==null?{id:Js,overflow:Zs}:null,t.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=ds(18,null,null,0),c.stateNode=i,c.return=t,t.child=c,Yt=t,Xt=null,!0):!1;default:return!1}}function cu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uu(t){if(Ze){var i=Xt;if(i){var c=i;if(!Em(t,i)){if(cu(t))throw Error(n(418));i=Er(c.nextSibling);var _=Yt;i&&Em(t,i)?Nm(_,c):(t.flags=t.flags&-4097|2,Ze=!1,Yt=t)}}else{if(cu(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ze=!1,Yt=t}}}function Rm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function Na(t){if(t!==Yt)return!1;if(!Ze)return Rm(t),Ze=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!tu(t.type,t.memoizedProps)),i&&(i=Xt)){if(cu(t))throw Pm(),Error(n(418));for(;i;)Nm(t,i),i=Er(i.nextSibling)}if(Rm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var c=t.data;if(c==="/$"){if(i===0){Xt=Er(t.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}t=t.nextSibling}Xt=null}}else Xt=Yt?Er(t.stateNode.nextSibling):null;return!0}function Pm(){for(var t=Xt;t;)t=Er(t.nextSibling)}function ei(){Xt=Yt=null,Ze=!1}function du(t){ws===null?ws=[t]:ws.push(t)}var g1=C.ReactCurrentBatchConfig;function io(t,i,c){if(t=c.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var _=c.stateNode}if(!_)throw Error(n(147,t));var N=_,T=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===T?i.ref:(i=function(F){var q=N.refs;F===null?delete q[T]:q[T]=F},i._stringRef=T,i)}if(typeof t!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,t))}return t}function Ea(t,i){throw t=Object.prototype.toString.call(i),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function Tm(t){var i=t._init;return i(t._payload)}function Dm(t){function i(ee,Y){if(t){var te=ee.deletions;te===null?(ee.deletions=[Y],ee.flags|=16):te.push(Y)}}function c(ee,Y){if(!t)return null;for(;Y!==null;)i(ee,Y),Y=Y.sibling;return null}function _(ee,Y){for(ee=new Map;Y!==null;)Y.key!==null?ee.set(Y.key,Y):ee.set(Y.index,Y),Y=Y.sibling;return ee}function N(ee,Y){return ee=Br(ee,Y),ee.index=0,ee.sibling=null,ee}function T(ee,Y,te){return ee.index=te,t?(te=ee.alternate,te!==null?(te=te.index,te<Y?(ee.flags|=2,Y):te):(ee.flags|=2,Y)):(ee.flags|=1048576,Y)}function F(ee){return t&&ee.alternate===null&&(ee.flags|=2),ee}function q(ee,Y,te,me){return Y===null||Y.tag!==6?(Y=sd(te,ee.mode,me),Y.return=ee,Y):(Y=N(Y,te),Y.return=ee,Y)}function Q(ee,Y,te,me){var be=te.type;return be===L?de(ee,Y,te.props.children,me,te.key):Y!==null&&(Y.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===V&&Tm(be)===Y.type)?(me=N(Y,te.props),me.ref=io(ee,Y,te),me.return=ee,me):(me=Ja(te.type,te.key,te.props,null,ee.mode,me),me.ref=io(ee,Y,te),me.return=ee,me)}function se(ee,Y,te,me){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==te.containerInfo||Y.stateNode.implementation!==te.implementation?(Y=rd(te,ee.mode,me),Y.return=ee,Y):(Y=N(Y,te.children||[]),Y.return=ee,Y)}function de(ee,Y,te,me,be){return Y===null||Y.tag!==7?(Y=_n(te,ee.mode,me,be),Y.return=ee,Y):(Y=N(Y,te),Y.return=ee,Y)}function fe(ee,Y,te){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=sd(""+Y,ee.mode,te),Y.return=ee,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return te=Ja(Y.type,Y.key,Y.props,null,ee.mode,te),te.ref=io(ee,null,Y),te.return=ee,te;case P:return Y=rd(Y,ee.mode,te),Y.return=ee,Y;case V:var me=Y._init;return fe(ee,me(Y._payload),te)}if(Qs(Y)||M(Y))return Y=_n(Y,ee.mode,te,null),Y.return=ee,Y;Ea(ee,Y)}return null}function le(ee,Y,te,me){var be=Y!==null?Y.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return be!==null?null:q(ee,Y,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case E:return te.key===be?Q(ee,Y,te,me):null;case P:return te.key===be?se(ee,Y,te,me):null;case V:return be=te._init,le(ee,Y,be(te._payload),me)}if(Qs(te)||M(te))return be!==null?null:de(ee,Y,te,me,null);Ea(ee,te)}return null}function ve(ee,Y,te,me,be){if(typeof me=="string"&&me!==""||typeof me=="number")return ee=ee.get(te)||null,q(Y,ee,""+me,be);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case E:return ee=ee.get(me.key===null?te:me.key)||null,Q(Y,ee,me,be);case P:return ee=ee.get(me.key===null?te:me.key)||null,se(Y,ee,me,be);case V:var Ce=me._init;return ve(ee,Y,te,Ce(me._payload),be)}if(Qs(me)||M(me))return ee=ee.get(te)||null,de(Y,ee,me,be,null);Ea(Y,me)}return null}function _e(ee,Y,te,me){for(var be=null,Ce=null,je=Y,Re=Y=0,gt=null;je!==null&&Re<te.length;Re++){je.index>Re?(gt=je,je=null):gt=je.sibling;var ze=le(ee,je,te[Re],me);if(ze===null){je===null&&(je=gt);break}t&&je&&ze.alternate===null&&i(ee,je),Y=T(ze,Y,Re),Ce===null?be=ze:Ce.sibling=ze,Ce=ze,je=gt}if(Re===te.length)return c(ee,je),Ze&&hn(ee,Re),be;if(je===null){for(;Re<te.length;Re++)je=fe(ee,te[Re],me),je!==null&&(Y=T(je,Y,Re),Ce===null?be=je:Ce.sibling=je,Ce=je);return Ze&&hn(ee,Re),be}for(je=_(ee,je);Re<te.length;Re++)gt=ve(je,ee,Re,te[Re],me),gt!==null&&(t&&gt.alternate!==null&&je.delete(gt.key===null?Re:gt.key),Y=T(gt,Y,Re),Ce===null?be=gt:Ce.sibling=gt,Ce=gt);return t&&je.forEach(function(Hr){return i(ee,Hr)}),Ze&&hn(ee,Re),be}function we(ee,Y,te,me){var be=M(te);if(typeof be!="function")throw Error(n(150));if(te=be.call(te),te==null)throw Error(n(151));for(var Ce=be=null,je=Y,Re=Y=0,gt=null,ze=te.next();je!==null&&!ze.done;Re++,ze=te.next()){je.index>Re?(gt=je,je=null):gt=je.sibling;var Hr=le(ee,je,ze.value,me);if(Hr===null){je===null&&(je=gt);break}t&&je&&Hr.alternate===null&&i(ee,je),Y=T(Hr,Y,Re),Ce===null?be=Hr:Ce.sibling=Hr,Ce=Hr,je=gt}if(ze.done)return c(ee,je),Ze&&hn(ee,Re),be;if(je===null){for(;!ze.done;Re++,ze=te.next())ze=fe(ee,ze.value,me),ze!==null&&(Y=T(ze,Y,Re),Ce===null?be=ze:Ce.sibling=ze,Ce=ze);return Ze&&hn(ee,Re),be}for(je=_(ee,je);!ze.done;Re++,ze=te.next())ze=ve(je,ee,Re,ze.value,me),ze!==null&&(t&&ze.alternate!==null&&je.delete(ze.key===null?Re:ze.key),Y=T(ze,Y,Re),Ce===null?be=ze:Ce.sibling=ze,Ce=ze);return t&&je.forEach(function(Q1){return i(ee,Q1)}),Ze&&hn(ee,Re),be}function at(ee,Y,te,me){if(typeof te=="object"&&te!==null&&te.type===L&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case E:e:{for(var be=te.key,Ce=Y;Ce!==null;){if(Ce.key===be){if(be=te.type,be===L){if(Ce.tag===7){c(ee,Ce.sibling),Y=N(Ce,te.props.children),Y.return=ee,ee=Y;break e}}else if(Ce.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===V&&Tm(be)===Ce.type){c(ee,Ce.sibling),Y=N(Ce,te.props),Y.ref=io(ee,Ce,te),Y.return=ee,ee=Y;break e}c(ee,Ce);break}else i(ee,Ce);Ce=Ce.sibling}te.type===L?(Y=_n(te.props.children,ee.mode,me,te.key),Y.return=ee,ee=Y):(me=Ja(te.type,te.key,te.props,null,ee.mode,me),me.ref=io(ee,Y,te),me.return=ee,ee=me)}return F(ee);case P:e:{for(Ce=te.key;Y!==null;){if(Y.key===Ce)if(Y.tag===4&&Y.stateNode.containerInfo===te.containerInfo&&Y.stateNode.implementation===te.implementation){c(ee,Y.sibling),Y=N(Y,te.children||[]),Y.return=ee,ee=Y;break e}else{c(ee,Y);break}else i(ee,Y);Y=Y.sibling}Y=rd(te,ee.mode,me),Y.return=ee,ee=Y}return F(ee);case V:return Ce=te._init,at(ee,Y,Ce(te._payload),me)}if(Qs(te))return _e(ee,Y,te,me);if(M(te))return we(ee,Y,te,me);Ea(ee,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,Y!==null&&Y.tag===6?(c(ee,Y.sibling),Y=N(Y,te),Y.return=ee,ee=Y):(c(ee,Y),Y=sd(te,ee.mode,me),Y.return=ee,ee=Y),F(ee)):c(ee,Y)}return at}var ti=Dm(!0),Mm=Dm(!1),Ra=Rr(null),Pa=null,si=null,hu=null;function fu(){hu=si=Pa=null}function mu(t){var i=Ra.current;Ye(Ra),t._currentValue=i}function pu(t,i,c){for(;t!==null;){var _=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,_!==null&&(_.childLanes|=i)):_!==null&&(_.childLanes&i)!==i&&(_.childLanes|=i),t===c)break;t=t.return}}function ri(t,i){Pa=t,hu=si=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&i)!==0&&(Bt=!0),t.firstContext=null)}function ls(t){var i=t._currentValue;if(hu!==t)if(t={context:t,memoizedValue:i,next:null},si===null){if(Pa===null)throw Error(n(308));si=t,Pa.dependencies={lanes:0,firstContext:t}}else si=si.next=t;return i}var fn=null;function gu(t){fn===null?fn=[t]:fn.push(t)}function Lm(t,i,c,_){var N=i.interleaved;return N===null?(c.next=c,gu(i)):(c.next=N.next,N.next=c),i.interleaved=c,er(t,_)}function er(t,i){t.lanes|=i;var c=t.alternate;for(c!==null&&(c.lanes|=i),c=t,t=t.return;t!==null;)t.childLanes|=i,c=t.alternate,c!==null&&(c.childLanes|=i),c=t,t=t.return;return c.tag===3?c.stateNode:null}var Dr=!1;function vu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Am(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tr(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function Mr(t,i,c){var _=t.updateQueue;if(_===null)return null;if(_=_.shared,(He&2)!==0){var N=_.pending;return N===null?i.next=i:(i.next=N.next,N.next=i),_.pending=i,er(t,c)}return N=_.interleaved,N===null?(i.next=i,gu(_)):(i.next=N.next,N.next=i),_.interleaved=i,er(t,c)}function Ta(t,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var _=i.lanes;_&=t.pendingLanes,c|=_,i.lanes=c,Tc(t,c)}}function Om(t,i){var c=t.updateQueue,_=t.alternate;if(_!==null&&(_=_.updateQueue,c===_)){var N=null,T=null;if(c=c.firstBaseUpdate,c!==null){do{var F={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};T===null?N=T=F:T=T.next=F,c=c.next}while(c!==null);T===null?N=T=i:T=T.next=i}else N=T=i;c={baseState:_.baseState,firstBaseUpdate:N,lastBaseUpdate:T,shared:_.shared,effects:_.effects},t.updateQueue=c;return}t=c.lastBaseUpdate,t===null?c.firstBaseUpdate=i:t.next=i,c.lastBaseUpdate=i}function Da(t,i,c,_){var N=t.updateQueue;Dr=!1;var T=N.firstBaseUpdate,F=N.lastBaseUpdate,q=N.shared.pending;if(q!==null){N.shared.pending=null;var Q=q,se=Q.next;Q.next=null,F===null?T=se:F.next=se,F=Q;var de=t.alternate;de!==null&&(de=de.updateQueue,q=de.lastBaseUpdate,q!==F&&(q===null?de.firstBaseUpdate=se:q.next=se,de.lastBaseUpdate=Q))}if(T!==null){var fe=N.baseState;F=0,de=se=Q=null,q=T;do{var le=q.lane,ve=q.eventTime;if((_&le)===le){de!==null&&(de=de.next={eventTime:ve,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var _e=t,we=q;switch(le=i,ve=c,we.tag){case 1:if(_e=we.payload,typeof _e=="function"){fe=_e.call(ve,fe,le);break e}fe=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,le=typeof _e=="function"?_e.call(ve,fe,le):_e,le==null)break e;fe=H({},fe,le);break e;case 2:Dr=!0}}q.callback!==null&&q.lane!==0&&(t.flags|=64,le=N.effects,le===null?N.effects=[q]:le.push(q))}else ve={eventTime:ve,lane:le,tag:q.tag,payload:q.payload,callback:q.callback,next:null},de===null?(se=de=ve,Q=fe):de=de.next=ve,F|=le;if(q=q.next,q===null){if(q=N.shared.pending,q===null)break;le=q,q=le.next,le.next=null,N.lastBaseUpdate=le,N.shared.pending=null}}while(!0);if(de===null&&(Q=fe),N.baseState=Q,N.firstBaseUpdate=se,N.lastBaseUpdate=de,i=N.shared.interleaved,i!==null){N=i;do F|=N.lane,N=N.next;while(N!==i)}else T===null&&(N.shared.lanes=0);gn|=F,t.lanes=F,t.memoizedState=fe}}function Im(t,i,c){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var _=t[i],N=_.callback;if(N!==null){if(_.callback=null,_=c,typeof N!="function")throw Error(n(191,N));N.call(_)}}}var oo={},As=Rr(oo),ao=Rr(oo),lo=Rr(oo);function mn(t){if(t===oo)throw Error(n(174));return t}function xu(t,i){switch(Ke(lo,i),Ke(ao,t),Ke(As,oo),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:an(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=an(i,t)}Ye(As),Ke(As,i)}function ni(){Ye(As),Ye(ao),Ye(lo)}function Fm(t){mn(lo.current);var i=mn(As.current),c=an(i,t.type);i!==c&&(Ke(ao,t),Ke(As,c))}function yu(t){ao.current===t&&(Ye(As),Ye(ao))}var et=Rr(0);function Ma(t){for(var i=t;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var _u=[];function wu(){for(var t=0;t<_u.length;t++)_u[t]._workInProgressVersionPrimary=null;_u.length=0}var La=C.ReactCurrentDispatcher,bu=C.ReactCurrentBatchConfig,pn=0,tt=null,ct=null,mt=null,Aa=!1,co=!1,uo=0,v1=0;function Ct(){throw Error(n(321))}function Su(t,i){if(i===null)return!1;for(var c=0;c<i.length&&c<t.length;c++)if(!_s(t[c],i[c]))return!1;return!0}function Cu(t,i,c,_,N,T){if(pn=T,tt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,La.current=t===null||t.memoizedState===null?w1:b1,t=c(_,N),co){T=0;do{if(co=!1,uo=0,25<=T)throw Error(n(301));T+=1,mt=ct=null,i.updateQueue=null,La.current=S1,t=c(_,N)}while(co)}if(La.current=Fa,i=ct!==null&&ct.next!==null,pn=0,mt=ct=tt=null,Aa=!1,i)throw Error(n(300));return t}function ju(){var t=uo!==0;return uo=0,t}function Os(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?tt.memoizedState=mt=t:mt=mt.next=t,mt}function cs(){if(ct===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var i=mt===null?tt.memoizedState:mt.next;if(i!==null)mt=i,ct=t;else{if(t===null)throw Error(n(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},mt===null?tt.memoizedState=mt=t:mt=mt.next=t}return mt}function ho(t,i){return typeof i=="function"?i(t):i}function ku(t){var i=cs(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=t;var _=ct,N=_.baseQueue,T=c.pending;if(T!==null){if(N!==null){var F=N.next;N.next=T.next,T.next=F}_.baseQueue=N=T,c.pending=null}if(N!==null){T=N.next,_=_.baseState;var q=F=null,Q=null,se=T;do{var de=se.lane;if((pn&de)===de)Q!==null&&(Q=Q.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),_=se.hasEagerState?se.eagerState:t(_,se.action);else{var fe={lane:de,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};Q===null?(q=Q=fe,F=_):Q=Q.next=fe,tt.lanes|=de,gn|=de}se=se.next}while(se!==null&&se!==T);Q===null?F=_:Q.next=q,_s(_,i.memoizedState)||(Bt=!0),i.memoizedState=_,i.baseState=F,i.baseQueue=Q,c.lastRenderedState=_}if(t=c.interleaved,t!==null){N=t;do T=N.lane,tt.lanes|=T,gn|=T,N=N.next;while(N!==t)}else N===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function Nu(t){var i=cs(),c=i.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=t;var _=c.dispatch,N=c.pending,T=i.memoizedState;if(N!==null){c.pending=null;var F=N=N.next;do T=t(T,F.action),F=F.next;while(F!==N);_s(T,i.memoizedState)||(Bt=!0),i.memoizedState=T,i.baseQueue===null&&(i.baseState=T),c.lastRenderedState=T}return[T,_]}function Bm(){}function Hm(t,i){var c=tt,_=cs(),N=i(),T=!_s(_.memoizedState,N);if(T&&(_.memoizedState=N,Bt=!0),_=_.queue,Eu($m.bind(null,c,_,t),[t]),_.getSnapshot!==i||T||mt!==null&&mt.memoizedState.tag&1){if(c.flags|=2048,fo(9,Um.bind(null,c,_,N,i),void 0,null),pt===null)throw Error(n(349));(pn&30)!==0||zm(c,i,N)}return N}function zm(t,i,c){t.flags|=16384,t={getSnapshot:i,value:c},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.stores=[t]):(c=i.stores,c===null?i.stores=[t]:c.push(t))}function Um(t,i,c,_){i.value=c,i.getSnapshot=_,Wm(i)&&qm(t)}function $m(t,i,c){return c(function(){Wm(i)&&qm(t)})}function Wm(t){var i=t.getSnapshot;t=t.value;try{var c=i();return!_s(t,c)}catch{return!0}}function qm(t){var i=er(t,1);i!==null&&js(i,t,1,-1)}function Km(t){var i=Os();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:t},i.queue=t,t=t.dispatch=_1.bind(null,tt,t),[i.memoizedState,t]}function fo(t,i,c,_){return t={tag:t,create:i,destroy:c,deps:_,next:null},i=tt.updateQueue,i===null?(i={lastEffect:null,stores:null},tt.updateQueue=i,i.lastEffect=t.next=t):(c=i.lastEffect,c===null?i.lastEffect=t.next=t:(_=c.next,c.next=t,t.next=_,i.lastEffect=t)),t}function Vm(){return cs().memoizedState}function Oa(t,i,c,_){var N=Os();tt.flags|=t,N.memoizedState=fo(1|i,c,void 0,_===void 0?null:_)}function Ia(t,i,c,_){var N=cs();_=_===void 0?null:_;var T=void 0;if(ct!==null){var F=ct.memoizedState;if(T=F.destroy,_!==null&&Su(_,F.deps)){N.memoizedState=fo(i,c,T,_);return}}tt.flags|=t,N.memoizedState=fo(1|i,c,T,_)}function Gm(t,i){return Oa(8390656,8,t,i)}function Eu(t,i){return Ia(2048,8,t,i)}function Qm(t,i){return Ia(4,2,t,i)}function Ym(t,i){return Ia(4,4,t,i)}function Xm(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Jm(t,i,c){return c=c!=null?c.concat([t]):null,Ia(4,4,Xm.bind(null,i,t),c)}function Ru(){}function Zm(t,i){var c=cs();i=i===void 0?null:i;var _=c.memoizedState;return _!==null&&i!==null&&Su(i,_[1])?_[0]:(c.memoizedState=[t,i],t)}function ep(t,i){var c=cs();i=i===void 0?null:i;var _=c.memoizedState;return _!==null&&i!==null&&Su(i,_[1])?_[0]:(t=t(),c.memoizedState=[t,i],t)}function tp(t,i,c){return(pn&21)===0?(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=c):(_s(c,i)||(c=Tf(),tt.lanes|=c,gn|=c,t.baseState=!0),i)}function x1(t,i){var c=Ue;Ue=c!==0&&4>c?c:4,t(!0);var _=bu.transition;bu.transition={};try{t(!1),i()}finally{Ue=c,bu.transition=_}}function sp(){return cs().memoizedState}function y1(t,i,c){var _=Ir(t);if(c={lane:_,action:c,hasEagerState:!1,eagerState:null,next:null},rp(t))np(i,c);else if(c=Lm(t,i,c,_),c!==null){var N=Tt();js(c,t,_,N),ip(c,i,_)}}function _1(t,i,c){var _=Ir(t),N={lane:_,action:c,hasEagerState:!1,eagerState:null,next:null};if(rp(t))np(i,N);else{var T=t.alternate;if(t.lanes===0&&(T===null||T.lanes===0)&&(T=i.lastRenderedReducer,T!==null))try{var F=i.lastRenderedState,q=T(F,c);if(N.hasEagerState=!0,N.eagerState=q,_s(q,F)){var Q=i.interleaved;Q===null?(N.next=N,gu(i)):(N.next=Q.next,Q.next=N),i.interleaved=N;return}}catch{}c=Lm(t,i,N,_),c!==null&&(N=Tt(),js(c,t,_,N),ip(c,i,_))}}function rp(t){var i=t.alternate;return t===tt||i!==null&&i===tt}function np(t,i){co=Aa=!0;var c=t.pending;c===null?i.next=i:(i.next=c.next,c.next=i),t.pending=i}function ip(t,i,c){if((c&4194240)!==0){var _=i.lanes;_&=t.pendingLanes,c|=_,i.lanes=c,Tc(t,c)}}var Fa={readContext:ls,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},w1={readContext:ls,useCallback:function(t,i){return Os().memoizedState=[t,i===void 0?null:i],t},useContext:ls,useEffect:Gm,useImperativeHandle:function(t,i,c){return c=c!=null?c.concat([t]):null,Oa(4194308,4,Xm.bind(null,i,t),c)},useLayoutEffect:function(t,i){return Oa(4194308,4,t,i)},useInsertionEffect:function(t,i){return Oa(4,2,t,i)},useMemo:function(t,i){var c=Os();return i=i===void 0?null:i,t=t(),c.memoizedState=[t,i],t},useReducer:function(t,i,c){var _=Os();return i=c!==void 0?c(i):i,_.memoizedState=_.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},_.queue=t,t=t.dispatch=y1.bind(null,tt,t),[_.memoizedState,t]},useRef:function(t){var i=Os();return t={current:t},i.memoizedState=t},useState:Km,useDebugValue:Ru,useDeferredValue:function(t){return Os().memoizedState=t},useTransition:function(){var t=Km(!1),i=t[0];return t=x1.bind(null,t[1]),Os().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,c){var _=tt,N=Os();if(Ze){if(c===void 0)throw Error(n(407));c=c()}else{if(c=i(),pt===null)throw Error(n(349));(pn&30)!==0||zm(_,i,c)}N.memoizedState=c;var T={value:c,getSnapshot:i};return N.queue=T,Gm($m.bind(null,_,T,t),[t]),_.flags|=2048,fo(9,Um.bind(null,_,T,c,i),void 0,null),c},useId:function(){var t=Os(),i=pt.identifierPrefix;if(Ze){var c=Zs,_=Js;c=(_&~(1<<32-ys(_)-1)).toString(32)+c,i=":"+i+"R"+c,c=uo++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=v1++,i=":"+i+"r"+c.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},b1={readContext:ls,useCallback:Zm,useContext:ls,useEffect:Eu,useImperativeHandle:Jm,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:ep,useReducer:ku,useRef:Vm,useState:function(){return ku(ho)},useDebugValue:Ru,useDeferredValue:function(t){var i=cs();return tp(i,ct.memoizedState,t)},useTransition:function(){var t=ku(ho)[0],i=cs().memoizedState;return[t,i]},useMutableSource:Bm,useSyncExternalStore:Hm,useId:sp,unstable_isNewReconciler:!1},S1={readContext:ls,useCallback:Zm,useContext:ls,useEffect:Eu,useImperativeHandle:Jm,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:ep,useReducer:Nu,useRef:Vm,useState:function(){return Nu(ho)},useDebugValue:Ru,useDeferredValue:function(t){var i=cs();return ct===null?i.memoizedState=t:tp(i,ct.memoizedState,t)},useTransition:function(){var t=Nu(ho)[0],i=cs().memoizedState;return[t,i]},useMutableSource:Bm,useSyncExternalStore:Hm,useId:sp,unstable_isNewReconciler:!1};function bs(t,i){if(t&&t.defaultProps){i=H({},i),t=t.defaultProps;for(var c in t)i[c]===void 0&&(i[c]=t[c]);return i}return i}function Pu(t,i,c,_){i=t.memoizedState,c=c(_,i),c=c==null?i:H({},i,c),t.memoizedState=c,t.lanes===0&&(t.updateQueue.baseState=c)}var Ba={isMounted:function(t){return(t=t._reactInternals)?ln(t)===t:!1},enqueueSetState:function(t,i,c){t=t._reactInternals;var _=Tt(),N=Ir(t),T=tr(_,N);T.payload=i,c!=null&&(T.callback=c),i=Mr(t,T,N),i!==null&&(js(i,t,N,_),Ta(i,t,N))},enqueueReplaceState:function(t,i,c){t=t._reactInternals;var _=Tt(),N=Ir(t),T=tr(_,N);T.tag=1,T.payload=i,c!=null&&(T.callback=c),i=Mr(t,T,N),i!==null&&(js(i,t,N,_),Ta(i,t,N))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var c=Tt(),_=Ir(t),N=tr(c,_);N.tag=2,i!=null&&(N.callback=i),i=Mr(t,N,_),i!==null&&(js(i,t,_,c),Ta(i,t,_))}};function op(t,i,c,_,N,T,F){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(_,T,F):i.prototype&&i.prototype.isPureReactComponent?!Ji(c,_)||!Ji(N,T):!0}function ap(t,i,c){var _=!1,N=Pr,T=i.contextType;return typeof T=="object"&&T!==null?T=ls(T):(N=Ft(i)?un:St.current,_=i.contextTypes,T=(_=_!=null)?Xn(t,N):Pr),i=new i(c,T),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ba,t.stateNode=i,i._reactInternals=t,_&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=N,t.__reactInternalMemoizedMaskedChildContext=T),i}function lp(t,i,c,_){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,_),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,_),i.state!==t&&Ba.enqueueReplaceState(i,i.state,null)}function Tu(t,i,c,_){var N=t.stateNode;N.props=c,N.state=t.memoizedState,N.refs={},vu(t);var T=i.contextType;typeof T=="object"&&T!==null?N.context=ls(T):(T=Ft(i)?un:St.current,N.context=Xn(t,T)),N.state=t.memoizedState,T=i.getDerivedStateFromProps,typeof T=="function"&&(Pu(t,i,T,c),N.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(i=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),i!==N.state&&Ba.enqueueReplaceState(N,N.state,null),Da(t,c,N,_),N.state=t.memoizedState),typeof N.componentDidMount=="function"&&(t.flags|=4194308)}function ii(t,i){try{var c="",_=i;do c+=he(_),_=_.return;while(_);var N=c}catch(T){N=`
Error generating stack: `+T.message+`
`+T.stack}return{value:t,source:i,stack:N,digest:null}}function Du(t,i,c){return{value:t,source:null,stack:c??null,digest:i??null}}function Mu(t,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var C1=typeof WeakMap=="function"?WeakMap:Map;function cp(t,i,c){c=tr(-1,c),c.tag=3,c.payload={element:null};var _=i.value;return c.callback=function(){Ka||(Ka=!0,Gu=_),Mu(t,i)},c}function up(t,i,c){c=tr(-1,c),c.tag=3;var _=t.type.getDerivedStateFromError;if(typeof _=="function"){var N=i.value;c.payload=function(){return _(N)},c.callback=function(){Mu(t,i)}}var T=t.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(c.callback=function(){Mu(t,i),typeof _!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var F=i.stack;this.componentDidCatch(i.value,{componentStack:F!==null?F:""})}),c}function dp(t,i,c){var _=t.pingCache;if(_===null){_=t.pingCache=new C1;var N=new Set;_.set(i,N)}else N=_.get(i),N===void 0&&(N=new Set,_.set(i,N));N.has(c)||(N.add(c),t=F1.bind(null,t,i,c),i.then(t,t))}function hp(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function fp(t,i,c,_,N){return(t.mode&1)===0?(t===i?t.flags|=65536:(t.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=tr(-1,1),i.tag=2,Mr(c,i,1))),c.lanes|=1),t):(t.flags|=65536,t.lanes=N,t)}var j1=C.ReactCurrentOwner,Bt=!1;function Pt(t,i,c,_){i.child=t===null?Mm(i,null,c,_):ti(i,t.child,c,_)}function mp(t,i,c,_,N){c=c.render;var T=i.ref;return ri(i,N),_=Cu(t,i,c,_,T,N),c=ju(),t!==null&&!Bt?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~N,sr(t,i,N)):(Ze&&c&&au(i),i.flags|=1,Pt(t,i,_,N),i.child)}function pp(t,i,c,_,N){if(t===null){var T=c.type;return typeof T=="function"&&!td(T)&&T.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=T,gp(t,i,T,_,N)):(t=Ja(c.type,null,_,i,i.mode,N),t.ref=i.ref,t.return=i,i.child=t)}if(T=t.child,(t.lanes&N)===0){var F=T.memoizedProps;if(c=c.compare,c=c!==null?c:Ji,c(F,_)&&t.ref===i.ref)return sr(t,i,N)}return i.flags|=1,t=Br(T,_),t.ref=i.ref,t.return=i,i.child=t}function gp(t,i,c,_,N){if(t!==null){var T=t.memoizedProps;if(Ji(T,_)&&t.ref===i.ref)if(Bt=!1,i.pendingProps=_=T,(t.lanes&N)!==0)(t.flags&131072)!==0&&(Bt=!0);else return i.lanes=t.lanes,sr(t,i,N)}return Lu(t,i,c,_,N)}function vp(t,i,c){var _=i.pendingProps,N=_.children,T=t!==null?t.memoizedState:null;if(_.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(ai,Jt),Jt|=c;else{if((c&1073741824)===0)return t=T!==null?T.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,Ke(ai,Jt),Jt|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=T!==null?T.baseLanes:c,Ke(ai,Jt),Jt|=_}else T!==null?(_=T.baseLanes|c,i.memoizedState=null):_=c,Ke(ai,Jt),Jt|=_;return Pt(t,i,N,c),i.child}function xp(t,i){var c=i.ref;(t===null&&c!==null||t!==null&&t.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function Lu(t,i,c,_,N){var T=Ft(c)?un:St.current;return T=Xn(i,T),ri(i,N),c=Cu(t,i,c,_,T,N),_=ju(),t!==null&&!Bt?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~N,sr(t,i,N)):(Ze&&_&&au(i),i.flags|=1,Pt(t,i,c,N),i.child)}function yp(t,i,c,_,N){if(Ft(c)){var T=!0;Sa(i)}else T=!1;if(ri(i,N),i.stateNode===null)za(t,i),ap(i,c,_),Tu(i,c,_,N),_=!0;else if(t===null){var F=i.stateNode,q=i.memoizedProps;F.props=q;var Q=F.context,se=c.contextType;typeof se=="object"&&se!==null?se=ls(se):(se=Ft(c)?un:St.current,se=Xn(i,se));var de=c.getDerivedStateFromProps,fe=typeof de=="function"||typeof F.getSnapshotBeforeUpdate=="function";fe||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(q!==_||Q!==se)&&lp(i,F,_,se),Dr=!1;var le=i.memoizedState;F.state=le,Da(i,_,F,N),Q=i.memoizedState,q!==_||le!==Q||It.current||Dr?(typeof de=="function"&&(Pu(i,c,de,_),Q=i.memoizedState),(q=Dr||op(i,c,q,_,le,Q,se))?(fe||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(i.flags|=4194308)):(typeof F.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=_,i.memoizedState=Q),F.props=_,F.state=Q,F.context=se,_=q):(typeof F.componentDidMount=="function"&&(i.flags|=4194308),_=!1)}else{F=i.stateNode,Am(t,i),q=i.memoizedProps,se=i.type===i.elementType?q:bs(i.type,q),F.props=se,fe=i.pendingProps,le=F.context,Q=c.contextType,typeof Q=="object"&&Q!==null?Q=ls(Q):(Q=Ft(c)?un:St.current,Q=Xn(i,Q));var ve=c.getDerivedStateFromProps;(de=typeof ve=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(q!==fe||le!==Q)&&lp(i,F,_,Q),Dr=!1,le=i.memoizedState,F.state=le,Da(i,_,F,N);var _e=i.memoizedState;q!==fe||le!==_e||It.current||Dr?(typeof ve=="function"&&(Pu(i,c,ve,_),_e=i.memoizedState),(se=Dr||op(i,c,se,_,le,_e,Q)||!1)?(de||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(_,_e,Q),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(_,_e,Q)),typeof F.componentDidUpdate=="function"&&(i.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof F.componentDidUpdate!="function"||q===t.memoizedProps&&le===t.memoizedState||(i.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||q===t.memoizedProps&&le===t.memoizedState||(i.flags|=1024),i.memoizedProps=_,i.memoizedState=_e),F.props=_,F.state=_e,F.context=Q,_=se):(typeof F.componentDidUpdate!="function"||q===t.memoizedProps&&le===t.memoizedState||(i.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||q===t.memoizedProps&&le===t.memoizedState||(i.flags|=1024),_=!1)}return Au(t,i,c,_,T,N)}function Au(t,i,c,_,N,T){xp(t,i);var F=(i.flags&128)!==0;if(!_&&!F)return N&&Cm(i,c,!1),sr(t,i,T);_=i.stateNode,j1.current=i;var q=F&&typeof c.getDerivedStateFromError!="function"?null:_.render();return i.flags|=1,t!==null&&F?(i.child=ti(i,t.child,null,T),i.child=ti(i,null,q,T)):Pt(t,i,q,T),i.memoizedState=_.state,N&&Cm(i,c,!0),i.child}function _p(t){var i=t.stateNode;i.pendingContext?bm(t,i.pendingContext,i.pendingContext!==i.context):i.context&&bm(t,i.context,!1),xu(t,i.containerInfo)}function wp(t,i,c,_,N){return ei(),du(N),i.flags|=256,Pt(t,i,c,_),i.child}var Ou={dehydrated:null,treeContext:null,retryLane:0};function Iu(t){return{baseLanes:t,cachePool:null,transitions:null}}function bp(t,i,c){var _=i.pendingProps,N=et.current,T=!1,F=(i.flags&128)!==0,q;if((q=F)||(q=t!==null&&t.memoizedState===null?!1:(N&2)!==0),q?(T=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(N|=1),Ke(et,N&1),t===null)return uu(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((i.mode&1)===0?i.lanes=1:t.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(F=_.children,t=_.fallback,T?(_=i.mode,T=i.child,F={mode:"hidden",children:F},(_&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=F):T=Za(F,_,0,null),t=_n(t,_,c,null),T.return=i,t.return=i,T.sibling=t,i.child=T,i.child.memoizedState=Iu(c),i.memoizedState=Ou,t):Fu(i,F));if(N=t.memoizedState,N!==null&&(q=N.dehydrated,q!==null))return k1(t,i,F,_,q,N,c);if(T){T=_.fallback,F=i.mode,N=t.child,q=N.sibling;var Q={mode:"hidden",children:_.children};return(F&1)===0&&i.child!==N?(_=i.child,_.childLanes=0,_.pendingProps=Q,i.deletions=null):(_=Br(N,Q),_.subtreeFlags=N.subtreeFlags&14680064),q!==null?T=Br(q,T):(T=_n(T,F,c,null),T.flags|=2),T.return=i,_.return=i,_.sibling=T,i.child=_,_=T,T=i.child,F=t.child.memoizedState,F=F===null?Iu(c):{baseLanes:F.baseLanes|c,cachePool:null,transitions:F.transitions},T.memoizedState=F,T.childLanes=t.childLanes&~c,i.memoizedState=Ou,_}return T=t.child,t=T.sibling,_=Br(T,{mode:"visible",children:_.children}),(i.mode&1)===0&&(_.lanes=c),_.return=i,_.sibling=null,t!==null&&(c=i.deletions,c===null?(i.deletions=[t],i.flags|=16):c.push(t)),i.child=_,i.memoizedState=null,_}function Fu(t,i){return i=Za({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function Ha(t,i,c,_){return _!==null&&du(_),ti(i,t.child,null,c),t=Fu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function k1(t,i,c,_,N,T,F){if(c)return i.flags&256?(i.flags&=-257,_=Du(Error(n(422))),Ha(t,i,F,_)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(T=_.fallback,N=i.mode,_=Za({mode:"visible",children:_.children},N,0,null),T=_n(T,N,F,null),T.flags|=2,_.return=i,T.return=i,_.sibling=T,i.child=_,(i.mode&1)!==0&&ti(i,t.child,null,F),i.child.memoizedState=Iu(F),i.memoizedState=Ou,T);if((i.mode&1)===0)return Ha(t,i,F,null);if(N.data==="$!"){if(_=N.nextSibling&&N.nextSibling.dataset,_)var q=_.dgst;return _=q,T=Error(n(419)),_=Du(T,_,void 0),Ha(t,i,F,_)}if(q=(F&t.childLanes)!==0,Bt||q){if(_=pt,_!==null){switch(F&-F){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(_.suspendedLanes|F))!==0?0:N,N!==0&&N!==T.retryLane&&(T.retryLane=N,er(t,N),js(_,t,N,-1))}return ed(),_=Du(Error(n(421))),Ha(t,i,F,_)}return N.data==="$?"?(i.flags|=128,i.child=t.child,i=B1.bind(null,t),N._reactRetry=i,null):(t=T.treeContext,Xt=Er(N.nextSibling),Yt=i,Ze=!0,ws=null,t!==null&&(os[as++]=Js,os[as++]=Zs,os[as++]=dn,Js=t.id,Zs=t.overflow,dn=i),i=Fu(i,_.children),i.flags|=4096,i)}function Sp(t,i,c){t.lanes|=i;var _=t.alternate;_!==null&&(_.lanes|=i),pu(t.return,i,c)}function Bu(t,i,c,_,N){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:_,tail:c,tailMode:N}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=_,T.tail=c,T.tailMode=N)}function Cp(t,i,c){var _=i.pendingProps,N=_.revealOrder,T=_.tail;if(Pt(t,i,_.children,c),_=et.current,(_&2)!==0)_=_&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sp(t,c,i);else if(t.tag===19)Sp(t,c,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}_&=1}if(Ke(et,_),(i.mode&1)===0)i.memoizedState=null;else switch(N){case"forwards":for(c=i.child,N=null;c!==null;)t=c.alternate,t!==null&&Ma(t)===null&&(N=c),c=c.sibling;c=N,c===null?(N=i.child,i.child=null):(N=c.sibling,c.sibling=null),Bu(i,!1,N,c,T);break;case"backwards":for(c=null,N=i.child,i.child=null;N!==null;){if(t=N.alternate,t!==null&&Ma(t)===null){i.child=N;break}t=N.sibling,N.sibling=c,c=N,N=t}Bu(i,!0,c,null,T);break;case"together":Bu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function za(t,i){(i.mode&1)===0&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function sr(t,i,c){if(t!==null&&(i.dependencies=t.dependencies),gn|=i.lanes,(c&i.childLanes)===0)return null;if(t!==null&&i.child!==t.child)throw Error(n(153));if(i.child!==null){for(t=i.child,c=Br(t,t.pendingProps),i.child=c,c.return=i;t.sibling!==null;)t=t.sibling,c=c.sibling=Br(t,t.pendingProps),c.return=i;c.sibling=null}return i.child}function N1(t,i,c){switch(i.tag){case 3:_p(i),ei();break;case 5:Fm(i);break;case 1:Ft(i.type)&&Sa(i);break;case 4:xu(i,i.stateNode.containerInfo);break;case 10:var _=i.type._context,N=i.memoizedProps.value;Ke(Ra,_._currentValue),_._currentValue=N;break;case 13:if(_=i.memoizedState,_!==null)return _.dehydrated!==null?(Ke(et,et.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?bp(t,i,c):(Ke(et,et.current&1),t=sr(t,i,c),t!==null?t.sibling:null);Ke(et,et.current&1);break;case 19:if(_=(c&i.childLanes)!==0,(t.flags&128)!==0){if(_)return Cp(t,i,c);i.flags|=128}if(N=i.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Ke(et,et.current),_)break;return null;case 22:case 23:return i.lanes=0,vp(t,i,c)}return sr(t,i,c)}var jp,Hu,kp,Np;jp=function(t,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Hu=function(){},kp=function(t,i,c,_){var N=t.memoizedProps;if(N!==_){t=i.stateNode,mn(As.current);var T=null;switch(c){case"input":N=it(t,N),_=it(t,_),T=[];break;case"select":N=H({},N,{value:void 0}),_=H({},_,{value:void 0}),T=[];break;case"textarea":N=yr(t,N),_=yr(t,_),T=[];break;default:typeof N.onClick!="function"&&typeof _.onClick=="function"&&(t.onclick=_a)}_c(c,_);var F;c=null;for(se in N)if(!_.hasOwnProperty(se)&&N.hasOwnProperty(se)&&N[se]!=null)if(se==="style"){var q=N[se];for(F in q)q.hasOwnProperty(F)&&(c||(c={}),c[F]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(a.hasOwnProperty(se)?T||(T=[]):(T=T||[]).push(se,null));for(se in _){var Q=_[se];if(q=N?.[se],_.hasOwnProperty(se)&&Q!==q&&(Q!=null||q!=null))if(se==="style")if(q){for(F in q)!q.hasOwnProperty(F)||Q&&Q.hasOwnProperty(F)||(c||(c={}),c[F]="");for(F in Q)Q.hasOwnProperty(F)&&q[F]!==Q[F]&&(c||(c={}),c[F]=Q[F])}else c||(T||(T=[]),T.push(se,c)),c=Q;else se==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,q=q?q.__html:void 0,Q!=null&&q!==Q&&(T=T||[]).push(se,Q)):se==="children"?typeof Q!="string"&&typeof Q!="number"||(T=T||[]).push(se,""+Q):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(a.hasOwnProperty(se)?(Q!=null&&se==="onScroll"&&Qe("scroll",t),T||q===Q||(T=[])):(T=T||[]).push(se,Q))}c&&(T=T||[]).push("style",c);var se=T;(i.updateQueue=se)&&(i.flags|=4)}},Np=function(t,i,c,_){c!==_&&(i.flags|=4)};function mo(t,i){if(!Ze)switch(t.tailMode){case"hidden":i=t.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?t.tail=null:c.sibling=null;break;case"collapsed":c=t.tail;for(var _=null;c!==null;)c.alternate!==null&&(_=c),c=c.sibling;_===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:_.sibling=null}}function jt(t){var i=t.alternate!==null&&t.alternate.child===t.child,c=0,_=0;if(i)for(var N=t.child;N!==null;)c|=N.lanes|N.childLanes,_|=N.subtreeFlags&14680064,_|=N.flags&14680064,N.return=t,N=N.sibling;else for(N=t.child;N!==null;)c|=N.lanes|N.childLanes,_|=N.subtreeFlags,_|=N.flags,N.return=t,N=N.sibling;return t.subtreeFlags|=_,t.childLanes=c,i}function E1(t,i,c){var _=i.pendingProps;switch(lu(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(i),null;case 1:return Ft(i.type)&&ba(),jt(i),null;case 3:return _=i.stateNode,ni(),Ye(It),Ye(St),wu(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(t===null||t.child===null)&&(Na(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ws!==null&&(Xu(ws),ws=null))),Hu(t,i),jt(i),null;case 5:yu(i);var N=mn(lo.current);if(c=i.type,t!==null&&i.stateNode!=null)kp(t,i,c,_,N),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!_){if(i.stateNode===null)throw Error(n(166));return jt(i),null}if(t=mn(As.current),Na(i)){_=i.stateNode,c=i.type;var T=i.memoizedProps;switch(_[Ls]=i,_[ro]=T,t=(i.mode&1)!==0,c){case"dialog":Qe("cancel",_),Qe("close",_);break;case"iframe":case"object":case"embed":Qe("load",_);break;case"video":case"audio":for(N=0;N<eo.length;N++)Qe(eo[N],_);break;case"source":Qe("error",_);break;case"img":case"image":case"link":Qe("error",_),Qe("load",_);break;case"details":Qe("toggle",_);break;case"input":_t(_,T),Qe("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!T.multiple},Qe("invalid",_);break;case"textarea":Rt(_,T),Qe("invalid",_)}_c(c,T),N=null;for(var F in T)if(T.hasOwnProperty(F)){var q=T[F];F==="children"?typeof q=="string"?_.textContent!==q&&(T.suppressHydrationWarning!==!0&&ya(_.textContent,q,t),N=["children",q]):typeof q=="number"&&_.textContent!==""+q&&(T.suppressHydrationWarning!==!0&&ya(_.textContent,q,t),N=["children",""+q]):a.hasOwnProperty(F)&&q!=null&&F==="onScroll"&&Qe("scroll",_)}switch(c){case"input":Ne(_),xr(_,T,!0);break;case"textarea":Ne(_),Vt(_);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(_.onclick=_a)}_=N,i.updateQueue=_,_!==null&&(i.flags|=4)}else{F=N.nodeType===9?N:N.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wr(c)),t==="http://www.w3.org/1999/xhtml"?c==="script"?(t=F.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof _.is=="string"?t=F.createElement(c,{is:_.is}):(t=F.createElement(c),c==="select"&&(F=t,_.multiple?F.multiple=!0:_.size&&(F.size=_.size))):t=F.createElementNS(t,c),t[Ls]=i,t[ro]=_,jp(t,i,!1,!1),i.stateNode=t;e:{switch(F=wc(c,_),c){case"dialog":Qe("cancel",t),Qe("close",t),N=_;break;case"iframe":case"object":case"embed":Qe("load",t),N=_;break;case"video":case"audio":for(N=0;N<eo.length;N++)Qe(eo[N],t);N=_;break;case"source":Qe("error",t),N=_;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),N=_;break;case"details":Qe("toggle",t),N=_;break;case"input":_t(t,_),N=it(t,_),Qe("invalid",t);break;case"option":N=_;break;case"select":t._wrapperState={wasMultiple:!!_.multiple},N=H({},_,{value:void 0}),Qe("invalid",t);break;case"textarea":Rt(t,_),N=yr(t,_),Qe("invalid",t);break;default:N=_}_c(c,N),q=N;for(T in q)if(q.hasOwnProperty(T)){var Q=q[T];T==="style"?gf(t,Q):T==="dangerouslySetInnerHTML"?(Q=Q?Q.__html:void 0,Q!=null&&Bn(t,Q)):T==="children"?typeof Q=="string"?(c!=="textarea"||Q!=="")&&Ot(t,Q):typeof Q=="number"&&Ot(t,""+Q):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(a.hasOwnProperty(T)?Q!=null&&T==="onScroll"&&Qe("scroll",t):Q!=null&&g(t,T,Q,F))}switch(c){case"input":Ne(t),xr(t,_,!1);break;case"textarea":Ne(t),Vt(t);break;case"option":_.value!=null&&t.setAttribute("value",""+X(_.value));break;case"select":t.multiple=!!_.multiple,T=_.value,T!=null?Ds(t,!!_.multiple,T,!1):_.defaultValue!=null&&Ds(t,!!_.multiple,_.defaultValue,!0);break;default:typeof N.onClick=="function"&&(t.onclick=_a)}switch(c){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return jt(i),null;case 6:if(t&&i.stateNode!=null)Np(t,i,t.memoizedProps,_);else{if(typeof _!="string"&&i.stateNode===null)throw Error(n(166));if(c=mn(lo.current),mn(As.current),Na(i)){if(_=i.stateNode,c=i.memoizedProps,_[Ls]=i,(T=_.nodeValue!==c)&&(t=Yt,t!==null))switch(t.tag){case 3:ya(_.nodeValue,c,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ya(_.nodeValue,c,(t.mode&1)!==0)}T&&(i.flags|=4)}else _=(c.nodeType===9?c:c.ownerDocument).createTextNode(_),_[Ls]=i,i.stateNode=_}return jt(i),null;case 13:if(Ye(et),_=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Xt!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Pm(),ei(),i.flags|=98560,T=!1;else if(T=Na(i),_!==null&&_.dehydrated!==null){if(t===null){if(!T)throw Error(n(318));if(T=i.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Ls]=i}else ei(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jt(i),T=!1}else ws!==null&&(Xu(ws),ws=null),T=!0;if(!T)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(_=_!==null,_!==(t!==null&&t.memoizedState!==null)&&_&&(i.child.flags|=8192,(i.mode&1)!==0&&(t===null||(et.current&1)!==0?ut===0&&(ut=3):ed())),i.updateQueue!==null&&(i.flags|=4),jt(i),null);case 4:return ni(),Hu(t,i),t===null&&to(i.stateNode.containerInfo),jt(i),null;case 10:return mu(i.type._context),jt(i),null;case 17:return Ft(i.type)&&ba(),jt(i),null;case 19:if(Ye(et),T=i.memoizedState,T===null)return jt(i),null;if(_=(i.flags&128)!==0,F=T.rendering,F===null)if(_)mo(T,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(F=Ma(t),F!==null){for(i.flags|=128,mo(T,!1),_=F.updateQueue,_!==null&&(i.updateQueue=_,i.flags|=4),i.subtreeFlags=0,_=c,c=i.child;c!==null;)T=c,t=_,T.flags&=14680066,F=T.alternate,F===null?(T.childLanes=0,T.lanes=t,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=F.childLanes,T.lanes=F.lanes,T.child=F.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=F.memoizedProps,T.memoizedState=F.memoizedState,T.updateQueue=F.updateQueue,T.type=F.type,t=F.dependencies,T.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),c=c.sibling;return Ke(et,et.current&1|2),i.child}t=t.sibling}T.tail!==null&&ot()>li&&(i.flags|=128,_=!0,mo(T,!1),i.lanes=4194304)}else{if(!_)if(t=Ma(F),t!==null){if(i.flags|=128,_=!0,c=t.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),mo(T,!0),T.tail===null&&T.tailMode==="hidden"&&!F.alternate&&!Ze)return jt(i),null}else 2*ot()-T.renderingStartTime>li&&c!==1073741824&&(i.flags|=128,_=!0,mo(T,!1),i.lanes=4194304);T.isBackwards?(F.sibling=i.child,i.child=F):(c=T.last,c!==null?c.sibling=F:i.child=F,T.last=F)}return T.tail!==null?(i=T.tail,T.rendering=i,T.tail=i.sibling,T.renderingStartTime=ot(),i.sibling=null,c=et.current,Ke(et,_?c&1|2:c&1),i):(jt(i),null);case 22:case 23:return Zu(),_=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==_&&(i.flags|=8192),_&&(i.mode&1)!==0?(Jt&1073741824)!==0&&(jt(i),i.subtreeFlags&6&&(i.flags|=8192)):jt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function R1(t,i){switch(lu(i),i.tag){case 1:return Ft(i.type)&&ba(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ni(),Ye(It),Ye(St),wu(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 5:return yu(i),null;case 13:if(Ye(et),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(n(340));ei()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Ye(et),null;case 4:return ni(),null;case 10:return mu(i.type._context),null;case 22:case 23:return Zu(),null;case 24:return null;default:return null}}var Ua=!1,kt=!1,P1=typeof WeakSet=="function"?WeakSet:Set,xe=null;function oi(t,i){var c=t.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(_){rt(t,i,_)}else c.current=null}function zu(t,i,c){try{c()}catch(_){rt(t,i,_)}}var Ep=!1;function T1(t,i){if(Zc=la,t=om(),qc(t)){if("selectionStart"in t)var c={start:t.selectionStart,end:t.selectionEnd};else e:{c=(c=t.ownerDocument)&&c.defaultView||window;var _=c.getSelection&&c.getSelection();if(_&&_.rangeCount!==0){c=_.anchorNode;var N=_.anchorOffset,T=_.focusNode;_=_.focusOffset;try{c.nodeType,T.nodeType}catch{c=null;break e}var F=0,q=-1,Q=-1,se=0,de=0,fe=t,le=null;t:for(;;){for(var ve;fe!==c||N!==0&&fe.nodeType!==3||(q=F+N),fe!==T||_!==0&&fe.nodeType!==3||(Q=F+_),fe.nodeType===3&&(F+=fe.nodeValue.length),(ve=fe.firstChild)!==null;)le=fe,fe=ve;for(;;){if(fe===t)break t;if(le===c&&++se===N&&(q=F),le===T&&++de===_&&(Q=F),(ve=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=ve}c=q===-1||Q===-1?null:{start:q,end:Q}}else c=null}c=c||{start:0,end:0}}else c=null;for(eu={focusedElem:t,selectionRange:c},la=!1,xe=i;xe!==null;)if(i=xe,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,xe=t;else for(;xe!==null;){i=xe;try{var _e=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var we=_e.memoizedProps,at=_e.memoizedState,ee=i.stateNode,Y=ee.getSnapshotBeforeUpdate(i.elementType===i.type?we:bs(i.type,we),at);ee.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var te=i.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){rt(i,i.return,me)}if(t=i.sibling,t!==null){t.return=i.return,xe=t;break}xe=i.return}return _e=Ep,Ep=!1,_e}function po(t,i,c){var _=i.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var N=_=_.next;do{if((N.tag&t)===t){var T=N.destroy;N.destroy=void 0,T!==void 0&&zu(i,c,T)}N=N.next}while(N!==_)}}function $a(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&t)===t){var _=c.create;c.destroy=_()}c=c.next}while(c!==i)}}function Uu(t){var i=t.ref;if(i!==null){var c=t.stateNode;t.tag,t=c,typeof i=="function"?i(t):i.current=t}}function Rp(t){var i=t.alternate;i!==null&&(t.alternate=null,Rp(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[Ls],delete i[ro],delete i[nu],delete i[f1],delete i[m1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Pp(t){return t.tag===5||t.tag===3||t.tag===4}function Tp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Pp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $u(t,i,c){var _=t.tag;if(_===5||_===6)t=t.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(t,i):c.insertBefore(t,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(t,c)):(i=c,i.appendChild(t)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=_a));else if(_!==4&&(t=t.child,t!==null))for($u(t,i,c),t=t.sibling;t!==null;)$u(t,i,c),t=t.sibling}function Wu(t,i,c){var _=t.tag;if(_===5||_===6)t=t.stateNode,i?c.insertBefore(t,i):c.appendChild(t);else if(_!==4&&(t=t.child,t!==null))for(Wu(t,i,c),t=t.sibling;t!==null;)Wu(t,i,c),t=t.sibling}var wt=null,Ss=!1;function Lr(t,i,c){for(c=c.child;c!==null;)Dp(t,i,c),c=c.sibling}function Dp(t,i,c){if(Ms&&typeof Ms.onCommitFiberUnmount=="function")try{Ms.onCommitFiberUnmount(sa,c)}catch{}switch(c.tag){case 5:kt||oi(c,i);case 6:var _=wt,N=Ss;wt=null,Lr(t,i,c),wt=_,Ss=N,wt!==null&&(Ss?(t=wt,c=c.stateNode,t.nodeType===8?t.parentNode.removeChild(c):t.removeChild(c)):wt.removeChild(c.stateNode));break;case 18:wt!==null&&(Ss?(t=wt,c=c.stateNode,t.nodeType===8?ru(t.parentNode,c):t.nodeType===1&&ru(t,c),Ki(t)):ru(wt,c.stateNode));break;case 4:_=wt,N=Ss,wt=c.stateNode.containerInfo,Ss=!0,Lr(t,i,c),wt=_,Ss=N;break;case 0:case 11:case 14:case 15:if(!kt&&(_=c.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){N=_=_.next;do{var T=N,F=T.destroy;T=T.tag,F!==void 0&&((T&2)!==0||(T&4)!==0)&&zu(c,i,F),N=N.next}while(N!==_)}Lr(t,i,c);break;case 1:if(!kt&&(oi(c,i),_=c.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=c.memoizedProps,_.state=c.memoizedState,_.componentWillUnmount()}catch(q){rt(c,i,q)}Lr(t,i,c);break;case 21:Lr(t,i,c);break;case 22:c.mode&1?(kt=(_=kt)||c.memoizedState!==null,Lr(t,i,c),kt=_):Lr(t,i,c);break;default:Lr(t,i,c)}}function Mp(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var c=t.stateNode;c===null&&(c=t.stateNode=new P1),i.forEach(function(_){var N=H1.bind(null,t,_);c.has(_)||(c.add(_),_.then(N,N))})}}function Cs(t,i){var c=i.deletions;if(c!==null)for(var _=0;_<c.length;_++){var N=c[_];try{var T=t,F=i,q=F;e:for(;q!==null;){switch(q.tag){case 5:wt=q.stateNode,Ss=!1;break e;case 3:wt=q.stateNode.containerInfo,Ss=!0;break e;case 4:wt=q.stateNode.containerInfo,Ss=!0;break e}q=q.return}if(wt===null)throw Error(n(160));Dp(T,F,N),wt=null,Ss=!1;var Q=N.alternate;Q!==null&&(Q.return=null),N.return=null}catch(se){rt(N,i,se)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Lp(i,t),i=i.sibling}function Lp(t,i){var c=t.alternate,_=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cs(i,t),Is(t),_&4){try{po(3,t,t.return),$a(3,t)}catch(we){rt(t,t.return,we)}try{po(5,t,t.return)}catch(we){rt(t,t.return,we)}}break;case 1:Cs(i,t),Is(t),_&512&&c!==null&&oi(c,c.return);break;case 5:if(Cs(i,t),Is(t),_&512&&c!==null&&oi(c,c.return),t.flags&32){var N=t.stateNode;try{Ot(N,"")}catch(we){rt(t,t.return,we)}}if(_&4&&(N=t.stateNode,N!=null)){var T=t.memoizedProps,F=c!==null?c.memoizedProps:T,q=t.type,Q=t.updateQueue;if(t.updateQueue=null,Q!==null)try{q==="input"&&T.type==="radio"&&T.name!=null&&Gs(N,T),wc(q,F);var se=wc(q,T);for(F=0;F<Q.length;F+=2){var de=Q[F],fe=Q[F+1];de==="style"?gf(N,fe):de==="dangerouslySetInnerHTML"?Bn(N,fe):de==="children"?Ot(N,fe):g(N,de,fe,se)}switch(q){case"input":De(N,T);break;case"textarea":_r(N,T);break;case"select":var le=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!T.multiple;var ve=T.value;ve!=null?Ds(N,!!T.multiple,ve,!1):le!==!!T.multiple&&(T.defaultValue!=null?Ds(N,!!T.multiple,T.defaultValue,!0):Ds(N,!!T.multiple,T.multiple?[]:"",!1))}N[ro]=T}catch(we){rt(t,t.return,we)}}break;case 6:if(Cs(i,t),Is(t),_&4){if(t.stateNode===null)throw Error(n(162));N=t.stateNode,T=t.memoizedProps;try{N.nodeValue=T}catch(we){rt(t,t.return,we)}}break;case 3:if(Cs(i,t),Is(t),_&4&&c!==null&&c.memoizedState.isDehydrated)try{Ki(i.containerInfo)}catch(we){rt(t,t.return,we)}break;case 4:Cs(i,t),Is(t);break;case 13:Cs(i,t),Is(t),N=t.child,N.flags&8192&&(T=N.memoizedState!==null,N.stateNode.isHidden=T,!T||N.alternate!==null&&N.alternate.memoizedState!==null||(Vu=ot())),_&4&&Mp(t);break;case 22:if(de=c!==null&&c.memoizedState!==null,t.mode&1?(kt=(se=kt)||de,Cs(i,t),kt=se):Cs(i,t),Is(t),_&8192){if(se=t.memoizedState!==null,(t.stateNode.isHidden=se)&&!de&&(t.mode&1)!==0)for(xe=t,de=t.child;de!==null;){for(fe=xe=de;xe!==null;){switch(le=xe,ve=le.child,le.tag){case 0:case 11:case 14:case 15:po(4,le,le.return);break;case 1:oi(le,le.return);var _e=le.stateNode;if(typeof _e.componentWillUnmount=="function"){_=le,c=le.return;try{i=_,_e.props=i.memoizedProps,_e.state=i.memoizedState,_e.componentWillUnmount()}catch(we){rt(_,c,we)}}break;case 5:oi(le,le.return);break;case 22:if(le.memoizedState!==null){Ip(fe);continue}}ve!==null?(ve.return=le,xe=ve):Ip(fe)}de=de.sibling}e:for(de=null,fe=t;;){if(fe.tag===5){if(de===null){de=fe;try{N=fe.stateNode,se?(T=N.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(q=fe.stateNode,Q=fe.memoizedProps.style,F=Q!=null&&Q.hasOwnProperty("display")?Q.display:null,q.style.display=Jo("display",F))}catch(we){rt(t,t.return,we)}}}else if(fe.tag===6){if(de===null)try{fe.stateNode.nodeValue=se?"":fe.memoizedProps}catch(we){rt(t,t.return,we)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===t)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===t)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===t)break e;de===fe&&(de=null),fe=fe.return}de===fe&&(de=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:Cs(i,t),Is(t),_&4&&Mp(t);break;case 21:break;default:Cs(i,t),Is(t)}}function Is(t){var i=t.flags;if(i&2){try{e:{for(var c=t.return;c!==null;){if(Pp(c)){var _=c;break e}c=c.return}throw Error(n(160))}switch(_.tag){case 5:var N=_.stateNode;_.flags&32&&(Ot(N,""),_.flags&=-33);var T=Tp(t);Wu(t,T,N);break;case 3:case 4:var F=_.stateNode.containerInfo,q=Tp(t);$u(t,q,F);break;default:throw Error(n(161))}}catch(Q){rt(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function D1(t,i,c){xe=t,Ap(t)}function Ap(t,i,c){for(var _=(t.mode&1)!==0;xe!==null;){var N=xe,T=N.child;if(N.tag===22&&_){var F=N.memoizedState!==null||Ua;if(!F){var q=N.alternate,Q=q!==null&&q.memoizedState!==null||kt;q=Ua;var se=kt;if(Ua=F,(kt=Q)&&!se)for(xe=N;xe!==null;)F=xe,Q=F.child,F.tag===22&&F.memoizedState!==null?Fp(N):Q!==null?(Q.return=F,xe=Q):Fp(N);for(;T!==null;)xe=T,Ap(T),T=T.sibling;xe=N,Ua=q,kt=se}Op(t)}else(N.subtreeFlags&8772)!==0&&T!==null?(T.return=N,xe=T):Op(t)}}function Op(t){for(;xe!==null;){var i=xe;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:kt||$a(5,i);break;case 1:var _=i.stateNode;if(i.flags&4&&!kt)if(c===null)_.componentDidMount();else{var N=i.elementType===i.type?c.memoizedProps:bs(i.type,c.memoizedProps);_.componentDidUpdate(N,c.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var T=i.updateQueue;T!==null&&Im(i,T,_);break;case 3:var F=i.updateQueue;if(F!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Im(i,F,c)}break;case 5:var q=i.stateNode;if(c===null&&i.flags&4){c=q;var Q=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":Q.autoFocus&&c.focus();break;case"img":Q.src&&(c.src=Q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var se=i.alternate;if(se!==null){var de=se.memoizedState;if(de!==null){var fe=de.dehydrated;fe!==null&&Ki(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}kt||i.flags&512&&Uu(i)}catch(le){rt(i,i.return,le)}}if(i===t){xe=null;break}if(c=i.sibling,c!==null){c.return=i.return,xe=c;break}xe=i.return}}function Ip(t){for(;xe!==null;){var i=xe;if(i===t){xe=null;break}var c=i.sibling;if(c!==null){c.return=i.return,xe=c;break}xe=i.return}}function Fp(t){for(;xe!==null;){var i=xe;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{$a(4,i)}catch(Q){rt(i,c,Q)}break;case 1:var _=i.stateNode;if(typeof _.componentDidMount=="function"){var N=i.return;try{_.componentDidMount()}catch(Q){rt(i,N,Q)}}var T=i.return;try{Uu(i)}catch(Q){rt(i,T,Q)}break;case 5:var F=i.return;try{Uu(i)}catch(Q){rt(i,F,Q)}}}catch(Q){rt(i,i.return,Q)}if(i===t){xe=null;break}var q=i.sibling;if(q!==null){q.return=i.return,xe=q;break}xe=i.return}}var M1=Math.ceil,Wa=C.ReactCurrentDispatcher,qu=C.ReactCurrentOwner,us=C.ReactCurrentBatchConfig,He=0,pt=null,lt=null,bt=0,Jt=0,ai=Rr(0),ut=0,go=null,gn=0,qa=0,Ku=0,vo=null,Ht=null,Vu=0,li=1/0,rr=null,Ka=!1,Gu=null,Ar=null,Va=!1,Or=null,Ga=0,xo=0,Qu=null,Qa=-1,Ya=0;function Tt(){return(He&6)!==0?ot():Qa!==-1?Qa:Qa=ot()}function Ir(t){return(t.mode&1)===0?1:(He&2)!==0&&bt!==0?bt&-bt:g1.transition!==null?(Ya===0&&(Ya=Tf()),Ya):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:Hf(t.type)),t)}function js(t,i,c,_){if(50<xo)throw xo=0,Qu=null,Error(n(185));zi(t,c,_),((He&2)===0||t!==pt)&&(t===pt&&((He&2)===0&&(qa|=c),ut===4&&Fr(t,bt)),zt(t,_),c===1&&He===0&&(i.mode&1)===0&&(li=ot()+500,Ca&&Tr()))}function zt(t,i){var c=t.callbackNode;gw(t,i);var _=ia(t,t===pt?bt:0);if(_===0)c!==null&&Ef(c),t.callbackNode=null,t.callbackPriority=0;else if(i=_&-_,t.callbackPriority!==i){if(c!=null&&Ef(c),i===1)t.tag===0?p1(Hp.bind(null,t)):jm(Hp.bind(null,t)),d1(function(){(He&6)===0&&Tr()}),c=null;else{switch(Df(_)){case 1:c=Ec;break;case 4:c=Rf;break;case 16:c=ta;break;case 536870912:c=Pf;break;default:c=ta}c=Gp(c,Bp.bind(null,t))}t.callbackPriority=i,t.callbackNode=c}}function Bp(t,i){if(Qa=-1,Ya=0,(He&6)!==0)throw Error(n(327));var c=t.callbackNode;if(ci()&&t.callbackNode!==c)return null;var _=ia(t,t===pt?bt:0);if(_===0)return null;if((_&30)!==0||(_&t.expiredLanes)!==0||i)i=Xa(t,_);else{i=_;var N=He;He|=2;var T=Up();(pt!==t||bt!==i)&&(rr=null,li=ot()+500,xn(t,i));do try{O1();break}catch(q){zp(t,q)}while(!0);fu(),Wa.current=T,He=N,lt!==null?i=0:(pt=null,bt=0,i=ut)}if(i!==0){if(i===2&&(N=Rc(t),N!==0&&(_=N,i=Yu(t,N))),i===1)throw c=go,xn(t,0),Fr(t,_),zt(t,ot()),c;if(i===6)Fr(t,_);else{if(N=t.current.alternate,(_&30)===0&&!L1(N)&&(i=Xa(t,_),i===2&&(T=Rc(t),T!==0&&(_=T,i=Yu(t,T))),i===1))throw c=go,xn(t,0),Fr(t,_),zt(t,ot()),c;switch(t.finishedWork=N,t.finishedLanes=_,i){case 0:case 1:throw Error(n(345));case 2:yn(t,Ht,rr);break;case 3:if(Fr(t,_),(_&130023424)===_&&(i=Vu+500-ot(),10<i)){if(ia(t,0)!==0)break;if(N=t.suspendedLanes,(N&_)!==_){Tt(),t.pingedLanes|=t.suspendedLanes&N;break}t.timeoutHandle=su(yn.bind(null,t,Ht,rr),i);break}yn(t,Ht,rr);break;case 4:if(Fr(t,_),(_&4194240)===_)break;for(i=t.eventTimes,N=-1;0<_;){var F=31-ys(_);T=1<<F,F=i[F],F>N&&(N=F),_&=~T}if(_=N,_=ot()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*M1(_/1960))-_,10<_){t.timeoutHandle=su(yn.bind(null,t,Ht,rr),_);break}yn(t,Ht,rr);break;case 5:yn(t,Ht,rr);break;default:throw Error(n(329))}}}return zt(t,ot()),t.callbackNode===c?Bp.bind(null,t):null}function Yu(t,i){var c=vo;return t.current.memoizedState.isDehydrated&&(xn(t,i).flags|=256),t=Xa(t,i),t!==2&&(i=Ht,Ht=c,i!==null&&Xu(i)),t}function Xu(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function L1(t){for(var i=t;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var _=0;_<c.length;_++){var N=c[_],T=N.getSnapshot;N=N.value;try{if(!_s(T(),N))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fr(t,i){for(i&=~Ku,i&=~qa,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var c=31-ys(i),_=1<<c;t[c]=-1,i&=~_}}function Hp(t){if((He&6)!==0)throw Error(n(327));ci();var i=ia(t,0);if((i&1)===0)return zt(t,ot()),null;var c=Xa(t,i);if(t.tag!==0&&c===2){var _=Rc(t);_!==0&&(i=_,c=Yu(t,_))}if(c===1)throw c=go,xn(t,0),Fr(t,i),zt(t,ot()),c;if(c===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,yn(t,Ht,rr),zt(t,ot()),null}function Ju(t,i){var c=He;He|=1;try{return t(i)}finally{He=c,He===0&&(li=ot()+500,Ca&&Tr())}}function vn(t){Or!==null&&Or.tag===0&&(He&6)===0&&ci();var i=He;He|=1;var c=us.transition,_=Ue;try{if(us.transition=null,Ue=1,t)return t()}finally{Ue=_,us.transition=c,He=i,(He&6)===0&&Tr()}}function Zu(){Jt=ai.current,Ye(ai)}function xn(t,i){t.finishedWork=null,t.finishedLanes=0;var c=t.timeoutHandle;if(c!==-1&&(t.timeoutHandle=-1,u1(c)),lt!==null)for(c=lt.return;c!==null;){var _=c;switch(lu(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&ba();break;case 3:ni(),Ye(It),Ye(St),wu();break;case 5:yu(_);break;case 4:ni();break;case 13:Ye(et);break;case 19:Ye(et);break;case 10:mu(_.type._context);break;case 22:case 23:Zu()}c=c.return}if(pt=t,lt=t=Br(t.current,null),bt=Jt=i,ut=0,go=null,Ku=qa=gn=0,Ht=vo=null,fn!==null){for(i=0;i<fn.length;i++)if(c=fn[i],_=c.interleaved,_!==null){c.interleaved=null;var N=_.next,T=c.pending;if(T!==null){var F=T.next;T.next=N,_.next=F}c.pending=_}fn=null}return t}function zp(t,i){do{var c=lt;try{if(fu(),La.current=Fa,Aa){for(var _=tt.memoizedState;_!==null;){var N=_.queue;N!==null&&(N.pending=null),_=_.next}Aa=!1}if(pn=0,mt=ct=tt=null,co=!1,uo=0,qu.current=null,c===null||c.return===null){ut=1,go=i,lt=null;break}e:{var T=t,F=c.return,q=c,Q=i;if(i=bt,q.flags|=32768,Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var se=Q,de=q,fe=de.tag;if((de.mode&1)===0&&(fe===0||fe===11||fe===15)){var le=de.alternate;le?(de.updateQueue=le.updateQueue,de.memoizedState=le.memoizedState,de.lanes=le.lanes):(de.updateQueue=null,de.memoizedState=null)}var ve=hp(F);if(ve!==null){ve.flags&=-257,fp(ve,F,q,T,i),ve.mode&1&&dp(T,se,i),i=ve,Q=se;var _e=i.updateQueue;if(_e===null){var we=new Set;we.add(Q),i.updateQueue=we}else _e.add(Q);break e}else{if((i&1)===0){dp(T,se,i),ed();break e}Q=Error(n(426))}}else if(Ze&&q.mode&1){var at=hp(F);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),fp(at,F,q,T,i),du(ii(Q,q));break e}}T=Q=ii(Q,q),ut!==4&&(ut=2),vo===null?vo=[T]:vo.push(T),T=F;do{switch(T.tag){case 3:T.flags|=65536,i&=-i,T.lanes|=i;var ee=cp(T,Q,i);Om(T,ee);break e;case 1:q=Q;var Y=T.type,te=T.stateNode;if((T.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(Ar===null||!Ar.has(te)))){T.flags|=65536,i&=-i,T.lanes|=i;var me=up(T,q,i);Om(T,me);break e}}T=T.return}while(T!==null)}Wp(c)}catch(be){i=be,lt===c&&c!==null&&(lt=c=c.return);continue}break}while(!0)}function Up(){var t=Wa.current;return Wa.current=Fa,t===null?Fa:t}function ed(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||(gn&268435455)===0&&(qa&268435455)===0||Fr(pt,bt)}function Xa(t,i){var c=He;He|=2;var _=Up();(pt!==t||bt!==i)&&(rr=null,xn(t,i));do try{A1();break}catch(N){zp(t,N)}while(!0);if(fu(),He=c,Wa.current=_,lt!==null)throw Error(n(261));return pt=null,bt=0,ut}function A1(){for(;lt!==null;)$p(lt)}function O1(){for(;lt!==null&&!aw();)$p(lt)}function $p(t){var i=Vp(t.alternate,t,Jt);t.memoizedProps=t.pendingProps,i===null?Wp(t):lt=i,qu.current=null}function Wp(t){var i=t;do{var c=i.alternate;if(t=i.return,(i.flags&32768)===0){if(c=E1(c,i,Jt),c!==null){lt=c;return}}else{if(c=R1(c,i),c!==null){c.flags&=32767,lt=c;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,lt=null;return}}if(i=i.sibling,i!==null){lt=i;return}lt=i=t}while(i!==null);ut===0&&(ut=5)}function yn(t,i,c){var _=Ue,N=us.transition;try{us.transition=null,Ue=1,I1(t,i,c,_)}finally{us.transition=N,Ue=_}return null}function I1(t,i,c,_){do ci();while(Or!==null);if((He&6)!==0)throw Error(n(327));c=t.finishedWork;var N=t.finishedLanes;if(c===null)return null;if(t.finishedWork=null,t.finishedLanes=0,c===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var T=c.lanes|c.childLanes;if(vw(t,T),t===pt&&(lt=pt=null,bt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Va||(Va=!0,Gp(ta,function(){return ci(),null})),T=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||T){T=us.transition,us.transition=null;var F=Ue;Ue=1;var q=He;He|=4,qu.current=null,T1(t,c),Lp(c,t),r1(eu),la=!!Zc,eu=Zc=null,t.current=c,D1(c),lw(),He=q,Ue=F,us.transition=T}else t.current=c;if(Va&&(Va=!1,Or=t,Ga=N),T=t.pendingLanes,T===0&&(Ar=null),dw(c.stateNode),zt(t,ot()),i!==null)for(_=t.onRecoverableError,c=0;c<i.length;c++)N=i[c],_(N.value,{componentStack:N.stack,digest:N.digest});if(Ka)throw Ka=!1,t=Gu,Gu=null,t;return(Ga&1)!==0&&t.tag!==0&&ci(),T=t.pendingLanes,(T&1)!==0?t===Qu?xo++:(xo=0,Qu=t):xo=0,Tr(),null}function ci(){if(Or!==null){var t=Df(Ga),i=us.transition,c=Ue;try{if(us.transition=null,Ue=16>t?16:t,Or===null)var _=!1;else{if(t=Or,Or=null,Ga=0,(He&6)!==0)throw Error(n(331));var N=He;for(He|=4,xe=t.current;xe!==null;){var T=xe,F=T.child;if((xe.flags&16)!==0){var q=T.deletions;if(q!==null){for(var Q=0;Q<q.length;Q++){var se=q[Q];for(xe=se;xe!==null;){var de=xe;switch(de.tag){case 0:case 11:case 15:po(8,de,T)}var fe=de.child;if(fe!==null)fe.return=de,xe=fe;else for(;xe!==null;){de=xe;var le=de.sibling,ve=de.return;if(Rp(de),de===se){xe=null;break}if(le!==null){le.return=ve,xe=le;break}xe=ve}}}var _e=T.alternate;if(_e!==null){var we=_e.child;if(we!==null){_e.child=null;do{var at=we.sibling;we.sibling=null,we=at}while(we!==null)}}xe=T}}if((T.subtreeFlags&2064)!==0&&F!==null)F.return=T,xe=F;else e:for(;xe!==null;){if(T=xe,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:po(9,T,T.return)}var ee=T.sibling;if(ee!==null){ee.return=T.return,xe=ee;break e}xe=T.return}}var Y=t.current;for(xe=Y;xe!==null;){F=xe;var te=F.child;if((F.subtreeFlags&2064)!==0&&te!==null)te.return=F,xe=te;else e:for(F=Y;xe!==null;){if(q=xe,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:$a(9,q)}}catch(be){rt(q,q.return,be)}if(q===F){xe=null;break e}var me=q.sibling;if(me!==null){me.return=q.return,xe=me;break e}xe=q.return}}if(He=N,Tr(),Ms&&typeof Ms.onPostCommitFiberRoot=="function")try{Ms.onPostCommitFiberRoot(sa,t)}catch{}_=!0}return _}finally{Ue=c,us.transition=i}}return!1}function qp(t,i,c){i=ii(c,i),i=cp(t,i,1),t=Mr(t,i,1),i=Tt(),t!==null&&(zi(t,1,i),zt(t,i))}function rt(t,i,c){if(t.tag===3)qp(t,t,c);else for(;i!==null;){if(i.tag===3){qp(i,t,c);break}else if(i.tag===1){var _=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Ar===null||!Ar.has(_))){t=ii(c,t),t=up(i,t,1),i=Mr(i,t,1),t=Tt(),i!==null&&(zi(i,1,t),zt(i,t));break}}i=i.return}}function F1(t,i,c){var _=t.pingCache;_!==null&&_.delete(i),i=Tt(),t.pingedLanes|=t.suspendedLanes&c,pt===t&&(bt&c)===c&&(ut===4||ut===3&&(bt&130023424)===bt&&500>ot()-Vu?xn(t,0):Ku|=c),zt(t,i)}function Kp(t,i){i===0&&((t.mode&1)===0?i=1:(i=na,na<<=1,(na&130023424)===0&&(na=4194304)));var c=Tt();t=er(t,i),t!==null&&(zi(t,i,c),zt(t,c))}function B1(t){var i=t.memoizedState,c=0;i!==null&&(c=i.retryLane),Kp(t,c)}function H1(t,i){var c=0;switch(t.tag){case 13:var _=t.stateNode,N=t.memoizedState;N!==null&&(c=N.retryLane);break;case 19:_=t.stateNode;break;default:throw Error(n(314))}_!==null&&_.delete(i),Kp(t,c)}var Vp;Vp=function(t,i,c){if(t!==null)if(t.memoizedProps!==i.pendingProps||It.current)Bt=!0;else{if((t.lanes&c)===0&&(i.flags&128)===0)return Bt=!1,N1(t,i,c);Bt=(t.flags&131072)!==0}else Bt=!1,Ze&&(i.flags&1048576)!==0&&km(i,ka,i.index);switch(i.lanes=0,i.tag){case 2:var _=i.type;za(t,i),t=i.pendingProps;var N=Xn(i,St.current);ri(i,c),N=Cu(null,i,_,t,N,c);var T=ju();return i.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ft(_)?(T=!0,Sa(i)):T=!1,i.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,vu(i),N.updater=Ba,i.stateNode=N,N._reactInternals=i,Tu(i,_,t,c),i=Au(null,i,_,!0,T,c)):(i.tag=0,Ze&&T&&au(i),Pt(null,i,N,c),i=i.child),i;case 16:_=i.elementType;e:{switch(za(t,i),t=i.pendingProps,N=_._init,_=N(_._payload),i.type=_,N=i.tag=U1(_),t=bs(_,t),N){case 0:i=Lu(null,i,_,t,c);break e;case 1:i=yp(null,i,_,t,c);break e;case 11:i=mp(null,i,_,t,c);break e;case 14:i=pp(null,i,_,bs(_.type,t),c);break e}throw Error(n(306,_,""))}return i;case 0:return _=i.type,N=i.pendingProps,N=i.elementType===_?N:bs(_,N),Lu(t,i,_,N,c);case 1:return _=i.type,N=i.pendingProps,N=i.elementType===_?N:bs(_,N),yp(t,i,_,N,c);case 3:e:{if(_p(i),t===null)throw Error(n(387));_=i.pendingProps,T=i.memoizedState,N=T.element,Am(t,i),Da(i,_,null,c);var F=i.memoizedState;if(_=F.element,T.isDehydrated)if(T={element:_,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},i.updateQueue.baseState=T,i.memoizedState=T,i.flags&256){N=ii(Error(n(423)),i),i=wp(t,i,_,c,N);break e}else if(_!==N){N=ii(Error(n(424)),i),i=wp(t,i,_,c,N);break e}else for(Xt=Er(i.stateNode.containerInfo.firstChild),Yt=i,Ze=!0,ws=null,c=Mm(i,null,_,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ei(),_===N){i=sr(t,i,c);break e}Pt(t,i,_,c)}i=i.child}return i;case 5:return Fm(i),t===null&&uu(i),_=i.type,N=i.pendingProps,T=t!==null?t.memoizedProps:null,F=N.children,tu(_,N)?F=null:T!==null&&tu(_,T)&&(i.flags|=32),xp(t,i),Pt(t,i,F,c),i.child;case 6:return t===null&&uu(i),null;case 13:return bp(t,i,c);case 4:return xu(i,i.stateNode.containerInfo),_=i.pendingProps,t===null?i.child=ti(i,null,_,c):Pt(t,i,_,c),i.child;case 11:return _=i.type,N=i.pendingProps,N=i.elementType===_?N:bs(_,N),mp(t,i,_,N,c);case 7:return Pt(t,i,i.pendingProps,c),i.child;case 8:return Pt(t,i,i.pendingProps.children,c),i.child;case 12:return Pt(t,i,i.pendingProps.children,c),i.child;case 10:e:{if(_=i.type._context,N=i.pendingProps,T=i.memoizedProps,F=N.value,Ke(Ra,_._currentValue),_._currentValue=F,T!==null)if(_s(T.value,F)){if(T.children===N.children&&!It.current){i=sr(t,i,c);break e}}else for(T=i.child,T!==null&&(T.return=i);T!==null;){var q=T.dependencies;if(q!==null){F=T.child;for(var Q=q.firstContext;Q!==null;){if(Q.context===_){if(T.tag===1){Q=tr(-1,c&-c),Q.tag=2;var se=T.updateQueue;if(se!==null){se=se.shared;var de=se.pending;de===null?Q.next=Q:(Q.next=de.next,de.next=Q),se.pending=Q}}T.lanes|=c,Q=T.alternate,Q!==null&&(Q.lanes|=c),pu(T.return,c,i),q.lanes|=c;break}Q=Q.next}}else if(T.tag===10)F=T.type===i.type?null:T.child;else if(T.tag===18){if(F=T.return,F===null)throw Error(n(341));F.lanes|=c,q=F.alternate,q!==null&&(q.lanes|=c),pu(F,c,i),F=T.sibling}else F=T.child;if(F!==null)F.return=T;else for(F=T;F!==null;){if(F===i){F=null;break}if(T=F.sibling,T!==null){T.return=F.return,F=T;break}F=F.return}T=F}Pt(t,i,N.children,c),i=i.child}return i;case 9:return N=i.type,_=i.pendingProps.children,ri(i,c),N=ls(N),_=_(N),i.flags|=1,Pt(t,i,_,c),i.child;case 14:return _=i.type,N=bs(_,i.pendingProps),N=bs(_.type,N),pp(t,i,_,N,c);case 15:return gp(t,i,i.type,i.pendingProps,c);case 17:return _=i.type,N=i.pendingProps,N=i.elementType===_?N:bs(_,N),za(t,i),i.tag=1,Ft(_)?(t=!0,Sa(i)):t=!1,ri(i,c),ap(i,_,N),Tu(i,_,N,c),Au(null,i,_,!0,t,c);case 19:return Cp(t,i,c);case 22:return vp(t,i,c)}throw Error(n(156,i.tag))};function Gp(t,i){return Nf(t,i)}function z1(t,i,c,_){this.tag=t,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(t,i,c,_){return new z1(t,i,c,_)}function td(t){return t=t.prototype,!(!t||!t.isReactComponent)}function U1(t){if(typeof t=="function")return td(t)?1:0;if(t!=null){if(t=t.$$typeof,t===U)return 11;if(t===J)return 14}return 2}function Br(t,i){var c=t.alternate;return c===null?(c=ds(t.tag,i,t.key,t.mode),c.elementType=t.elementType,c.type=t.type,c.stateNode=t.stateNode,c.alternate=t,t.alternate=c):(c.pendingProps=i,c.type=t.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=t.flags&14680064,c.childLanes=t.childLanes,c.lanes=t.lanes,c.child=t.child,c.memoizedProps=t.memoizedProps,c.memoizedState=t.memoizedState,c.updateQueue=t.updateQueue,i=t.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=t.sibling,c.index=t.index,c.ref=t.ref,c}function Ja(t,i,c,_,N,T){var F=2;if(_=t,typeof t=="function")td(t)&&(F=1);else if(typeof t=="string")F=5;else e:switch(t){case L:return _n(c.children,N,T,i);case j:F=8,N|=8;break;case A:return t=ds(12,c,i,N|2),t.elementType=A,t.lanes=T,t;case I:return t=ds(13,c,i,N),t.elementType=I,t.lanes=T,t;case W:return t=ds(19,c,i,N),t.elementType=W,t.lanes=T,t;case G:return Za(c,N,T,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:F=10;break e;case $:F=9;break e;case U:F=11;break e;case J:F=14;break e;case V:F=16,_=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return i=ds(F,c,i,N),i.elementType=t,i.type=_,i.lanes=T,i}function _n(t,i,c,_){return t=ds(7,t,_,i),t.lanes=c,t}function Za(t,i,c,_){return t=ds(22,t,_,i),t.elementType=G,t.lanes=c,t.stateNode={isHidden:!1},t}function sd(t,i,c){return t=ds(6,t,null,i),t.lanes=c,t}function rd(t,i,c){return i=ds(4,t.children!==null?t.children:[],t.key,i),i.lanes=c,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function $1(t,i,c,_,N){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pc(0),this.expirationTimes=Pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pc(0),this.identifierPrefix=_,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function nd(t,i,c,_,N,T,F,q,Q){return t=new $1(t,i,c,q,Q),i===1?(i=1,T===!0&&(i|=8)):i=0,T=ds(3,null,null,i),t.current=T,T.stateNode=t,T.memoizedState={element:_,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(T),t}function W1(t,i,c){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:_==null?null:""+_,children:t,containerInfo:i,implementation:c}}function Qp(t){if(!t)return Pr;t=t._reactInternals;e:{if(ln(t)!==t||t.tag!==1)throw Error(n(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Ft(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(t.tag===1){var c=t.type;if(Ft(c))return Sm(t,c,i)}return i}function Yp(t,i,c,_,N,T,F,q,Q){return t=nd(c,_,!0,t,N,T,F,q,Q),t.context=Qp(null),c=t.current,_=Tt(),N=Ir(c),T=tr(_,N),T.callback=i??null,Mr(c,T,N),t.current.lanes=N,zi(t,N,_),zt(t,_),t}function el(t,i,c,_){var N=i.current,T=Tt(),F=Ir(N);return c=Qp(c),i.context===null?i.context=c:i.pendingContext=c,i=tr(T,F),i.payload={element:t},_=_===void 0?null:_,_!==null&&(i.callback=_),t=Mr(N,i,F),t!==null&&(js(t,N,F,T),Ta(t,N,F)),F}function tl(t){return t=t.current,t.child?(t.child.tag===5,t.child.stateNode):null}function Xp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var c=t.retryLane;t.retryLane=c!==0&&c<i?c:i}}function id(t,i){Xp(t,i),(t=t.alternate)&&Xp(t,i)}function q1(){return null}var Jp=typeof reportError=="function"?reportError:function(t){console.error(t)};function od(t){this._internalRoot=t}sl.prototype.render=od.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(n(409));el(t,i,null,null)},sl.prototype.unmount=od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;vn(function(){el(null,t,null,null)}),i[Ys]=null}};function sl(t){this._internalRoot=t}sl.prototype.unstable_scheduleHydration=function(t){if(t){var i=Af();t={blockedOn:null,target:t,priority:i};for(var c=0;c<jr.length&&i!==0&&i<jr[c].priority;c++);jr.splice(c,0,t),c===0&&Ff(t)}};function ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zp(){}function K1(t,i,c,_,N){if(N){if(typeof _=="function"){var T=_;_=function(){var se=tl(F);T.call(se)}}var F=Yp(i,_,t,0,null,!1,!1,"",Zp);return t._reactRootContainer=F,t[Ys]=F.current,to(t.nodeType===8?t.parentNode:t),vn(),F}for(;N=t.lastChild;)t.removeChild(N);if(typeof _=="function"){var q=_;_=function(){var se=tl(Q);q.call(se)}}var Q=nd(t,0,!1,null,null,!1,!1,"",Zp);return t._reactRootContainer=Q,t[Ys]=Q.current,to(t.nodeType===8?t.parentNode:t),vn(function(){el(i,Q,c,_)}),Q}function nl(t,i,c,_,N){var T=c._reactRootContainer;if(T){var F=T;if(typeof N=="function"){var q=N;N=function(){var Q=tl(F);q.call(Q)}}el(i,F,t,N)}else F=K1(c,i,t,N,_);return tl(F)}Mf=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var c=Hi(i.pendingLanes);c!==0&&(Tc(i,c|1),zt(i,ot()),(He&6)===0&&(li=ot()+500,Tr()))}break;case 13:vn(function(){var _=er(t,1);if(_!==null){var N=Tt();js(_,t,1,N)}}),id(t,1)}},Dc=function(t){if(t.tag===13){var i=er(t,134217728);if(i!==null){var c=Tt();js(i,t,134217728,c)}id(t,134217728)}},Lf=function(t){if(t.tag===13){var i=Ir(t),c=er(t,i);if(c!==null){var _=Tt();js(c,t,i,_)}id(t,i)}},Af=function(){return Ue},Of=function(t,i){var c=Ue;try{return Ue=t,i()}finally{Ue=c}},Cc=function(t,i,c){switch(i){case"input":if(De(t,c),i=c.name,c.type==="radio"&&i!=null){for(c=t;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var _=c[i];if(_!==t&&_.form===t.form){var N=wa(_);if(!N)throw Error(n(90));ge(_),De(_,N)}}}break;case"textarea":_r(t,c);break;case"select":i=c.value,i!=null&&Ds(t,!!c.multiple,i,!1)}},_f=Ju,wf=vn;var V1={usingClientEntryPoint:!1,Events:[no,Qn,wa,xf,yf,Ju]},yo={findFiberByHostInstance:cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G1={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jf(t),t===null?null:t.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||q1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{sa=il.inject(G1),Ms=il}catch{}}return Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V1,Ut.createPortal=function(t,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ad(i))throw Error(n(200));return W1(t,i,null,c)},Ut.createRoot=function(t,i){if(!ad(t))throw Error(n(299));var c=!1,_="",N=Jp;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(_=i.identifierPrefix),i.onRecoverableError!==void 0&&(N=i.onRecoverableError)),i=nd(t,1,!1,null,null,c,!1,_,N),t[Ys]=i.current,to(t.nodeType===8?t.parentNode:t),new od(i)},Ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=jf(i),t=t===null?null:t.stateNode,t},Ut.flushSync=function(t){return vn(t)},Ut.hydrate=function(t,i,c){if(!rl(i))throw Error(n(200));return nl(null,t,i,!0,c)},Ut.hydrateRoot=function(t,i,c){if(!ad(t))throw Error(n(405));var _=c!=null&&c.hydratedSources||null,N=!1,T="",F=Jp;if(c!=null&&(c.unstable_strictMode===!0&&(N=!0),c.identifierPrefix!==void 0&&(T=c.identifierPrefix),c.onRecoverableError!==void 0&&(F=c.onRecoverableError)),i=Yp(i,null,t,1,c??null,N,!1,T,F),t[Ys]=i.current,to(t),_)for(t=0;t<_.length;t++)c=_[t],N=c._getVersion,N=N(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,N]:i.mutableSourceEagerHydrationData.push(c,N);return new sl(i)},Ut.render=function(t,i,c){if(!rl(i))throw Error(n(200));return nl(null,t,i,!1,c)},Ut.unmountComponentAtNode=function(t){if(!rl(t))throw Error(n(40));return t._reactRootContainer?(vn(function(){nl(null,null,t,!1,function(){t._reactRootContainer=null,t[Ys]=null})}),!0):!1},Ut.unstable_batchedUpdates=Ju,Ut.unstable_renderSubtreeIntoContainer=function(t,i,c,_){if(!rl(c))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return nl(t,i,c,!1,_)},Ut.version="18.3.1-next-f1338f8080-20240426",Ut}var ag;function Jv(){if(ag)return ud.exports;ag=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(s){console.error(s)}}return e(),ud.exports=sb(),ud.exports}var lg;function rb(){if(lg)return ol;lg=1;var e=Jv();return ol.createRoot=e.createRoot,ol.hydrateRoot=e.hydrateRoot,ol}var nb=rb();const ib=Yl(nb);var Ri=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ob={setTimeout:(e,s)=>setTimeout(e,s),clearTimeout:e=>clearTimeout(e),setInterval:(e,s)=>setInterval(e,s),clearInterval:e=>clearInterval(e)},ab=class{#e=ob;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,s){return this.#e.setTimeout(e,s)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,s){return this.#e.setInterval(e,s)}clearInterval(e){this.#e.clearInterval(e)}},jn=new ab;function lb(e){setTimeout(e,0)}var Rn=typeof window>"u"||"Deno"in globalThis;function Dt(){}function cb(e,s){return typeof e=="function"?e(s):e}function Ud(e){return typeof e=="number"&&e>=0&&e!==1/0}function Zv(e,s){return Math.max(e+(s||0)-Date.now(),0)}function Qr(e,s){return typeof e=="function"?e(s):e}function hs(e,s){return typeof e=="function"?e(s):e}function cg(e,s){const{type:n="all",exact:o,fetchStatus:a,predicate:f,queryKey:y,stale:l}=e;if(y){if(o){if(s.queryHash!==wh(y,s.options))return!1}else if(!Ro(s.queryKey,y))return!1}if(n!=="all"){const d=s.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof l=="boolean"&&s.isStale()!==l||a&&a!==s.state.fetchStatus||f&&!f(s))}function ug(e,s){const{exact:n,status:o,predicate:a,mutationKey:f}=e;if(f){if(!s.options.mutationKey)return!1;if(n){if(Pn(s.options.mutationKey)!==Pn(f))return!1}else if(!Ro(s.options.mutationKey,f))return!1}return!(o&&s.state.status!==o||a&&!a(s))}function wh(e,s){return(s?.queryKeyHashFn||Pn)(e)}function Pn(e){return JSON.stringify(e,(s,n)=>$d(n)?Object.keys(n).sort().reduce((o,a)=>(o[a]=n[a],o),{}):n)}function Ro(e,s){return e===s?!0:typeof e!=typeof s?!1:e&&s&&typeof e=="object"&&typeof s=="object"?Object.keys(s).every(n=>Ro(e[n],s[n])):!1}var ub=Object.prototype.hasOwnProperty;function ex(e,s,n=0){if(e===s)return e;if(n>500)return s;const o=dg(e)&&dg(s);if(!o&&!($d(e)&&$d(s)))return s;const f=(o?e:Object.keys(e)).length,y=o?s:Object.keys(s),l=y.length,d=o?new Array(l):{};let m=0;for(let v=0;v<l;v++){const h=o?v:y[v],w=e[h],S=s[h];if(w===S){d[h]=w,(o?v<f:ub.call(e,h))&&m++;continue}if(w===null||S===null||typeof w!="object"||typeof S!="object"){d[h]=S;continue}const k=ex(w,S,n+1);d[h]=k,k===w&&m++}return f===l&&m===f?e:d}function Tl(e,s){if(!s||Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}function dg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $d(e){if(!hg(e))return!1;const s=e.constructor;if(s===void 0)return!0;const n=s.prototype;return!(!hg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hg(e){return Object.prototype.toString.call(e)==="[object Object]"}function db(e){return new Promise(s=>{jn.setTimeout(s,e)})}function Wd(e,s,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,s):n.structuralSharing!==!1?ex(e,s):s}function hb(e,s,n=0){const o=[...e,s];return n&&o.length>n?o.slice(1):o}function fb(e,s,n=0){const o=[s,...e];return n&&o.length>n?o.slice(0,-1):o}var bh=Symbol();function tx(e,s){return!e.queryFn&&s?.initialPromise?()=>s.initialPromise:!e.queryFn||e.queryFn===bh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Sh(e,s){return typeof e=="function"?e(...s):!!e}function mb(e,s,n){let o=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??=s(),o||(o=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),e}var pb=class extends Ri{#e;#t;#s;constructor(){super(),this.#s=e=>{if(!Rn&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Ch=new pb;function qd(){let e,s;const n=new Promise((a,f)=>{e=a,s=f});n.status="pending",n.catch(()=>{});function o(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{o({status:"fulfilled",value:a}),e(a)},n.reject=a=>{o({status:"rejected",reason:a}),s(a)},n}var gb=lb;function vb(){let e=[],s=0,n=l=>{l()},o=l=>{l()},a=gb;const f=l=>{s?e.push(l):a(()=>{n(l)})},y=()=>{const l=e;e=[],l.length&&a(()=>{o(()=>{l.forEach(d=>{n(d)})})})};return{batch:l=>{let d;s++;try{d=l()}finally{s--,s||y()}return d},batchCalls:l=>(...d)=>{f(()=>{l(...d)})},schedule:f,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{o=l},setScheduler:l=>{a=l}}}var dt=vb(),xb=class extends Ri{#e=!0;#t;#s;constructor(){super(),this.#s=e=>{if(!Rn&&window.addEventListener){const s=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Dl=new xb;function yb(e){return Math.min(1e3*2**e,3e4)}function sx(e){return(e??"online")==="online"?Dl.isOnline():!0}var Kd=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function rx(e){let s=!1,n=0,o;const a=qd(),f=()=>a.status!=="pending",y=b=>{if(!f()){const u=new Kd(b);w(u),e.onCancel?.(u)}},l=()=>{s=!0},d=()=>{s=!1},m=()=>Ch.isFocused()&&(e.networkMode==="always"||Dl.isOnline())&&e.canRun(),v=()=>sx(e.networkMode)&&e.canRun(),h=b=>{f()||(o?.(),a.resolve(b))},w=b=>{f()||(o?.(),a.reject(b))},S=()=>new Promise(b=>{o=u=>{(f()||m())&&b(u)},e.onPause?.()}).then(()=>{o=void 0,f()||e.onContinue?.()}),k=()=>{if(f())return;let b;const u=n===0?e.initialPromise:void 0;try{b=u??e.fn()}catch(x){b=Promise.reject(x)}Promise.resolve(b).then(h).catch(x=>{if(f())return;const p=e.retry??(Rn?0:3),g=e.retryDelay??yb,C=typeof g=="function"?g(n,x):g,E=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,x);if(s||!E){w(x);return}n++,e.onFail?.(n,x),db(C).then(()=>m()?void 0:S()).then(()=>{s?w(x):k()})})};return{promise:a,status:()=>a.status,cancel:y,continue:()=>(o?.(),a),cancelRetry:l,continueRetry:d,canStart:v,start:()=>(v()?k():S().then(k),a)}}var nx=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ud(this.gcTime)&&(this.#e=jn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Rn?1/0:300*1e3))}clearGcTimeout(){this.#e&&(jn.clearTimeout(this.#e),this.#e=void 0)}},_b=class extends nx{#e;#t;#s;#n;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#s=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=mg(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=mg(this.options);s.data!==void 0&&(this.setState(fg(s.data,s.dataUpdatedAt)),this.#e=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,s){const n=Wd(this.state.data,e,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),n}setState(e,s){this.#i({type:"setState",state:e,setStateOptions:s})}cancel(e){const s=this.#r?.promise;return this.#r?.cancel(e),s?s.then(Dt).catch(Dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>hs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Qr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Zv(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,s){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(d=>d.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,o=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},a=()=>{const l=tx(this.options,s),m=(()=>{const v={client:this.#n,queryKey:this.queryKey,meta:this.meta};return o(v),v})();return this.#a=!1,this.options.persister?this.options.persister(l,m,this):l(m)},y=(()=>{const l={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:a};return o(l),l})();this.options.behavior?.onFetch(y,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==y.fetchOptions?.meta)&&this.#i({type:"fetch",meta:y.fetchOptions?.meta}),this.#r=rx({initialPromise:s?.initialPromise,fn:y.fetchFn,onCancel:l=>{l instanceof Kd&&l.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(l,d)=>{this.#i({type:"failed",failureCount:l,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:y.options.retry,retryDelay:y.options.retryDelay,networkMode:y.options.networkMode,canRun:()=>!0});try{const l=await this.#r.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#s.config.onSuccess?.(l,this),this.#s.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof Kd){if(l.silent)return this.#r.promise;if(l.revert){if(this.state.data===void 0)throw l;return this.state.data}}throw this.#i({type:"error",error:l}),this.#s.config.onError?.(l,this),this.#s.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#i(e){const s=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ix(n.data,this.options),fetchMeta:e.meta??null};case"success":const o={...n,...fg(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?o:void 0,o;case"error":const a=e.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=s(this.state),dt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function ix(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sx(s.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function fg(e,s){return{data:e,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function mg(e){const s=typeof e.initialData=="function"?e.initialData():e.initialData,n=s!==void 0,o=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:n?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var wb=class extends Ri{constructor(e,s){super(),this.options=s,this.#e=e,this.#i=null,this.#a=qd(),this.bindMethods(),this.setOptions(s)}#e;#t=void 0;#s=void 0;#n=void 0;#r;#o;#a;#i;#p;#h;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),pg(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Vd(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Vd(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const s=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#t.setOptions(this.options),s._defaulted&&!Tl(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&gg(this.#t,n,this.options,s)&&this.#d(),this.updateResult(),o&&(this.#t!==n||hs(this.options.enabled,this.#t)!==hs(s.enabled,this.#t)||Qr(this.options.staleTime,this.#t)!==Qr(s.staleTime,this.#t))&&this.#g();const a=this.#v();o&&(this.#t!==n||hs(this.options.enabled,this.#t)!==hs(s.enabled,this.#t)||a!==this.#l)&&this.#x(a)}getOptimisticResult(e){const s=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(s,e);return Sb(this,n)&&(this.#n=n,this.#o=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(e,s){return new Proxy(e,{get:(n,o)=>(this.trackProp(o),s?.(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,o))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,s);return n.fetch().then(()=>this.createResult(n,s))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#b();let s=this.#t.fetch(this.options,e);return e?.throwOnError||(s=s.catch(Dt)),s}#g(){this.#_();const e=Qr(this.options.staleTime,this.#t);if(Rn||this.#n.isStale||!Ud(e))return;const n=Zv(this.#n.dataUpdatedAt,e)+1;this.#c=jn.setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(e){this.#w(),this.#l=e,!(Rn||hs(this.options.enabled,this.#t)===!1||!Ud(this.#l)||this.#l===0)&&(this.#u=jn.setInterval(()=>{(this.options.refetchIntervalInBackground||Ch.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#x(this.#v())}#_(){this.#c&&(jn.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(jn.clearInterval(this.#u),this.#u=void 0)}createResult(e,s){const n=this.#t,o=this.options,a=this.#n,f=this.#r,y=this.#o,d=e!==n?e.state:this.#s,{state:m}=e;let v={...m},h=!1,w;if(s._optimisticResults){const j=this.hasListeners(),A=!j&&pg(e,s),z=j&&gg(e,n,s,o);(A||z)&&(v={...v,...ix(m.data,e.options)}),s._optimisticResults==="isRestoring"&&(v.fetchStatus="idle")}let{error:S,errorUpdatedAt:k,status:b}=v;w=v.data;let u=!1;if(s.placeholderData!==void 0&&w===void 0&&b==="pending"){let j;a?.isPlaceholderData&&s.placeholderData===y?.placeholderData?(j=a.data,u=!0):j=typeof s.placeholderData=="function"?s.placeholderData(this.#f?.state.data,this.#f):s.placeholderData,j!==void 0&&(b="success",w=Wd(a?.data,j,s),h=!0)}if(s.select&&w!==void 0&&!u)if(a&&w===f?.data&&s.select===this.#p)w=this.#h;else try{this.#p=s.select,w=s.select(w),w=Wd(a?.data,w,s),this.#h=w,this.#i=null}catch(j){this.#i=j}this.#i&&(S=this.#i,w=this.#h,k=Date.now(),b="error");const x=v.fetchStatus==="fetching",p=b==="pending",g=b==="error",C=p&&x,E=w!==void 0,L={status:b,fetchStatus:v.fetchStatus,isPending:p,isSuccess:b==="success",isError:g,isInitialLoading:C,isLoading:C,data:w,dataUpdatedAt:v.dataUpdatedAt,error:S,errorUpdatedAt:k,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>d.dataUpdateCount||v.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!p,isLoadingError:g&&!E,isPaused:v.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:g&&E,isStale:jh(e,s),refetch:this.refetch,promise:this.#a,isEnabled:hs(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const j=L.data!==void 0,A=L.status==="error"&&!j,z=I=>{A?I.reject(L.error):j&&I.resolve(L.data)},$=()=>{const I=this.#a=L.promise=qd();z(I)},U=this.#a;switch(U.status){case"pending":e.queryHash===n.queryHash&&z(U);break;case"fulfilled":(A||L.data!==U.value)&&$();break;case"rejected":(!A||L.error!==U.reason)&&$();break}}return L}updateResult(){const e=this.#n,s=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#f=this.#t),Tl(s,e))return;this.#n=s;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!this.#m.size)return!0;const f=new Set(a??this.#m);return this.options.throwOnError&&f.add("error"),Object.keys(this.#n).some(y=>{const l=y;return this.#n[l]!==e[l]&&f.has(l)})};this.#S({listeners:n()})}#b(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const s=this.#t;this.#t=e,this.#s=e.state,this.hasListeners()&&(s?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#S(e){dt.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function bb(e,s){return hs(s.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&s.retryOnMount===!1)}function pg(e,s){return bb(e,s)||e.state.data!==void 0&&Vd(e,s,s.refetchOnMount)}function Vd(e,s,n){if(hs(s.enabled,e)!==!1&&Qr(s.staleTime,e)!=="static"){const o=typeof n=="function"?n(e):n;return o==="always"||o!==!1&&jh(e,s)}return!1}function gg(e,s,n,o){return(e!==s||hs(o.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&jh(e,n)}function jh(e,s){return hs(s.enabled,e)!==!1&&e.isStaleByTime(Qr(s.staleTime,e))}function Sb(e,s){return!Tl(e.getCurrentResult(),s)}function vg(e){return{onFetch:(s,n)=>{const o=s.options,a=s.fetchOptions?.meta?.fetchMore?.direction,f=s.state.data?.pages||[],y=s.state.data?.pageParams||[];let l={pages:[],pageParams:[]},d=0;const m=async()=>{let v=!1;const h=k=>{mb(k,()=>s.signal,()=>v=!0)},w=tx(s.options,s.fetchOptions),S=async(k,b,u)=>{if(v)return Promise.reject();if(b==null&&k.pages.length)return Promise.resolve(k);const p=(()=>{const P={client:s.client,queryKey:s.queryKey,pageParam:b,direction:u?"backward":"forward",meta:s.options.meta};return h(P),P})(),g=await w(p),{maxPages:C}=s.options,E=u?fb:hb;return{pages:E(k.pages,g,C),pageParams:E(k.pageParams,b,C)}};if(a&&f.length){const k=a==="backward",b=k?Cb:xg,u={pages:f,pageParams:y},x=b(o,u);l=await S(u,x,k)}else{const k=e??f.length;do{const b=d===0?y[0]??o.initialPageParam:xg(o,l);if(d>0&&b==null)break;l=await S(l,b),d++}while(d<k)}return l};s.options.persister?s.fetchFn=()=>s.options.persister?.(m,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},n):s.fetchFn=m}}}function xg(e,{pages:s,pageParams:n}){const o=s.length-1;return s.length>0?e.getNextPageParam(s[o],s,n[o],n):void 0}function Cb(e,{pages:s,pageParams:n}){return s.length>0?e.getPreviousPageParam?.(s[0],s,n[0],n):void 0}var jb=class extends nx{#e;#t;#s;#n;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#s=e.mutationCache,this.#t=[],this.state=e.state||ox(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(s=>s!==e),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const s=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=rx({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(f,y)=>{this.#r({type:"failed",failureCount:f,error:y})},onPause:()=>{this.#r({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const o=this.state.status==="pending",a=!this.#n.canStart();try{if(o)s();else{this.#r({type:"pending",variables:e,isPaused:a}),this.#s.config.onMutate&&await this.#s.config.onMutate(e,this,n);const y=await this.options.onMutate?.(e,n);y!==this.state.context&&this.#r({type:"pending",context:y,variables:e,isPaused:a})}const f=await this.#n.start();return await this.#s.config.onSuccess?.(f,e,this.state.context,this,n),await this.options.onSuccess?.(f,e,this.state.context,n),await this.#s.config.onSettled?.(f,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(f,null,e,this.state.context,n),this.#r({type:"success",data:f}),f}catch(f){try{await this.#s.config.onError?.(f,e,this.state.context,this,n)}catch(y){Promise.reject(y)}try{await this.options.onError?.(f,e,this.state.context,n)}catch(y){Promise.reject(y)}try{await this.#s.config.onSettled?.(void 0,f,this.state.variables,this.state.context,this,n)}catch(y){Promise.reject(y)}try{await this.options.onSettled?.(void 0,f,e,this.state.context,n)}catch(y){Promise.reject(y)}throw this.#r({type:"error",error:f}),f}finally{this.#s.runNext(this)}}#r(e){const s=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),dt.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#s.notify({mutation:this,type:"updated",action:e})})}};function ox(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kb=class extends Ri{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(e,s,n){const o=new jb({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(s),state:n});return this.add(o),o}add(e){this.#e.add(e);const s=al(e);if(typeof s=="string"){const n=this.#t.get(s);n?n.push(e):this.#t.set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const s=al(e);if(typeof s=="string"){const n=this.#t.get(s);if(n)if(n.length>1){const o=n.indexOf(e);o!==-1&&n.splice(o,1)}else n[0]===e&&this.#t.delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=al(e);if(typeof s=="string"){const o=this.#t.get(s)?.find(a=>a.state.status==="pending");return!o||o===e}else return!0}runNext(e){const s=al(e);return typeof s=="string"?this.#t.get(s)?.find(o=>o!==e&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){dt.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const s={exact:!0,...e};return this.getAll().find(n=>ug(s,n))}findAll(e={}){return this.getAll().filter(s=>ug(e,s))}notify(e){dt.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return dt.batch(()=>Promise.all(e.map(s=>s.continue().catch(Dt))))}};function al(e){return e.options.scope?.id}var Nb=class extends Ri{#e;#t=void 0;#s;#n;constructor(s,n){super(),this.#e=s,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){const n=this.options;this.options=this.#e.defaultMutationOptions(s),Tl(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),n?.mutationKey&&this.options.mutationKey&&Pn(n.mutationKey)!==Pn(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(s){this.#r(),this.#o(s)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#o()}mutate(s,n){return this.#n=n,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(s)}#r(){const s=this.#s?.state??ox();this.#t={...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset}}#o(s){dt.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,o=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(s?.type==="success"){try{this.#n.onSuccess?.(s.data,n,o,a)}catch(f){Promise.reject(f)}try{this.#n.onSettled?.(s.data,null,n,o,a)}catch(f){Promise.reject(f)}}else if(s?.type==="error"){try{this.#n.onError?.(s.error,n,o,a)}catch(f){Promise.reject(f)}try{this.#n.onSettled?.(void 0,s.error,n,o,a)}catch(f){Promise.reject(f)}}}this.listeners.forEach(n=>{n(this.#t)})})}},Eb=class extends Ri{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,s,n){const o=s.queryKey,a=s.queryHash??wh(o,s);let f=this.get(a);return f||(f=new _b({client:e,queryKey:o,queryHash:a,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(o)}),this.add(f)),f}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=this.#e.get(e.queryHash);s&&(e.destroy(),s===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const s={exact:!0,...e};return this.getAll().find(n=>cg(s,n))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(n=>cg(e,n)):s}notify(e){dt.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Rb=class{#e;#t;#s;#n;#r;#o;#a;#i;constructor(e={}){this.#e=e.queryCache||new Eb,this.#t=e.mutationCache||new kb,this.#s=e.defaultOptions||{},this.#n=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=Ch.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Dl.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const s=this.defaultQueryOptions({queryKey:e});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),n=this.#e.build(this,s),o=n.state.data;return o===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Qr(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(o))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:s,state:n})=>{const o=n.data;return[s,o]})}setQueryData(e,s,n){const o=this.defaultQueryOptions({queryKey:e}),f=this.#e.get(o.queryHash)?.state.data,y=cb(s,f);if(y!==void 0)return this.#e.build(this,o).setData(y,{...n,manual:!0})}setQueriesData(e,s,n){return dt.batch(()=>this.#e.findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,s,n)]))}getQueryState(e){const s=this.defaultQueryOptions({queryKey:e});return this.#e.get(s.queryHash)?.state}removeQueries(e){const s=this.#e;dt.batch(()=>{s.findAll(e).forEach(n=>{s.remove(n)})})}resetQueries(e,s){const n=this.#e;return dt.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const n={revert:!0,...s},o=dt.batch(()=>this.#e.findAll(e).map(a=>a.cancel(n)));return Promise.all(o).then(Dt).catch(Dt)}invalidateQueries(e,s={}){return dt.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},s)))}refetchQueries(e,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},o=dt.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let f=a.fetch(void 0,n);return n.throwOnError||(f=f.catch(Dt)),a.state.fetchStatus==="paused"?Promise.resolve():f}));return Promise.all(o).then(Dt)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const n=this.#e.build(this,s);return n.isStaleByTime(Qr(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dt).catch(Dt)}fetchInfiniteQuery(e){return e.behavior=vg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dt).catch(Dt)}ensureInfiniteQueryData(e){return e.behavior=vg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Dl.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,s){this.#n.set(Pn(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...this.#n.values()],n={};return s.forEach(o=>{Ro(e,o.queryKey)&&Object.assign(n,o.defaultOptions)}),n}setMutationDefaults(e,s){this.#r.set(Pn(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...this.#r.values()],n={};return s.forEach(o=>{Ro(e,o.mutationKey)&&Object.assign(n,o.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const s={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=wh(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===bh&&(s.enabled=!1),s}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},ax=R.createContext(void 0),Kt=e=>{const s=R.useContext(ax);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},Pb=({client:e,children:s})=>(R.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(ax.Provider,{value:e,children:s})),lx=R.createContext(!1),Tb=()=>R.useContext(lx);lx.Provider;function Db(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Mb=R.createContext(Db()),Lb=()=>R.useContext(Mb),Ab=(e,s,n)=>{const o=n?.state.error&&typeof e.throwOnError=="function"?Sh(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||o)&&(s.isReset()||(e.retryOnMount=!1))},Ob=e=>{R.useEffect(()=>{e.clearReset()},[e])},Ib=({result:e,errorResetBoundary:s,throwOnError:n,query:o,suspense:a})=>e.isError&&!s.isReset()&&!e.isFetching&&o&&(a&&e.data===void 0||Sh(n,[e.error,o])),Fb=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),o=e.staleTime;e.staleTime=typeof o=="function"?(...a)=>n(o(...a)):n(o),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Bb=(e,s)=>e.isLoading&&e.isFetching&&!s,Hb=(e,s)=>e?.suspense&&s.isPending,yg=(e,s,n)=>s.fetchOptimistic(e).catch(()=>{n.clearReset()});function zb(e,s,n){const o=Tb(),a=Lb(),f=Kt(),y=f.defaultQueryOptions(e);f.getDefaultOptions().queries?._experimental_beforeQuery?.(y);const l=f.getQueryCache().get(y.queryHash);y._optimisticResults=o?"isRestoring":"optimistic",Fb(y),Ab(y,a,l),Ob(a);const d=!f.getQueryCache().get(y.queryHash),[m]=R.useState(()=>new s(f,y)),v=m.getOptimisticResult(y),h=!o&&e.subscribed!==!1;if(R.useSyncExternalStore(R.useCallback(w=>{const S=h?m.subscribe(dt.batchCalls(w)):Dt;return m.updateResult(),S},[m,h]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),R.useEffect(()=>{m.setOptions(y)},[y,m]),Hb(y,v))throw yg(y,m,a);if(Ib({result:v,errorResetBoundary:a,throwOnError:y.throwOnError,query:l,suspense:y.suspense}))throw v.error;return f.getDefaultOptions().queries?._experimental_afterQuery?.(y,v),y.experimental_prefetchInRender&&!Rn&&Bb(v,o)&&(d?yg(y,m,a):l?.promise)?.catch(Dt).finally(()=>{m.updateResult()}),y.notifyOnChangeProps?v:m.trackResult(v)}function Je(e,s){return zb(e,wb)}function Se(e,s){const n=Kt(),[o]=R.useState(()=>new Nb(n,e));R.useEffect(()=>{o.setOptions(e)},[o,e]);const a=R.useSyncExternalStore(R.useCallback(y=>o.subscribe(dt.batchCalls(y)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),f=R.useCallback((y,l)=>{o.mutate(y,l).catch(Dt)},[o]);if(a.error&&Sh(o.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:f,mutateAsync:a.mutate}}var Jl=Jv();const Ub=Yl(Jl);function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Po.apply(this,arguments)}var Vr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vr||(Vr={}));const _g="popstate";function $b(e){e===void 0&&(e={});function s(o,a){let{pathname:f,search:y,hash:l}=o.location;return Gd("",{pathname:f,search:y,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(o,a){return typeof a=="string"?a:Ml(a)}return qb(s,n,null,e)}function st(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function kh(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Wb(){return Math.random().toString(36).substr(2,8)}function wg(e,s){return{usr:e.state,key:e.key,idx:s}}function Gd(e,s,n,o){return n===void 0&&(n=null),Po({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?Pi(s):s,{state:n,key:s&&s.key||o||Wb()})}function Ml(e){let{pathname:s="/",search:n="",hash:o=""}=e;return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(s+=o.charAt(0)==="#"?o:"#"+o),s}function Pi(e){let s={};if(e){let n=e.indexOf("#");n>=0&&(s.hash=e.substr(n),e=e.substr(0,n));let o=e.indexOf("?");o>=0&&(s.search=e.substr(o),e=e.substr(0,o)),e&&(s.pathname=e)}return s}function qb(e,s,n,o){o===void 0&&(o={});let{window:a=document.defaultView,v5Compat:f=!1}=o,y=a.history,l=Vr.Pop,d=null,m=v();m==null&&(m=0,y.replaceState(Po({},y.state,{idx:m}),""));function v(){return(y.state||{idx:null}).idx}function h(){l=Vr.Pop;let u=v(),x=u==null?null:u-m;m=u,d&&d({action:l,location:b.location,delta:x})}function w(u,x){l=Vr.Push;let p=Gd(b.location,u,x);m=v()+1;let g=wg(p,m),C=b.createHref(p);try{y.pushState(g,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(C)}f&&d&&d({action:l,location:b.location,delta:1})}function S(u,x){l=Vr.Replace;let p=Gd(b.location,u,x);m=v();let g=wg(p,m),C=b.createHref(p);y.replaceState(g,"",C),f&&d&&d({action:l,location:b.location,delta:0})}function k(u){let x=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof u=="string"?u:Ml(u);return p=p.replace(/ $/,"%20"),st(x,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,x)}let b={get action(){return l},get location(){return e(a,y)},listen(u){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(_g,h),d=u,()=>{a.removeEventListener(_g,h),d=null}},createHref(u){return s(a,u)},createURL:k,encodeLocation(u){let x=k(u);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:w,replace:S,go(u){return y.go(u)}};return b}var bg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bg||(bg={}));function Kb(e,s,n){return n===void 0&&(n="/"),Vb(e,s,n)}function Vb(e,s,n,o){let a=typeof s=="string"?Pi(s):s,f=ji(a.pathname||"/",n);if(f==null)return null;let y=cx(e);Gb(y);let l=null;for(let d=0;l==null&&d<y.length;++d){let m=iS(f);l=rS(y[d],m)}return l}function cx(e,s,n,o){s===void 0&&(s=[]),n===void 0&&(n=[]),o===void 0&&(o="");let a=(f,y,l)=>{let d={relativePath:l===void 0?f.path||"":l,caseSensitive:f.caseSensitive===!0,childrenIndex:y,route:f};d.relativePath.startsWith("/")&&(st(d.relativePath.startsWith(o),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(o.length));let m=Yr([o,d.relativePath]),v=n.concat(d);f.children&&f.children.length>0&&(st(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),cx(f.children,s,v,m)),!(f.path==null&&!f.index)&&s.push({path:m,score:tS(m,f.index),routesMeta:v})};return e.forEach((f,y)=>{var l;if(f.path===""||!((l=f.path)!=null&&l.includes("?")))a(f,y);else for(let d of ux(f.path))a(f,y,d)}),s}function ux(e){let s=e.split("/");if(s.length===0)return[];let[n,...o]=s,a=n.endsWith("?"),f=n.replace(/\?$/,"");if(o.length===0)return a?[f,""]:[f];let y=ux(o.join("/")),l=[];return l.push(...y.map(d=>d===""?f:[f,d].join("/"))),a&&l.push(...y),l.map(d=>e.startsWith("/")&&d===""?"/":d)}function Gb(e){e.sort((s,n)=>s.score!==n.score?n.score-s.score:sS(s.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const Qb=/^:[\w-]+$/,Yb=3,Xb=2,Jb=1,Zb=10,eS=-2,Sg=e=>e==="*";function tS(e,s){let n=e.split("/"),o=n.length;return n.some(Sg)&&(o+=eS),s&&(o+=Xb),n.filter(a=>!Sg(a)).reduce((a,f)=>a+(Qb.test(f)?Yb:f===""?Jb:Zb),o)}function sS(e,s){return e.length===s.length&&e.slice(0,-1).every((o,a)=>o===s[a])?e[e.length-1]-s[s.length-1]:0}function rS(e,s,n){let{routesMeta:o}=e,a={},f="/",y=[];for(let l=0;l<o.length;++l){let d=o[l],m=l===o.length-1,v=f==="/"?s:s.slice(f.length)||"/",h=Qd({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},v),w=d.route;if(!h)return null;Object.assign(a,h.params),y.push({params:a,pathname:Yr([f,h.pathname]),pathnameBase:uS(Yr([f,h.pathnameBase])),route:w}),h.pathnameBase!=="/"&&(f=Yr([f,h.pathnameBase]))}return y}function Qd(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=nS(e.path,e.caseSensitive,e.end),a=s.match(n);if(!a)return null;let f=a[0],y=f.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:o.reduce((m,v,h)=>{let{paramName:w,isOptional:S}=v;if(w==="*"){let b=l[h]||"";y=f.slice(0,f.length-b.length).replace(/(.)\/+$/,"$1")}const k=l[h];return S&&!k?m[w]=void 0:m[w]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:f,pathnameBase:y,pattern:e}}function nS(e,s,n){s===void 0&&(s=!1),n===void 0&&(n=!0),kh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,l,d)=>(o.push({paramName:l,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),o]}function iS(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return kh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function ji(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let n=s.endsWith("/")?s.length-1:s.length,o=e.charAt(n);return o&&o!=="/"?null:e.slice(n)||"/"}const oS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aS=e=>oS.test(e);function lS(e,s){s===void 0&&(s="/");let{pathname:n,search:o="",hash:a=""}=typeof e=="string"?Pi(e):e,f;if(n)if(aS(n))f=n;else{if(n.includes("//")){let y=n;n=n.replace(/\/\/+/g,"/"),kh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(y+" -> "+n))}n.startsWith("/")?f=Cg(n.substring(1),"/"):f=Cg(n,s)}else f=s;return{pathname:f,search:dS(o),hash:hS(a)}}function Cg(e,s){let n=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function fd(e,s,n,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cS(e){return e.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function Nh(e,s){let n=cS(e);return s?n.map((o,a)=>a===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function Eh(e,s,n,o){o===void 0&&(o=!1);let a;typeof e=="string"?a=Pi(e):(a=Po({},e),st(!a.pathname||!a.pathname.includes("?"),fd("?","pathname","search",a)),st(!a.pathname||!a.pathname.includes("#"),fd("#","pathname","hash",a)),st(!a.search||!a.search.includes("#"),fd("#","search","hash",a)));let f=e===""||a.pathname==="",y=f?"/":a.pathname,l;if(y==null)l=n;else{let h=s.length-1;if(!o&&y.startsWith("..")){let w=y.split("/");for(;w[0]==="..";)w.shift(),h-=1;a.pathname=w.join("/")}l=h>=0?s[h]:"/"}let d=lS(a,l),m=y&&y!=="/"&&y.endsWith("/"),v=(f||y===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||v)&&(d.pathname+="/"),d}const Yr=e=>e.join("/").replace(/\/\/+/g,"/"),uS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const dx=["post","put","patch","delete"];new Set(dx);const mS=["get",...dx];new Set(mS);function To(){return To=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},To.apply(this,arguments)}const Zl=R.createContext(null),hx=R.createContext(null),pr=R.createContext(null),ec=R.createContext(null),gr=R.createContext({outlet:null,matches:[],isDataRoute:!1}),fx=R.createContext(null);function pS(e,s){let{relative:n}=s===void 0?{}:s;Ti()||st(!1);let{basename:o,navigator:a}=R.useContext(pr),{hash:f,pathname:y,search:l}=tc(e,{relative:n}),d=y;return o!=="/"&&(d=y==="/"?o:Yr([o,y])),a.createHref({pathname:d,search:l,hash:f})}function Ti(){return R.useContext(ec)!=null}function Di(){return Ti()||st(!1),R.useContext(ec).location}function mx(e){R.useContext(pr).static||R.useLayoutEffect(e)}function Fo(){let{isDataRoute:e}=R.useContext(gr);return e?PS():gS()}function gS(){Ti()||st(!1);let e=R.useContext(Zl),{basename:s,future:n,navigator:o}=R.useContext(pr),{matches:a}=R.useContext(gr),{pathname:f}=Di(),y=JSON.stringify(Nh(a,n.v7_relativeSplatPath)),l=R.useRef(!1);return mx(()=>{l.current=!0}),R.useCallback(function(m,v){if(v===void 0&&(v={}),!l.current)return;if(typeof m=="number"){o.go(m);return}let h=Eh(m,JSON.parse(y),f,v.relative==="path");e==null&&s!=="/"&&(h.pathname=h.pathname==="/"?s:Yr([s,h.pathname])),(v.replace?o.replace:o.push)(h,v.state,v)},[s,o,y,f,e])}const vS=R.createContext(null);function xS(e){let s=R.useContext(gr).outlet;return s&&R.createElement(vS.Provider,{value:e},s)}function tc(e,s){let{relative:n}=s===void 0?{}:s,{future:o}=R.useContext(pr),{matches:a}=R.useContext(gr),{pathname:f}=Di(),y=JSON.stringify(Nh(a,o.v7_relativeSplatPath));return R.useMemo(()=>Eh(e,JSON.parse(y),f,n==="path"),[e,y,f,n])}function yS(e,s){return _S(e,s)}function _S(e,s,n,o){Ti()||st(!1);let{navigator:a}=R.useContext(pr),{matches:f}=R.useContext(gr),y=f[f.length-1],l=y?y.params:{};y&&y.pathname;let d=y?y.pathnameBase:"/";y&&y.route;let m=Di(),v;if(s){var h;let u=typeof s=="string"?Pi(s):s;d==="/"||(h=u.pathname)!=null&&h.startsWith(d)||st(!1),v=u}else v=m;let w=v.pathname||"/",S=w;if(d!=="/"){let u=d.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(u.length).join("/")}let k=Kb(e,{pathname:S}),b=jS(k&&k.map(u=>Object.assign({},u,{params:Object.assign({},l,u.params),pathname:Yr([d,a.encodeLocation?a.encodeLocation(u.pathname).pathname:u.pathname]),pathnameBase:u.pathnameBase==="/"?d:Yr([d,a.encodeLocation?a.encodeLocation(u.pathnameBase).pathname:u.pathnameBase])})),f,n,o);return s&&b?R.createElement(ec.Provider,{value:{location:To({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:Vr.Pop}},b):b}function wS(){let e=RS(),s=fS(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},s),n?R.createElement("pre",{style:a},n):null,null)}const bS=R.createElement(wS,null);class SS extends R.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){console.error("React Router caught the following error during render",s,n)}render(){return this.state.error!==void 0?R.createElement(gr.Provider,{value:this.props.routeContext},R.createElement(fx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CS(e){let{routeContext:s,match:n,children:o}=e,a=R.useContext(Zl);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(gr.Provider,{value:s},o)}function jS(e,s,n,o){var a;if(s===void 0&&(s=[]),n===void 0&&(n=null),o===void 0&&(o=null),e==null){var f;if(!n)return null;if(n.errors)e=n.matches;else if((f=o)!=null&&f.v7_partialHydration&&s.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let y=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let v=y.findIndex(h=>h.route.id&&l?.[h.route.id]!==void 0);v>=0||st(!1),y=y.slice(0,Math.min(y.length,v+1))}let d=!1,m=-1;if(n&&o&&o.v7_partialHydration)for(let v=0;v<y.length;v++){let h=y[v];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(m=v),h.route.id){let{loaderData:w,errors:S}=n,k=h.route.loader&&w[h.route.id]===void 0&&(!S||S[h.route.id]===void 0);if(h.route.lazy||k){d=!0,m>=0?y=y.slice(0,m+1):y=[y[0]];break}}}return y.reduceRight((v,h,w)=>{let S,k=!1,b=null,u=null;n&&(S=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||bS,d&&(m<0&&w===0?(TS("route-fallback"),k=!0,u=null):m===w&&(k=!0,u=h.route.hydrateFallbackElement||null)));let x=s.concat(y.slice(0,w+1)),p=()=>{let g;return S?g=b:k?g=u:h.route.Component?g=R.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=v,R.createElement(CS,{match:h,routeContext:{outlet:v,matches:x,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||w===0)?R.createElement(SS,{location:n.location,revalidation:n.revalidation,component:b,error:S,children:p(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):p()},null)}var px=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(px||{}),gx=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(gx||{});function kS(e){let s=R.useContext(Zl);return s||st(!1),s}function NS(e){let s=R.useContext(hx);return s||st(!1),s}function ES(e){let s=R.useContext(gr);return s||st(!1),s}function vx(e){let s=ES(),n=s.matches[s.matches.length-1];return n.route.id||st(!1),n.route.id}function RS(){var e;let s=R.useContext(fx),n=NS(),o=vx();return s!==void 0?s:(e=n.errors)==null?void 0:e[o]}function PS(){let{router:e}=kS(px.UseNavigateStable),s=vx(gx.UseNavigateStable),n=R.useRef(!1);return mx(()=>{n.current=!0}),R.useCallback(function(a,f){f===void 0&&(f={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,To({fromRouteId:s},f)))},[e,s])}const jg={};function TS(e,s,n){jg[e]||(jg[e]=!0)}function DS(e,s){e?.v7_startTransition,e?.v7_relativeSplatPath}function Ll(e){let{to:s,replace:n,state:o,relative:a}=e;Ti()||st(!1);let{future:f,static:y}=R.useContext(pr),{matches:l}=R.useContext(gr),{pathname:d}=Di(),m=Fo(),v=Eh(s,Nh(l,f.v7_relativeSplatPath),d,a==="path"),h=JSON.stringify(v);return R.useEffect(()=>m(JSON.parse(h),{replace:n,state:o,relative:a}),[m,h,a,n,o]),null}function xx(e){return xS(e.context)}function Nt(e){st(!1)}function MS(e){let{basename:s="/",children:n=null,location:o,navigationType:a=Vr.Pop,navigator:f,static:y=!1,future:l}=e;Ti()&&st(!1);let d=s.replace(/^\/*/,"/"),m=R.useMemo(()=>({basename:d,navigator:f,static:y,future:To({v7_relativeSplatPath:!1},l)}),[d,l,f,y]);typeof o=="string"&&(o=Pi(o));let{pathname:v="/",search:h="",hash:w="",state:S=null,key:k="default"}=o,b=R.useMemo(()=>{let u=ji(v,d);return u==null?null:{location:{pathname:u,search:h,hash:w,state:S,key:k},navigationType:a}},[d,v,h,w,S,k,a]);return b==null?null:R.createElement(pr.Provider,{value:m},R.createElement(ec.Provider,{children:n,value:b}))}function LS(e){let{children:s,location:n}=e;return yS(Yd(s),n)}new Promise(()=>{});function Yd(e,s){s===void 0&&(s=[]);let n=[];return R.Children.forEach(e,(o,a)=>{if(!R.isValidElement(o))return;let f=[...s,a];if(o.type===R.Fragment){n.push.apply(n,Yd(o.props.children,f));return}o.type!==Nt&&st(!1),!o.props.index||!o.props.children||st(!1);let y={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(y.children=Yd(o.props.children,f)),n.push(y)}),n}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Al.apply(this,arguments)}function yx(e,s){if(e==null)return{};var n={},o=Object.keys(e),a,f;for(f=0;f<o.length;f++)a=o[f],!(s.indexOf(a)>=0)&&(n[a]=e[a]);return n}function AS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function OS(e,s){return e.button===0&&(!s||s==="_self")&&!AS(e)}const IS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],BS="6";try{window.__reactRouterVersion=BS}catch{}const HS=R.createContext({isTransitioning:!1}),zS="startTransition",kg=Xl[zS];function US(e){let{basename:s,children:n,future:o,window:a}=e,f=R.useRef();f.current==null&&(f.current=$b({window:a,v5Compat:!0}));let y=f.current,[l,d]=R.useState({action:y.action,location:y.location}),{v7_startTransition:m}=o||{},v=R.useCallback(h=>{m&&kg?kg(()=>d(h)):d(h)},[d,m]);return R.useLayoutEffect(()=>y.listen(v),[y,v]),R.useEffect(()=>DS(o),[o]),R.createElement(MS,{basename:s,children:n,location:l.location,navigationType:l.action,navigator:y,future:o})}const $S=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qS=R.forwardRef(function(s,n){let{onClick:o,relative:a,reloadDocument:f,replace:y,state:l,target:d,to:m,preventScrollReset:v,viewTransition:h}=s,w=yx(s,IS),{basename:S}=R.useContext(pr),k,b=!1;if(typeof m=="string"&&WS.test(m)&&(k=m,$S))try{let g=new URL(window.location.href),C=m.startsWith("//")?new URL(g.protocol+m):new URL(m),E=ji(C.pathname,S);C.origin===g.origin&&E!=null?m=E+C.search+C.hash:b=!0}catch{}let u=pS(m,{relative:a}),x=VS(m,{replace:y,state:l,target:d,preventScrollReset:v,relative:a,viewTransition:h});function p(g){o&&o(g),g.defaultPrevented||x(g)}return R.createElement("a",Al({},w,{href:k||u,onClick:b||f?o:p,ref:n,target:d}))}),Ng=R.forwardRef(function(s,n){let{"aria-current":o="page",caseSensitive:a=!1,className:f="",end:y=!1,style:l,to:d,viewTransition:m,children:v}=s,h=yx(s,FS),w=tc(d,{relative:h.relative}),S=Di(),k=R.useContext(hx),{navigator:b,basename:u}=R.useContext(pr),x=k!=null&&GS(w)&&m===!0,p=b.encodeLocation?b.encodeLocation(w).pathname:w.pathname,g=S.pathname,C=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;a||(g=g.toLowerCase(),C=C?C.toLowerCase():null,p=p.toLowerCase()),C&&u&&(C=ji(C,u)||C);const E=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let P=g===p||!y&&g.startsWith(p)&&g.charAt(E)==="/",L=C!=null&&(C===p||!y&&C.startsWith(p)&&C.charAt(p.length)==="/"),j={isActive:P,isPending:L,isTransitioning:x},A=P?o:void 0,z;typeof f=="function"?z=f(j):z=[f,P?"active":null,L?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let $=typeof l=="function"?l(j):l;return R.createElement(qS,Al({},h,{"aria-current":A,className:z,ref:n,style:$,to:d,viewTransition:m}),typeof v=="function"?v(j):v)});var Xd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xd||(Xd={}));var Eg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Eg||(Eg={}));function KS(e){let s=R.useContext(Zl);return s||st(!1),s}function VS(e,s){let{target:n,replace:o,state:a,preventScrollReset:f,relative:y,viewTransition:l}=s===void 0?{}:s,d=Fo(),m=Di(),v=tc(e,{relative:y});return R.useCallback(h=>{if(OS(h,n)){h.preventDefault();let w=o!==void 0?o:Ml(m)===Ml(v);d(e,{replace:w,state:a,preventScrollReset:f,relative:y,viewTransition:l})}},[m,d,v,o,a,n,e,f,y,l])}function GS(e,s){s===void 0&&(s={});let n=R.useContext(HS);n==null&&st(!1);let{basename:o}=KS(Xd.useViewTransitionState),a=tc(e,{relative:s.relative});if(!n.isTransitioning)return!1;let f=ji(n.currentLocation.pathname,o)||n.currentLocation.pathname,y=ji(n.nextLocation.pathname,o)||n.nextLocation.pathname;return Qd(a.pathname,y)!=null||Qd(a.pathname,f)!=null}const QS={},Rg=e=>{let s;const n=new Set,o=(v,h)=>{const w=typeof v=="function"?v(s):v;if(!Object.is(w,s)){const S=s;s=h??(typeof w!="object"||w===null)?w:Object.assign({},s,w),n.forEach(k=>k(s,S))}},a=()=>s,d={setState:o,getState:a,getInitialState:()=>m,subscribe:v=>(n.add(v),()=>n.delete(v)),destroy:()=>{(QS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},m=s=e(o,a,d);return d},YS=e=>e?Rg(e):Rg;var md={exports:{}},pd={},gd={exports:{}},vd={};var Pg;function XS(){if(Pg)return vd;Pg=1;var e=Io();function s(h,w){return h===w&&(h!==0||1/h===1/w)||h!==h&&w!==w}var n=typeof Object.is=="function"?Object.is:s,o=e.useState,a=e.useEffect,f=e.useLayoutEffect,y=e.useDebugValue;function l(h,w){var S=w(),k=o({inst:{value:S,getSnapshot:w}}),b=k[0].inst,u=k[1];return f(function(){b.value=S,b.getSnapshot=w,d(b)&&u({inst:b})},[h,S,w]),a(function(){return d(b)&&u({inst:b}),h(function(){d(b)&&u({inst:b})})},[h]),y(S),S}function d(h){var w=h.getSnapshot;h=h.value;try{var S=w();return!n(h,S)}catch{return!0}}function m(h,w){return w()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:l;return vd.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,vd}var Tg;function JS(){return Tg||(Tg=1,gd.exports=XS()),gd.exports}var Dg;function ZS(){if(Dg)return pd;Dg=1;var e=Io(),s=JS();function n(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var o=typeof Object.is=="function"?Object.is:n,a=s.useSyncExternalStore,f=e.useRef,y=e.useEffect,l=e.useMemo,d=e.useDebugValue;return pd.useSyncExternalStoreWithSelector=function(m,v,h,w,S){var k=f(null);if(k.current===null){var b={hasValue:!1,value:null};k.current=b}else b=k.current;k=l(function(){function x(P){if(!p){if(p=!0,g=P,P=w(P),S!==void 0&&b.hasValue){var L=b.value;if(S(L,P))return C=L}return C=P}if(L=C,o(g,P))return L;var j=w(P);return S!==void 0&&S(L,j)?(g=P,L):(g=P,C=j)}var p=!1,g,C,E=h===void 0?null:h;return[function(){return x(v())},E===null?void 0:function(){return x(E())}]},[v,h,w,S]);var u=a(m,k[0],k[1]);return y(function(){b.hasValue=!0,b.value=u},[u]),d(u),u},pd}var Mg;function eC(){return Mg||(Mg=1,md.exports=ZS()),md.exports}var tC=eC();const sC=Yl(tC),_x={},{useDebugValue:rC}=Bs,{useSyncExternalStoreWithSelector:nC}=sC;let Lg=!1;const iC=e=>e;function oC(e,s=iC,n){(_x?"production":void 0)!=="production"&&n&&!Lg&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Lg=!0);const o=nC(e.subscribe,e.getState,e.getServerState||e.getInitialState,s,n);return rC(o),o}const aC=e=>{(_x?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const s=typeof e=="function"?YS(e):e,n=(o,a)=>oC(s,o,a);return Object.assign(n,s),n},wx=e=>aC,lC={};function cC(e,s){let n;try{n=e()}catch{return}return{getItem:a=>{var f;const y=d=>d===null?null:JSON.parse(d,void 0),l=(f=n.getItem(a))!=null?f:null;return l instanceof Promise?l.then(y):y(l)},setItem:(a,f)=>n.setItem(a,JSON.stringify(f,void 0)),removeItem:a=>n.removeItem(a)}}const Do=e=>s=>{try{const n=e(s);return n instanceof Promise?n:{then(o){return Do(o)(n)},catch(o){return this}}}catch(n){return{then(o){return this},catch(o){return Do(o)(n)}}}},uC=(e,s)=>(n,o,a)=>{let f={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:u=>u,version:0,merge:(u,x)=>({...x,...u}),...s},y=!1;const l=new Set,d=new Set;let m;try{m=f.getStorage()}catch{}if(!m)return e((...u)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),n(...u)},o,a);const v=Do(f.serialize),h=()=>{const u=f.partialize({...o()});let x;const p=v({state:u,version:f.version}).then(g=>m.setItem(f.name,g)).catch(g=>{x=g});if(x)throw x;return p},w=a.setState;a.setState=(u,x)=>{w(u,x),h()};const S=e((...u)=>{n(...u),h()},o,a);let k;const b=()=>{var u;if(!m)return;y=!1,l.forEach(p=>p(o()));const x=((u=f.onRehydrateStorage)==null?void 0:u.call(f,o()))||void 0;return Do(m.getItem.bind(m))(f.name).then(p=>{if(p)return f.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==f.version){if(f.migrate)return f.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var g;return k=f.merge(p,(g=o())!=null?g:S),n(k,!0),h()}).then(()=>{x?.(k,void 0),y=!0,d.forEach(p=>p(k))}).catch(p=>{x?.(void 0,p)})};return a.persist={setOptions:u=>{f={...f,...u},u.getStorage&&(m=u.getStorage())},clearStorage:()=>{m?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>b(),hasHydrated:()=>y,onHydrate:u=>(l.add(u),()=>{l.delete(u)}),onFinishHydration:u=>(d.add(u),()=>{d.delete(u)})},b(),k||S},dC=(e,s)=>(n,o,a)=>{let f={storage:cC(()=>localStorage),partialize:b=>b,version:0,merge:(b,u)=>({...u,...b}),...s},y=!1;const l=new Set,d=new Set;let m=f.storage;if(!m)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),n(...b)},o,a);const v=()=>{const b=f.partialize({...o()});return m.setItem(f.name,{state:b,version:f.version})},h=a.setState;a.setState=(b,u)=>{h(b,u),v()};const w=e((...b)=>{n(...b),v()},o,a);a.getInitialState=()=>w;let S;const k=()=>{var b,u;if(!m)return;y=!1,l.forEach(p=>{var g;return p((g=o())!=null?g:w)});const x=((u=f.onRehydrateStorage)==null?void 0:u.call(f,(b=o())!=null?b:w))||void 0;return Do(m.getItem.bind(m))(f.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==f.version){if(f.migrate)return[!0,f.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var g;const[C,E]=p;if(S=f.merge(E,(g=o())!=null?g:w),n(S,!0),C)return v()}).then(()=>{x?.(S,void 0),S=o(),y=!0,d.forEach(p=>p(S))}).catch(p=>{x?.(void 0,p)})};return a.persist={setOptions:b=>{f={...f,...b},b.storage&&(m=b.storage)},clearStorage:()=>{m?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>k(),hasHydrated:()=>y,onHydrate:b=>(l.add(b),()=>{l.delete(b)}),onFinishHydration:b=>(d.add(b),()=>{d.delete(b)})},f.skipHydration||k(),S||w},hC=(e,s)=>"getStorage"in s||"serialize"in s||"deserialize"in s?((lC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),uC(e,s)):dC(e,s),bx=hC,ms=wx()(bx((e,s)=>({accessToken:null,refreshToken:null,user:null,isAuthenticated:!1,login:(n,o,a)=>e({accessToken:n,refreshToken:o,user:a,isAuthenticated:!0}),logout:()=>e({accessToken:null,refreshToken:null,user:null,isAuthenticated:!1}),setTokens:(n,o)=>e({accessToken:n,refreshToken:o}),hasPermission:n=>{const{user:o}=s();return o?o.role==="admin"?!0:o.permissions.includes(n):!1}}),{name:"sliverui-auth",partialize:e=>({accessToken:e.accessToken,refreshToken:e.refreshToken,user:e.user,isAuthenticated:e.isAuthenticated})}));function ke(e,s,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return s?.(a)}}function Ag(e,s){if(typeof e=="function")return e(s);e!=null&&(e.current=s)}function rn(...e){return s=>{let n=!1;const o=e.map(a=>{const f=Ag(a,s);return!n&&typeof f=="function"&&(n=!0),f});if(n)return()=>{for(let a=0;a<o.length;a++){const f=o[a];typeof f=="function"?f():Ag(e[a],null)}}}}function ft(...e){return R.useCallback(rn(...e),e)}function fC(e,s){const n=R.createContext(s),o=f=>{const{children:y,...l}=f,d=R.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:d,children:y})};o.displayName=e+"Provider";function a(f){const y=R.useContext(n);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${e}\``)}return[o,a]}function An(e,s=[]){let n=[];function o(f,y){const l=R.createContext(y),d=n.length;n=[...n,y];const m=h=>{const{scope:w,children:S,...k}=h,b=w?.[e]?.[d]||l,u=R.useMemo(()=>k,Object.values(k));return r.jsx(b.Provider,{value:u,children:S})};m.displayName=f+"Provider";function v(h,w){const S=w?.[e]?.[d]||l,k=R.useContext(S);if(k)return k;if(y!==void 0)return y;throw new Error(`\`${h}\` must be used within \`${f}\``)}return[m,v]}const a=()=>{const f=n.map(y=>R.createContext(y));return function(l){const d=l?.[e]||f;return R.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return a.scopeName=e,[o,mC(a,...s)]}function mC(...e){const s=e[0];if(e.length===1)return s;const n=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(f){const y=o.reduce((l,{useScope:d,scopeName:m})=>{const h=d(f)[`__scope${m}`];return{...l,...h}},{});return R.useMemo(()=>({[`__scope${s.scopeName}`]:y}),[y])}};return n.scopeName=s.scopeName,n}function Og(e){const s=pC(e),n=R.forwardRef((o,a)=>{const{children:f,...y}=o,l=R.Children.toArray(f),d=l.find(vC);if(d){const m=d.props.children,v=l.map(h=>h===d?R.Children.count(m)>1?R.Children.only(null):R.isValidElement(m)?m.props.children:null:h);return r.jsx(s,{...y,ref:a,children:R.isValidElement(m)?R.cloneElement(m,void 0,v):null})}return r.jsx(s,{...y,ref:a,children:f})});return n.displayName=`${e}.Slot`,n}function pC(e){const s=R.forwardRef((n,o)=>{const{children:a,...f}=n;if(R.isValidElement(a)){const y=yC(a),l=xC(f,a.props);return a.type!==R.Fragment&&(l.ref=o?rn(o,y):y),R.cloneElement(a,l)}return R.Children.count(a)>1?R.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var gC=Symbol("radix.slottable");function vC(e){return R.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gC}function xC(e,s){const n={...s};for(const o in s){const a=e[o],f=s[o];/^on[A-Z]/.test(o)?a&&f?n[o]=(...l)=>{const d=f(...l);return a(...l),d}:a&&(n[o]=a):o==="style"?n[o]={...a,...f}:o==="className"&&(n[o]=[a,f].filter(Boolean).join(" "))}return{...e,...n}}function yC(e){let s=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?e.ref:(s=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Rh(e){const s=e+"CollectionProvider",[n,o]=An(s),[a,f]=n(s,{collectionRef:{current:null},itemMap:new Map}),y=b=>{const{scope:u,children:x}=b,p=Bs.useRef(null),g=Bs.useRef(new Map).current;return r.jsx(a,{scope:u,itemMap:g,collectionRef:p,children:x})};y.displayName=s;const l=e+"CollectionSlot",d=Og(l),m=Bs.forwardRef((b,u)=>{const{scope:x,children:p}=b,g=f(l,x),C=ft(u,g.collectionRef);return r.jsx(d,{ref:C,children:p})});m.displayName=l;const v=e+"CollectionItemSlot",h="data-radix-collection-item",w=Og(v),S=Bs.forwardRef((b,u)=>{const{scope:x,children:p,...g}=b,C=Bs.useRef(null),E=ft(u,C),P=f(v,x);return Bs.useEffect(()=>(P.itemMap.set(C,{ref:C,...g}),()=>{P.itemMap.delete(C)})),r.jsx(w,{[h]:"",ref:E,children:p})});S.displayName=v;function k(b){const u=f(e+"CollectionConsumer",b);return Bs.useCallback(()=>{const p=u.collectionRef.current;if(!p)return[];const g=Array.from(p.querySelectorAll(`[${h}]`));return Array.from(u.itemMap.values()).sort((P,L)=>g.indexOf(P.ref.current)-g.indexOf(L.ref.current))},[u.collectionRef,u.itemMap])}return[{Provider:y,Slot:m,ItemSlot:S},k,o]}function _C(e){const s=wC(e),n=R.forwardRef((o,a)=>{const{children:f,...y}=o,l=R.Children.toArray(f),d=l.find(SC);if(d){const m=d.props.children,v=l.map(h=>h===d?R.Children.count(m)>1?R.Children.only(null):R.isValidElement(m)?m.props.children:null:h);return r.jsx(s,{...y,ref:a,children:R.isValidElement(m)?R.cloneElement(m,void 0,v):null})}return r.jsx(s,{...y,ref:a,children:f})});return n.displayName=`${e}.Slot`,n}function wC(e){const s=R.forwardRef((n,o)=>{const{children:a,...f}=n;if(R.isValidElement(a)){const y=jC(a),l=CC(f,a.props);return a.type!==R.Fragment&&(l.ref=o?rn(o,y):y),R.cloneElement(a,l)}return R.Children.count(a)>1?R.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var bC=Symbol("radix.slottable");function SC(e){return R.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bC}function CC(e,s){const n={...s};for(const o in s){const a=e[o],f=s[o];/^on[A-Z]/.test(o)?a&&f?n[o]=(...l)=>{const d=f(...l);return a(...l),d}:a&&(n[o]=a):o==="style"?n[o]={...a,...f}:o==="className"&&(n[o]=[a,f].filter(Boolean).join(" "))}return{...e,...n}}function jC(e){let s=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?e.ref:(s=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qe=kC.reduce((e,s)=>{const n=_C(`Primitive.${s}`),o=R.forwardRef((a,f)=>{const{asChild:y,...l}=a,d=y?n:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...l,ref:f})});return o.displayName=`Primitive.${s}`,{...e,[s]:o}},{});function Ph(e,s){e&&Jl.flushSync(()=>e.dispatchEvent(s))}function is(e){const s=R.useRef(e);return R.useEffect(()=>{s.current=e}),R.useMemo(()=>(...n)=>s.current?.(...n),[])}function NC(e,s=globalThis?.document){const n=is(e);R.useEffect(()=>{const o=a=>{a.key==="Escape"&&n(a)};return s.addEventListener("keydown",o,{capture:!0}),()=>s.removeEventListener("keydown",o,{capture:!0})},[n,s])}var EC="DismissableLayer",Jd="dismissableLayer.update",RC="dismissableLayer.pointerDownOutside",PC="dismissableLayer.focusOutside",Ig,Sx=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sc=R.forwardRef((e,s)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f,onInteractOutside:y,onDismiss:l,...d}=e,m=R.useContext(Sx),[v,h]=R.useState(null),w=v?.ownerDocument??globalThis?.document,[,S]=R.useState({}),k=ft(s,L=>h(L)),b=Array.from(m.layers),[u]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),x=b.indexOf(u),p=v?b.indexOf(v):-1,g=m.layersWithOutsidePointerEventsDisabled.size>0,C=p>=x,E=DC(L=>{const j=L.target,A=[...m.branches].some(z=>z.contains(j));!C||A||(a?.(L),y?.(L),L.defaultPrevented||l?.())},w),P=MC(L=>{const j=L.target;[...m.branches].some(z=>z.contains(j))||(f?.(L),y?.(L),L.defaultPrevented||l?.())},w);return NC(L=>{p===m.layers.size-1&&(o?.(L),!L.defaultPrevented&&l&&(L.preventDefault(),l()))},w),R.useEffect(()=>{if(v)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Ig=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),Fg(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Ig)}},[v,w,n,m]),R.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),Fg())},[v,m]),R.useEffect(()=>{const L=()=>S({});return document.addEventListener(Jd,L),()=>document.removeEventListener(Jd,L)},[]),r.jsx(qe.div,{...d,ref:k,style:{pointerEvents:g?C?"auto":"none":void 0,...e.style},onFocusCapture:ke(e.onFocusCapture,P.onFocusCapture),onBlurCapture:ke(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ke(e.onPointerDownCapture,E.onPointerDownCapture)})});sc.displayName=EC;var TC="DismissableLayerBranch",Cx=R.forwardRef((e,s)=>{const n=R.useContext(Sx),o=R.useRef(null),a=ft(s,o);return R.useEffect(()=>{const f=o.current;if(f)return n.branches.add(f),()=>{n.branches.delete(f)}},[n.branches]),r.jsx(qe.div,{...e,ref:a})});Cx.displayName=TC;function DC(e,s=globalThis?.document){const n=is(e),o=R.useRef(!1),a=R.useRef(()=>{});return R.useEffect(()=>{const f=l=>{if(l.target&&!o.current){let d=function(){jx(RC,n,m,{discrete:!0})};const m={originalEvent:l};l.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=d,s.addEventListener("click",a.current,{once:!0})):d()}else s.removeEventListener("click",a.current);o.current=!1},y=window.setTimeout(()=>{s.addEventListener("pointerdown",f)},0);return()=>{window.clearTimeout(y),s.removeEventListener("pointerdown",f),s.removeEventListener("click",a.current)}},[s,n]),{onPointerDownCapture:()=>o.current=!0}}function MC(e,s=globalThis?.document){const n=is(e),o=R.useRef(!1);return R.useEffect(()=>{const a=f=>{f.target&&!o.current&&jx(PC,n,{originalEvent:f},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Fg(){const e=new CustomEvent(Jd);document.dispatchEvent(e)}function jx(e,s,n,{discrete:o}){const a=n.originalEvent.target,f=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});s&&a.addEventListener(e,s,{once:!0}),o?Ph(a,f):a.dispatchEvent(f)}var LC=sc,AC=Cx,ur=globalThis?.document?R.useLayoutEffect:()=>{},OC="Portal",rc=R.forwardRef((e,s)=>{const{container:n,...o}=e,[a,f]=R.useState(!1);ur(()=>f(!0),[]);const y=n||a&&globalThis?.document?.body;return y?Ub.createPortal(r.jsx(qe.div,{...o,ref:s}),y):null});rc.displayName=OC;function IC(e,s){return R.useReducer((n,o)=>s[n][o]??n,e)}var vr=e=>{const{present:s,children:n}=e,o=FC(s),a=typeof n=="function"?n({present:o.isPresent}):R.Children.only(n),f=ft(o.ref,BC(a));return typeof n=="function"||o.isPresent?R.cloneElement(a,{ref:f}):null};vr.displayName="Presence";function FC(e){const[s,n]=R.useState(),o=R.useRef(null),a=R.useRef(e),f=R.useRef("none"),y=e?"mounted":"unmounted",[l,d]=IC(y,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const m=ll(o.current);f.current=l==="mounted"?m:"none"},[l]),ur(()=>{const m=o.current,v=a.current;if(v!==e){const w=f.current,S=ll(m);e?d("MOUNT"):S==="none"||m?.display==="none"?d("UNMOUNT"):d(v&&w!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),ur(()=>{if(s){let m;const v=s.ownerDocument.defaultView??window,h=S=>{const b=ll(o.current).includes(CSS.escape(S.animationName));if(S.target===s&&b&&(d("ANIMATION_END"),!a.current)){const u=s.style.animationFillMode;s.style.animationFillMode="forwards",m=v.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=u)})}},w=S=>{S.target===s&&(f.current=ll(o.current))};return s.addEventListener("animationstart",w),s.addEventListener("animationcancel",h),s.addEventListener("animationend",h),()=>{v.clearTimeout(m),s.removeEventListener("animationstart",w),s.removeEventListener("animationcancel",h),s.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[s,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:R.useCallback(m=>{o.current=m?getComputedStyle(m):null,n(m)},[])}}function ll(e){return e?.animationName||"none"}function BC(e){let s=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?e.ref:(s=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var HC=Xl[" useInsertionEffect ".trim().toString()]||ur;function nc({prop:e,defaultProp:s,onChange:n=()=>{},caller:o}){const[a,f,y]=zC({defaultProp:s,onChange:n}),l=e!==void 0,d=l?e:a;{const v=R.useRef(e!==void 0);R.useEffect(()=>{const h=v.current;h!==l&&console.warn(`${o} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=l},[l,o])}const m=R.useCallback(v=>{if(l){const h=UC(v)?v(e):v;h!==e&&y.current?.(h)}else f(v)},[l,e,f,y]);return[d,m]}function zC({defaultProp:e,onChange:s}){const[n,o]=R.useState(e),a=R.useRef(n),f=R.useRef(s);return HC(()=>{f.current=s},[s]),R.useEffect(()=>{a.current!==n&&(f.current?.(n),a.current=n)},[n,a]),[n,o,f]}function UC(e){return typeof e=="function"}var $C=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),WC="VisuallyHidden",Th=R.forwardRef((e,s)=>r.jsx(qe.span,{...e,ref:s,style:{...$C,...e.style}}));Th.displayName=WC;var Dh="ToastProvider",[Mh,qC,KC]=Rh("Toast"),[kx]=An("Toast",[KC]),[VC,ic]=kx(Dh),Nx=e=>{const{__scopeToast:s,label:n="Notification",duration:o=5e3,swipeDirection:a="right",swipeThreshold:f=50,children:y}=e,[l,d]=R.useState(null),[m,v]=R.useState(0),h=R.useRef(!1),w=R.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dh}\`. Expected non-empty \`string\`.`),r.jsx(Mh.Provider,{scope:s,children:r.jsx(VC,{scope:s,label:n,duration:o,swipeDirection:a,swipeThreshold:f,toastCount:m,viewport:l,onViewportChange:d,onToastAdd:R.useCallback(()=>v(S=>S+1),[]),onToastRemove:R.useCallback(()=>v(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:w,children:y})})};Nx.displayName=Dh;var Ex="ToastViewport",GC=["F8"],Zd="toast.viewportPause",eh="toast.viewportResume",Rx=R.forwardRef((e,s)=>{const{__scopeToast:n,hotkey:o=GC,label:a="Notifications ({hotkey})",...f}=e,y=ic(Ex,n),l=qC(n),d=R.useRef(null),m=R.useRef(null),v=R.useRef(null),h=R.useRef(null),w=ft(s,h,y.onViewportChange),S=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=y.toastCount>0;R.useEffect(()=>{const u=x=>{o.length!==0&&o.every(g=>x[g]||x.code===g)&&h.current?.focus()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[o]),R.useEffect(()=>{const u=d.current,x=h.current;if(k&&u&&x){const p=()=>{if(!y.isClosePausedRef.current){const P=new CustomEvent(Zd);x.dispatchEvent(P),y.isClosePausedRef.current=!0}},g=()=>{if(y.isClosePausedRef.current){const P=new CustomEvent(eh);x.dispatchEvent(P),y.isClosePausedRef.current=!1}},C=P=>{!u.contains(P.relatedTarget)&&g()},E=()=>{u.contains(document.activeElement)||g()};return u.addEventListener("focusin",p),u.addEventListener("focusout",C),u.addEventListener("pointermove",p),u.addEventListener("pointerleave",E),window.addEventListener("blur",p),window.addEventListener("focus",g),()=>{u.removeEventListener("focusin",p),u.removeEventListener("focusout",C),u.removeEventListener("pointermove",p),u.removeEventListener("pointerleave",E),window.removeEventListener("blur",p),window.removeEventListener("focus",g)}}},[k,y.isClosePausedRef]);const b=R.useCallback(({tabbingDirection:u})=>{const p=l().map(g=>{const C=g.ref.current,E=[C,...a2(C)];return u==="forwards"?E:E.reverse()});return(u==="forwards"?p.reverse():p).flat()},[l]);return R.useEffect(()=>{const u=h.current;if(u){const x=p=>{const g=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!g){const E=document.activeElement,P=p.shiftKey;if(p.target===u&&P){m.current?.focus();return}const A=b({tabbingDirection:P?"backwards":"forwards"}),z=A.findIndex($=>$===E);xd(A.slice(z+1))?p.preventDefault():P?m.current?.focus():v.current?.focus()}};return u.addEventListener("keydown",x),()=>u.removeEventListener("keydown",x)}},[l,b]),r.jsxs(AC,{ref:d,role:"region","aria-label":a.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&r.jsx(th,{ref:m,onFocusFromOutsideViewport:()=>{const u=b({tabbingDirection:"forwards"});xd(u)}}),r.jsx(Mh.Slot,{scope:n,children:r.jsx(qe.ol,{tabIndex:-1,...f,ref:w})}),k&&r.jsx(th,{ref:v,onFocusFromOutsideViewport:()=>{const u=b({tabbingDirection:"backwards"});xd(u)}})]})});Rx.displayName=Ex;var Px="ToastFocusProxy",th=R.forwardRef((e,s)=>{const{__scopeToast:n,onFocusFromOutsideViewport:o,...a}=e,f=ic(Px,n);return r.jsx(Th,{tabIndex:0,...a,ref:s,style:{position:"fixed"},onFocus:y=>{const l=y.relatedTarget;!f.viewport?.contains(l)&&o()}})});th.displayName=Px;var Bo="Toast",QC="toast.swipeStart",YC="toast.swipeMove",XC="toast.swipeCancel",JC="toast.swipeEnd",Tx=R.forwardRef((e,s)=>{const{forceMount:n,open:o,defaultOpen:a,onOpenChange:f,...y}=e,[l,d]=nc({prop:o,defaultProp:a??!0,onChange:f,caller:Bo});return r.jsx(vr,{present:n||l,children:r.jsx(t2,{open:l,...y,ref:s,onClose:()=>d(!1),onPause:is(e.onPause),onResume:is(e.onResume),onSwipeStart:ke(e.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(e.onSwipeMove,m=>{const{x:v,y:h}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${v}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ke(e.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(e.onSwipeEnd,m=>{const{x:v,y:h}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${v}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),d(!1)})})})});Tx.displayName=Bo;var[ZC,e2]=kx(Bo,{onClose(){}}),t2=R.forwardRef((e,s)=>{const{__scopeToast:n,type:o="foreground",duration:a,open:f,onClose:y,onEscapeKeyDown:l,onPause:d,onResume:m,onSwipeStart:v,onSwipeMove:h,onSwipeCancel:w,onSwipeEnd:S,...k}=e,b=ic(Bo,n),[u,x]=R.useState(null),p=ft(s,W=>x(W)),g=R.useRef(null),C=R.useRef(null),E=a||b.duration,P=R.useRef(0),L=R.useRef(E),j=R.useRef(0),{onToastAdd:A,onToastRemove:z}=b,$=is(()=>{u?.contains(document.activeElement)&&b.viewport?.focus(),y()}),U=R.useCallback(W=>{!W||W===1/0||(window.clearTimeout(j.current),P.current=new Date().getTime(),j.current=window.setTimeout($,W))},[$]);R.useEffect(()=>{const W=b.viewport;if(W){const J=()=>{U(L.current),m?.()},V=()=>{const G=new Date().getTime()-P.current;L.current=L.current-G,window.clearTimeout(j.current),d?.()};return W.addEventListener(Zd,V),W.addEventListener(eh,J),()=>{W.removeEventListener(Zd,V),W.removeEventListener(eh,J)}}},[b.viewport,E,d,m,U]),R.useEffect(()=>{f&&!b.isClosePausedRef.current&&U(E)},[f,E,b.isClosePausedRef,U]),R.useEffect(()=>(A(),()=>z()),[A,z]);const I=R.useMemo(()=>u?Fx(u):null,[u]);return b.viewport?r.jsxs(r.Fragment,{children:[I&&r.jsx(s2,{__scopeToast:n,role:"status","aria-live":o==="foreground"?"assertive":"polite",children:I}),r.jsx(ZC,{scope:n,onClose:$,children:Jl.createPortal(r.jsx(Mh.ItemSlot,{scope:n,children:r.jsx(LC,{asChild:!0,onEscapeKeyDown:ke(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||$(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(qe.li,{tabIndex:0,"data-state":f?"open":"closed","data-swipe-direction":b.swipeDirection,...k,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ke(e.onKeyDown,W=>{W.key==="Escape"&&(l?.(W.nativeEvent),W.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:ke(e.onPointerDown,W=>{W.button===0&&(g.current={x:W.clientX,y:W.clientY})}),onPointerMove:ke(e.onPointerMove,W=>{if(!g.current)return;const J=W.clientX-g.current.x,V=W.clientY-g.current.y,G=!!C.current,D=["left","right"].includes(b.swipeDirection),M=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,H=D?M(0,J):0,O=D?0:M(0,V),K=W.pointerType==="touch"?10:2,re={x:H,y:O},ae={originalEvent:W,delta:re};G?(C.current=re,cl(YC,h,ae,{discrete:!1})):Bg(re,b.swipeDirection,K)?(C.current=re,cl(QC,v,ae,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(J)>K||Math.abs(V)>K)&&(g.current=null)}),onPointerUp:ke(e.onPointerUp,W=>{const J=C.current,V=W.target;if(V.hasPointerCapture(W.pointerId)&&V.releasePointerCapture(W.pointerId),C.current=null,g.current=null,J){const G=W.currentTarget,D={originalEvent:W,delta:J};Bg(J,b.swipeDirection,b.swipeThreshold)?cl(JC,S,D,{discrete:!0}):cl(XC,w,D,{discrete:!0}),G.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),s2=e=>{const{__scopeToast:s,children:n,...o}=e,a=ic(Bo,s),[f,y]=R.useState(!1),[l,d]=R.useState(!1);return i2(()=>y(!0)),R.useEffect(()=>{const m=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(m)},[]),l?null:r.jsx(rc,{asChild:!0,children:r.jsx(Th,{...o,children:f&&r.jsxs(r.Fragment,{children:[a.label," ",n]})})})},r2="ToastTitle",Dx=R.forwardRef((e,s)=>{const{__scopeToast:n,...o}=e;return r.jsx(qe.div,{...o,ref:s})});Dx.displayName=r2;var n2="ToastDescription",Mx=R.forwardRef((e,s)=>{const{__scopeToast:n,...o}=e;return r.jsx(qe.div,{...o,ref:s})});Mx.displayName=n2;var Lx="ToastAction",Ax=R.forwardRef((e,s)=>{const{altText:n,...o}=e;return n.trim()?r.jsx(Ix,{altText:n,asChild:!0,children:r.jsx(Lh,{...o,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${Lx}\`. Expected non-empty \`string\`.`),null)});Ax.displayName=Lx;var Ox="ToastClose",Lh=R.forwardRef((e,s)=>{const{__scopeToast:n,...o}=e,a=e2(Ox,n);return r.jsx(Ix,{asChild:!0,children:r.jsx(qe.button,{type:"button",...o,ref:s,onClick:ke(e.onClick,a.onClose)})})});Lh.displayName=Ox;var Ix=R.forwardRef((e,s)=>{const{__scopeToast:n,altText:o,...a}=e;return r.jsx(qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...a,ref:s})});function Fx(e){const s=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&s.push(o.textContent),o2(o)){const a=o.ariaHidden||o.hidden||o.style.display==="none",f=o.dataset.radixToastAnnounceExclude==="";if(!a)if(f){const y=o.dataset.radixToastAnnounceAlt;y&&s.push(y)}else s.push(...Fx(o))}}),s}function cl(e,s,n,{discrete:o}){const a=n.originalEvent.currentTarget,f=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});s&&a.addEventListener(e,s,{once:!0}),o?Ph(a,f):a.dispatchEvent(f)}var Bg=(e,s,n=0)=>{const o=Math.abs(e.x),a=Math.abs(e.y),f=o>a;return s==="left"||s==="right"?f&&o>n:!f&&a>n};function i2(e=()=>{}){const s=is(e);ur(()=>{let n=0,o=0;return n=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(o)}},[s])}function o2(e){return e.nodeType===e.ELEMENT_NODE}function a2(e){const s=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function xd(e){const s=document.activeElement;return e.some(n=>n===s?!0:(n.focus(),document.activeElement!==s))}var l2=Nx,Bx=Rx,Hx=Tx,zx=Dx,Ux=Mx,$x=Ax,Wx=Lh;function qx(e){var s,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(s=0;s<a;s++)e[s]&&(n=qx(e[s]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function Kx(){for(var e,s,n=0,o="",a=arguments.length;n<a;n++)(e=arguments[n])&&(s=qx(e))&&(o&&(o+=" "),o+=s);return o}const Hg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,zg=Kx,Ah=(e,s)=>n=>{var o;if(s?.variants==null)return zg(e,n?.class,n?.className);const{variants:a,defaultVariants:f}=s,y=Object.keys(a).map(m=>{const v=n?.[m],h=f?.[m];if(v===null)return null;const w=Hg(v)||Hg(h);return a[m][w]}),l=n&&Object.entries(n).reduce((m,v)=>{let[h,w]=v;return w===void 0||(m[h]=w),m},{}),d=s==null||(o=s.compoundVariants)===null||o===void 0?void 0:o.reduce((m,v)=>{let{class:h,className:w,...S}=v;return Object.entries(S).every(k=>{let[b,u]=k;return Array.isArray(u)?u.includes({...f,...l}[b]):{...f,...l}[b]===u})?[...m,h,w]:m},[]);return zg(e,y,d,n?.class,n?.className)};var c2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const u2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(e,s)=>{const n=R.forwardRef(({color:o="currentColor",size:a=24,strokeWidth:f=2,absoluteStrokeWidth:y,className:l="",children:d,...m},v)=>R.createElement("svg",{ref:v,...c2,width:a,height:a,stroke:o,strokeWidth:y?Number(f)*24/Number(a):f,className:["lucide",`lucide-${u2(e)}`,l].join(" "),...m},[...s.map(([h,w])=>R.createElement(h,w)),...Array.isArray(d)?d:[d]]));return n.displayName=`${e}`,n};const Vx=ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const d2=ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Nn=ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Jr=ue("Antenna",[["path",{d:"M2 12 7 2",key:"117k30"}],["path",{d:"m7 12 5-10",key:"1tvx22"}],["path",{d:"m12 12 5-10",key:"ev1o1a"}],["path",{d:"m17 12 5-10",key:"1e4ti3"}],["path",{d:"M4.5 7h15",key:"vlsxkz"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);const ul=ue("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);const h2=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Gx=ue("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const f2=ue("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const m2=ue("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const _l=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const p2=ue("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);const g2=ue("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);const v2=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const ar=ue("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const x2=ue("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);const y2=ue("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const zs=ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Ho=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Oh=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Ih=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const nn=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const _2=ue("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const zo=ue("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);const xt=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const ki=ue("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);const Xr=ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const rs=ue("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const qt=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Ol=ue("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const w2=ue("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const sh=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const b2=ue("FileArchive",[["path",{d:"M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v18",key:"1oywqq"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]);const S2=ue("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);const C2=ue("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.1-1.1a2 2 0 0 0-2.81.01L10 22",key:"14ir3o"}]]);const Zr=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const j2=ue("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);const rh=ue("FolderDown",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m15 13-3 3-3-3",key:"6j2sf0"}]]);const Ug=ue("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const $g=ue("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const Wg=ue("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);const Tn=ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Il=ue("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const k2=ue("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);const Zt=ue("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const N2=ue("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const qg=ue("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const E2=ue("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);const R2=ue("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);const qs=ue("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const Qx=ue("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]);const Yx=ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const Xx=ue("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const Kg=ue("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const Te=ue("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const P2=ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const T2=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Jx=ue("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const D2=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const M2=ue("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const L2=ue("MonitorSmartphone",[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]]);const Mt=ue("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const Vg=ue("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const A2=ue("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const Gr=ue("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);const Us=ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const O2=ue("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const wl=ue("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const lr=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Zx=ue("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const ey=ue("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);const I2=ue("Puzzle",[["path",{d:"M19.439 7.85c-.049.322.059.648.289.878l1.568 1.568c.47.47.706 1.087.706 1.704s-.235 1.233-.706 1.704l-1.611 1.611a.98.98 0 0 1-.837.276c-.47-.07-.802-.48-.968-.925a2.501 2.501 0 1 0-3.214 3.214c.446.166.855.497.925.968a.979.979 0 0 1-.276.837l-1.61 1.61a2.404 2.404 0 0 1-1.705.707 2.402 2.402 0 0 1-1.704-.706l-1.568-1.568a1.026 1.026 0 0 0-.877-.29c-.493.074-.84.504-1.02.968a2.5 2.5 0 1 1-3.237-3.237c.464-.18.894-.527.967-1.02a1.026 1.026 0 0 0-.289-.877l-1.568-1.568A2.402 2.402 0 0 1 1.998 12c0-.617.236-1.234.706-1.704L4.23 8.77c.24-.24.581-.353.917-.303.515.077.877.528 1.073 1.01a2.5 2.5 0 1 0 3.259-3.259c-.482-.196-.933-.558-1.01-1.073-.05-.336.062-.676.303-.917l1.525-1.525A2.402 2.402 0 0 1 12 1.998c.617 0 1.234.236 1.704.706l1.568 1.568c.23.23.556.338.877.29.493-.074.84-.504 1.02-.968a2.5 2.5 0 1 1 3.237 3.237c-.464.18-.894.527-.967 1.02Z",key:"i0oyt7"}]]);const dr=ue("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);const vs=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const F2=ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const B2=ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const On=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const H2=ue("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const Fh=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const ty=ue("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const z2=ue("ShieldX",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m14.5 9-5 5",key:"1m49dw"}],["path",{d:"m9.5 9 5 5",key:"wyx7zg"}]]);const Ns=ue("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);const No=ue("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);const U2=ue("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const $2=ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const Gg=ue("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const Bh=ue("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);const Qg=ue("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Yg=ue("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);const W2=ue("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);const gs=ue("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);const ht=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const q2=ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const hr=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const sy=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const K2=ue("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);const V2=ue("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);const G2=ue("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);const Q2=ue("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);const ry=ue("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);const es=ue("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Lt=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Y2=ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Hh="-",X2=e=>{const s=Z2(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:y=>{const l=y.split(Hh);return l[0]===""&&l.length!==1&&l.shift(),ny(l,s)||J2(y)},getConflictingClassGroupIds:(y,l)=>{const d=n[y]||[];return l&&o[y]?[...d,...o[y]]:d}}},ny=(e,s)=>{if(e.length===0)return s.classGroupId;const n=e[0],o=s.nextPart.get(n),a=o?ny(e.slice(1),o):void 0;if(a)return a;if(s.validators.length===0)return;const f=e.join(Hh);return s.validators.find(({validator:y})=>y(f))?.classGroupId},Xg=/^\[(.+)\]$/,J2=e=>{if(Xg.test(e)){const s=Xg.exec(e)[1],n=s?.substring(0,s.indexOf(":"));if(n)return"arbitrary.."+n}},Z2=e=>{const{theme:s,prefix:n}=e,o={nextPart:new Map,validators:[]};return tj(Object.entries(e.classGroups),n).forEach(([f,y])=>{nh(y,o,f,s)}),o},nh=(e,s,n,o)=>{e.forEach(a=>{if(typeof a=="string"){const f=a===""?s:Jg(s,a);f.classGroupId=n;return}if(typeof a=="function"){if(ej(a)){nh(a(o),s,n,o);return}s.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([f,y])=>{nh(y,Jg(s,f),n,o)})})},Jg=(e,s)=>{let n=e;return s.split(Hh).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n},ej=e=>e.isThemeGetter,tj=(e,s)=>s?e.map(([n,o])=>{const a=o.map(f=>typeof f=="string"?s+f:typeof f=="object"?Object.fromEntries(Object.entries(f).map(([y,l])=>[s+y,l])):f);return[n,a]}):e,sj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let s=0,n=new Map,o=new Map;const a=(f,y)=>{n.set(f,y),s++,s>e&&(s=0,o=n,n=new Map)};return{get(f){let y=n.get(f);if(y!==void 0)return y;if((y=o.get(f))!==void 0)return a(f,y),y},set(f,y){n.has(f)?n.set(f,y):a(f,y)}}},iy="!",rj=e=>{const{separator:s,experimentalParseClassName:n}=e,o=s.length===1,a=s[0],f=s.length,y=l=>{const d=[];let m=0,v=0,h;for(let u=0;u<l.length;u++){let x=l[u];if(m===0){if(x===a&&(o||l.slice(u,u+f)===s)){d.push(l.slice(v,u)),v=u+f;continue}if(x==="/"){h=u;continue}}x==="["?m++:x==="]"&&m--}const w=d.length===0?l:l.substring(v),S=w.startsWith(iy),k=S?w.substring(1):w,b=h&&h>v?h-v:void 0;return{modifiers:d,hasImportantModifier:S,baseClassName:k,maybePostfixModifierPosition:b}};return n?l=>n({className:l,parseClassName:y}):y},nj=e=>{if(e.length<=1)return e;const s=[];let n=[];return e.forEach(o=>{o[0]==="["?(s.push(...n.sort(),o),n=[]):n.push(o)}),s.push(...n.sort()),s},ij=e=>({cache:sj(e.cacheSize),parseClassName:rj(e),...X2(e)}),oj=/\s+/,aj=(e,s)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:a}=s,f=[],y=e.trim().split(oj);let l="";for(let d=y.length-1;d>=0;d-=1){const m=y[d],{modifiers:v,hasImportantModifier:h,baseClassName:w,maybePostfixModifierPosition:S}=n(m);let k=!!S,b=o(k?w.substring(0,S):w);if(!b){if(!k){l=m+(l.length>0?" "+l:l);continue}if(b=o(w),!b){l=m+(l.length>0?" "+l:l);continue}k=!1}const u=nj(v).join(":"),x=h?u+iy:u,p=x+b;if(f.includes(p))continue;f.push(p);const g=a(b,k);for(let C=0;C<g.length;++C){const E=g[C];f.push(x+E)}l=m+(l.length>0?" "+l:l)}return l};function lj(){let e=0,s,n,o="";for(;e<arguments.length;)(s=arguments[e++])&&(n=oy(s))&&(o&&(o+=" "),o+=n);return o}const oy=e=>{if(typeof e=="string")return e;let s,n="";for(let o=0;o<e.length;o++)e[o]&&(s=oy(e[o]))&&(n&&(n+=" "),n+=s);return n};function cj(e,...s){let n,o,a,f=y;function y(d){const m=s.reduce((v,h)=>h(v),e());return n=ij(m),o=n.cache.get,a=n.cache.set,f=l,l(d)}function l(d){const m=o(d);if(m)return m;const v=aj(d,n);return a(d,v),v}return function(){return f(lj.apply(null,arguments))}}const Xe=e=>{const s=n=>n[e]||[];return s.isThemeGetter=!0,s},ay=/^\[(?:([a-z-]+):)?(.+)\]$/i,uj=/^\d+\/\d+$/,dj=new Set(["px","full","screen"]),hj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,pj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nr=e=>_i(e)||dj.has(e)||uj.test(e),zr=e=>Mi(e,"length",Cj),_i=e=>!!e&&!Number.isNaN(Number(e)),yd=e=>Mi(e,"number",_i),wo=e=>!!e&&Number.isInteger(Number(e)),vj=e=>e.endsWith("%")&&_i(e.slice(0,-1)),Me=e=>ay.test(e),Ur=e=>hj.test(e),xj=new Set(["length","size","percentage"]),yj=e=>Mi(e,xj,ly),_j=e=>Mi(e,"position",ly),wj=new Set(["image","url"]),bj=e=>Mi(e,wj,kj),Sj=e=>Mi(e,"",jj),bo=()=>!0,Mi=(e,s,n)=>{const o=ay.exec(e);return o?o[1]?typeof s=="string"?o[1]===s:s.has(o[1]):n(o[2]):!1},Cj=e=>fj.test(e)&&!mj.test(e),ly=()=>!1,jj=e=>pj.test(e),kj=e=>gj.test(e),Nj=()=>{const e=Xe("colors"),s=Xe("spacing"),n=Xe("blur"),o=Xe("brightness"),a=Xe("borderColor"),f=Xe("borderRadius"),y=Xe("borderSpacing"),l=Xe("borderWidth"),d=Xe("contrast"),m=Xe("grayscale"),v=Xe("hueRotate"),h=Xe("invert"),w=Xe("gap"),S=Xe("gradientColorStops"),k=Xe("gradientColorStopPositions"),b=Xe("inset"),u=Xe("margin"),x=Xe("opacity"),p=Xe("padding"),g=Xe("saturate"),C=Xe("scale"),E=Xe("sepia"),P=Xe("skew"),L=Xe("space"),j=Xe("translate"),A=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",Me,s],U=()=>[Me,s],I=()=>["",nr,zr],W=()=>["auto",_i,Me],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",Me],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[_i,Me];return{cacheSize:500,separator:":",theme:{colors:[bo],spacing:[nr,zr],blur:["none","",Ur,Me],brightness:O(),borderColor:[e],borderRadius:["none","","full",Ur,Me],borderSpacing:U(),borderWidth:I(),contrast:O(),grayscale:M(),hueRotate:O(),invert:M(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[vj,zr],inset:$(),margin:$(),opacity:O(),padding:U(),saturate:O(),scale:O(),sepia:M(),skew:O(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[Ur]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Me]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wo,Me]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",wo,Me]}],"grid-cols":[{"grid-cols":[bo]}],"col-start-end":[{col:["auto",{span:["full",wo,Me]},Me]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[bo]}],"row-start-end":[{row:["auto",{span:[wo,Me]},Me]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[u]}],mx:[{mx:[u]}],my:[{my:[u]}],ms:[{ms:[u]}],me:[{me:[u]}],mt:[{mt:[u]}],mr:[{mr:[u]}],mb:[{mb:[u]}],ml:[{ml:[u]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,s]}],"min-w":[{"min-w":[Me,s,"min","max","fit"]}],"max-w":[{"max-w":[Me,s,"none","full","min","max","fit","prose",{screen:[Ur]},Ur]}],h:[{h:[Me,s,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,s,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,s,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,s,"auto","min","max","fit"]}],"font-size":[{text:["base",Ur,zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yd]}],"font-family":[{font:[bo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",_i,yd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nr,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nr,zr]}],"underline-offset":[{"underline-offset":["auto",nr,Me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),_j]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bj]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[f]}],"rounded-s":[{"rounded-s":[f]}],"rounded-e":[{"rounded-e":[f]}],"rounded-t":[{"rounded-t":[f]}],"rounded-r":[{"rounded-r":[f]}],"rounded-b":[{"rounded-b":[f]}],"rounded-l":[{"rounded-l":[f]}],"rounded-ss":[{"rounded-ss":[f]}],"rounded-se":[{"rounded-se":[f]}],"rounded-ee":[{"rounded-ee":[f]}],"rounded-es":[{"rounded-es":[f]}],"rounded-tl":[{"rounded-tl":[f]}],"rounded-tr":[{"rounded-tr":[f]}],"rounded-br":[{"rounded-br":[f]}],"rounded-bl":[{"rounded-bl":[f]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:V()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[nr,Me]}],"outline-w":[{outline:[nr,zr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[nr,zr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ur,Sj]}],"shadow-color":[{shadow:[bo]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[o]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Ur,Me]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[h]}],saturate:[{saturate:[g]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[y]}],"border-spacing-x":[{"border-spacing-x":[y]}],"border-spacing-y":[{"border-spacing-y":[y]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[wo,Me]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[nr,zr,yd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ej=cj(Nj);function ce(...e){return Ej(Kx(e))}function cy(e,s=2){if(e===0)return"0 Bytes";const n=1024,o=s<0?0:s,a=["Bytes","KB","MB","GB","TB"],f=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,f)).toFixed(o))+" "+a[f]}function Fl(e){return new Date(e).toLocaleString()}function cr(e){const s=new Date,n=new Date(e),o=s.getTime()-n.getTime(),a=Math.floor(o/1e3),f=Math.floor(a/60),y=Math.floor(f/60),l=Math.floor(y/24);return a<60?`${a}s ago`:f<60?`${f}m ago`:y<24?`${y}h ago`:`${l}d ago`}const Rj=l2,uy=R.forwardRef(({className:e,...s},n)=>r.jsx(Bx,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...s}));uy.displayName=Bx.displayName;const Pj=Ah("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dy=R.forwardRef(({className:e,variant:s,...n},o)=>r.jsx(Hx,{ref:o,className:ce(Pj({variant:s}),e),...n}));dy.displayName=Hx.displayName;const Tj=R.forwardRef(({className:e,...s},n)=>r.jsx($x,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...s}));Tj.displayName=$x.displayName;const hy=R.forwardRef(({className:e,...s},n)=>r.jsx(Wx,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...s,children:r.jsx(Lt,{className:"h-4 w-4"})}));hy.displayName=Wx.displayName;const fy=R.forwardRef(({className:e,...s},n)=>r.jsx(zx,{ref:n,className:ce("text-sm font-semibold",e),...s}));fy.displayName=zx.displayName;const my=R.forwardRef(({className:e,...s},n)=>r.jsx(Ux,{ref:n,className:ce("text-sm opacity-90",e),...s}));my.displayName=Ux.displayName;const Dj=1,Mj=1e6;let _d=0;function Lj(){return _d=(_d+1)%Number.MAX_SAFE_INTEGER,_d.toString()}const wd=new Map,Zg=e=>{if(wd.has(e))return;const s=setTimeout(()=>{wd.delete(e),Eo({type:"REMOVE_TOAST",toastId:e})},Mj);wd.set(e,s)},Aj=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,Dj)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===s.toast.id?{...n,...s.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=s;return n?Zg(n):e.toasts.forEach(o=>{Zg(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===n||n===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return s.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==s.toastId)}}},bl=[];let Sl={toasts:[]};function Eo(e){Sl=Aj(Sl,e),bl.forEach(s=>{s(Sl)})}function Oj({...e}){const s=Lj(),n=a=>Eo({type:"UPDATE_TOAST",toast:{...a,id:s}}),o=()=>Eo({type:"DISMISS_TOAST",toastId:s});return Eo({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:a=>{a||o()}}}),{id:s,dismiss:o,update:n}}function Ve(){const[e,s]=R.useState(Sl);return R.useEffect(()=>(bl.push(s),()=>{const n=bl.indexOf(s);n>-1&&bl.splice(n,1)}),[e]),{...e,toast:Oj,dismiss:n=>Eo({type:"DISMISS_TOAST",toastId:n})}}function Ij(){const{toasts:e}=Ve();return r.jsxs(Rj,{children:[e.map(function({id:s,title:n,description:o,action:a,...f}){return r.jsxs(dy,{...f,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(fy,{children:n}),o&&r.jsx(my,{children:o})]}),a,r.jsx(hy,{})]},s)}),r.jsx(uy,{})]})}const Fj=()=>{try{const e=new Audio("/notification.mp3");e.volume=.5,e.play().catch(()=>{})}catch{try{const e=new(window.AudioContext||window.webkitAudioContext),s=e.createOscillator(),n=e.createGain();s.connect(n),n.connect(e.destination),s.frequency.value=800,s.type="sine",n.gain.value=.1,s.start(),s.stop(e.currentTime+.15)}catch{}}},Bj=(e,s)=>{"Notification"in window&&Notification.permission==="granted"&&new Notification(e,{body:s,icon:"/favicon.ico",tag:"sliver-notification"})},Hj=async()=>{"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission()},zh=wx()(bx((e,s)=>({notifications:[],settings:{soundEnabled:!0,desktopEnabled:!1,showNewSessions:!0,showNewBeacons:!0,showListenerEvents:!0},unreadCount:0,addNotification:n=>{const{settings:o,notifications:a}=s(),f={...n,id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,read:!1};n.type==="session"&&!o.showNewSessions||n.type==="beacon"&&!o.showNewBeacons||n.type==="listener"&&!o.showListenerEvents||(e({notifications:[f,...a].slice(0,100),unreadCount:s().unreadCount+1}),o.soundEnabled&&Fj(),o.desktopEnabled&&Bj(n.title,n.message))},markAsRead:n=>{const{notifications:o}=s(),a=o.find(f=>f.id===n);a&&!a.read&&e({notifications:o.map(f=>f.id===n?{...f,read:!0}:f),unreadCount:Math.max(0,s().unreadCount-1)})},markAllAsRead:()=>{e({notifications:s().notifications.map(n=>({...n,read:!0})),unreadCount:0})},clearNotification:n=>{const{notifications:o}=s(),a=o.find(f=>f.id===n);e({notifications:o.filter(f=>f.id!==n),unreadCount:a&&!a.read?Math.max(0,s().unreadCount-1):s().unreadCount})},clearAll:()=>{e({notifications:[],unreadCount:0})},updateSettings:n=>{e({settings:{...s().settings,...n}})}}),{name:"sliver-notifications",partialize:e=>({settings:e.settings})}));function zj(e={}){const{autoConnect:s=!0,reconnectAttempts:n=5,reconnectInterval:o=3e3}=e,a=R.useRef(null),f=R.useRef(0),y=R.useRef(null),[l,d]=R.useState(!1),[m,v]=R.useState(null),h=Kt(),{toast:w}=Ve(),S=R.useCallback(()=>{let p=null;try{const E=localStorage.getItem("sliverui-auth");E&&(p=JSON.parse(E).state?.accessToken||null)}catch(E){console.error("Failed to parse auth data:",E)}const g=window.location.protocol==="https:"?"wss:":"ws:",C=window.location.host;return`${g}//${C}/ws?token=${p}`},[]),k=R.useCallback(p=>{const g=zh.getState().addNotification;try{const C=JSON.parse(p.data);switch(v(C),C.event){case"connected":console.log("WebSocket connected, sliver status:",C.data?.sliver_connected);break;case"session.new":h.invalidateQueries({queryKey:["sessions"]}),h.invalidateQueries({queryKey:["dashboard-stats"]}),w({title:"New Session Connected",description:`${C.data?.name||C.data?.id} connected from ${C.data?.remote_address||"unknown"}`}),g({type:"session",title:"New Session",message:`${C.data?.name||C.data?.id} connected from ${C.data?.remote_address||"unknown"}`,data:C.data});break;case"session.lost":h.invalidateQueries({queryKey:["sessions"]}),h.invalidateQueries({queryKey:["dashboard-stats"]}),w({variant:"destructive",title:"Session Disconnected",description:`Session ${C.data?.id} has disconnected`}),g({type:"warning",title:"Session Disconnected",message:`Session ${C.data?.id} has disconnected`,data:C.data});break;case"beacon.new":h.invalidateQueries({queryKey:["beacons"]}),h.invalidateQueries({queryKey:["dashboard-stats"]}),w({title:"New Beacon",description:`${C.data?.name||C.data?.id} first check-in`}),g({type:"beacon",title:"New Beacon",message:`${C.data?.name||C.data?.id} first check-in from ${C.data?.remote_address||"unknown"}`,data:C.data});break;case"beacon.checkin":h.invalidateQueries({queryKey:["beacons"]}),h.invalidateQueries({queryKey:["dashboard-stats"]});break;case"task_completed":h.invalidateQueries({queryKey:["beacon-tasks",C.data?.beacon_id]}),w({title:"Task Completed",description:`Task ${C.data?.task_type} completed for beacon ${C.data?.beacon_name}`}),g({type:"info",title:"Task Completed",message:`Task ${C.data?.task_type} completed for ${C.data?.beacon_name}`,data:C.data});break;case"notification":w({title:C.data?.title,description:C.data?.message,variant:C.data?.variant||"default"}),g({type:C.data?.variant==="destructive"?"error":"info",title:C.data?.title,message:C.data?.message,data:C.data});break;case"ping":break;case"pong":case"subscribed":case"error":C.event==="error"&&console.error("WebSocket error:",C.data?.message);break;default:console.log("Unknown WebSocket event:",C.event)}}catch(C){console.error("Failed to parse WebSocket message:",C)}},[h,w]),b=R.useCallback(()=>{if(a.current?.readyState===WebSocket.OPEN)return;let p=null;try{const g=localStorage.getItem("sliverui-auth");g&&(p=JSON.parse(g).state?.accessToken||null)}catch{}if(!p){console.log("No token available for WebSocket connection");return}try{const g=new WebSocket(S());g.onopen=()=>{console.log("WebSocket connected"),d(!0),f.current=0},g.onmessage=k,g.onerror=C=>{console.error("WebSocket error:",C)},g.onclose=C=>{console.log("WebSocket closed:",C.code,C.reason),d(!1),a.current=null,C.code!==1e3&&f.current<n&&(f.current++,console.log(`Attempting reconnection ${f.current}/${n}`),y.current=setTimeout(()=>{b()},o))},a.current=g}catch(g){console.error("Failed to create WebSocket:",g)}},[S,k,n,o]),u=R.useCallback(()=>{y.current&&(clearTimeout(y.current),y.current=null),a.current&&(a.current.close(1e3,"User initiated disconnect"),a.current=null),d(!1)},[]),x=R.useCallback(p=>{a.current?.readyState===WebSocket.OPEN?a.current.send(JSON.stringify(p)):console.warn("WebSocket is not connected")},[]);return R.useEffect(()=>(s&&b(),()=>{u()}),[s,b,u]),R.useEffect(()=>{const p=g=>{if(g.key==="sliverui-auth")if(g.newValue)try{JSON.parse(g.newValue).state?.accessToken?(u(),setTimeout(b,100)):u()}catch{u()}else u()};return window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)},[b,u]),{isConnected:l,lastMessage:m,connect:b,disconnect:u,send:x}}var Uj=Symbol.for("react.lazy"),Bl=Xl[" use ".trim().toString()];function $j(e){return typeof e=="object"&&e!==null&&"then"in e}function py(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Uj&&"_payload"in e&&$j(e._payload)}function Wj(e){const s=Kj(e),n=R.forwardRef((o,a)=>{let{children:f,...y}=o;py(f)&&typeof Bl=="function"&&(f=Bl(f._payload));const l=R.Children.toArray(f),d=l.find(Gj);if(d){const m=d.props.children,v=l.map(h=>h===d?R.Children.count(m)>1?R.Children.only(null):R.isValidElement(m)?m.props.children:null:h);return r.jsx(s,{...y,ref:a,children:R.isValidElement(m)?R.cloneElement(m,void 0,v):null})}return r.jsx(s,{...y,ref:a,children:f})});return n.displayName=`${e}.Slot`,n}var qj=Wj("Slot");function Kj(e){const s=R.forwardRef((n,o)=>{let{children:a,...f}=n;if(py(a)&&typeof Bl=="function"&&(a=Bl(a._payload)),R.isValidElement(a)){const y=Yj(a),l=Qj(f,a.props);return a.type!==R.Fragment&&(l.ref=o?rn(o,y):y),R.cloneElement(a,l)}return R.Children.count(a)>1?R.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var Vj=Symbol("radix.slottable");function Gj(e){return R.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vj}function Qj(e,s){const n={...s};for(const o in s){const a=e[o],f=s[o];/^on[A-Z]/.test(o)?a&&f?n[o]=(...l)=>{const d=f(...l);return a(...l),d}:a&&(n[o]=a):o==="style"?n[o]={...a,...f}:o==="className"&&(n[o]=[a,f].filter(Boolean).join(" "))}return{...e,...n}}function Yj(e){let s=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?e.ref:(s=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Xj=Ah("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=R.forwardRef(({className:e,variant:s,size:n,asChild:o=!1,...a},f)=>{const y=o?qj:"button";return r.jsx(y,{className:ce(Xj({variant:s,size:n,className:e})),ref:f,...a})});Z.displayName="Button";function Jj(){const[e,s]=R.useState(()=>typeof window>"u"?"dark":localStorage.getItem("theme")||"dark"),[n,o]=R.useState("dark"),a=R.useCallback(l=>{const d=window.document.documentElement;let m;l==="system"?m=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":m=l,d.classList.remove("light","dark"),d.classList.add(m),o(m)},[]),f=R.useCallback(l=>{localStorage.setItem("theme",l),s(l),a(l)},[a]),y=R.useCallback(()=>{f(n==="dark"?"light":"dark")},[n,f]);return R.useEffect(()=>{a(e)},[a,e]),R.useEffect(()=>{if(e!=="system")return;const l=window.matchMedia("(prefers-color-scheme: dark)"),d=m=>{o(m.matches?"dark":"light"),a("system")};return l.addEventListener("change",d),()=>l.removeEventListener("change",d)},[e,a]),{theme:e,resolvedTheme:n,setTheme:f,toggleTheme:y,isDark:n==="dark",isLight:n==="light"}}function Zj({variant:e="icon",className:s}){const{theme:n,setTheme:o,toggleTheme:a,isDark:f}=Jj();return e==="icon"?r.jsx(Z,{variant:"ghost",size:"icon",onClick:a,className:ce("h-9 w-9",s),title:f?"Switch to light mode":"Switch to dark mode",children:f?r.jsx(Qg,{className:"h-4 w-4"}):r.jsx(Vg,{className:"h-4 w-4"})}):r.jsxs("div",{className:ce("flex items-center gap-1 p-1 rounded-lg bg-muted",s),children:[r.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>o("light"),className:ce("h-8 px-3",n==="light"&&"bg-background shadow-sm"),children:[r.jsx(Qg,{className:"h-4 w-4 mr-1"}),"Light"]}),r.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>o("dark"),className:ce("h-8 px-3",n==="dark"&&"bg-background shadow-sm"),children:[r.jsx(Vg,{className:"h-4 w-4 mr-1"}),"Dark"]}),r.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>o("system"),className:ce("h-8 px-3",n==="system"&&"bg-background shadow-sm"),children:[r.jsx(Mt,{className:"h-4 w-4 mr-1"}),"System"]})]})}const ek=[{color:"bg-green-500",label:"Active / Success",description:"Session connected, beacon active, command succeeded"},{color:"bg-blue-500",label:"Processing",description:"Beacon, command pending or executing"},{color:"bg-yellow-500",label:"Warning / Pending",description:"Beacon overdue check-in, task pending"},{color:"bg-red-500",label:"Error / Danger",description:"Disconnected, command failed, or delete/kill button"},{color:"bg-purple-500",label:"File / Upload",description:"Related to file operations: download, upload"},{color:"bg-gray-500",label:"Inactive",description:"Disabled, no data, or default state"}],tk=[{icon:"",label:"Windows"},{icon:"",label:"Linux"},{icon:"",label:"macOS"},{icon:"",label:"Other OS"}];function sk(){const[e,s]=R.useState(!1);return r.jsxs(r.Fragment,{children:[r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>s(!e),className:"fixed bottom-4 right-4 z-[90] shadow-lg bg-background/95 backdrop-blur-sm hover:bg-accent",title:"Color Legend",children:[r.jsx(qs,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Color Legend"})]}),e&&r.jsxs("div",{className:"fixed bottom-14 right-4 z-[100] w-80 bg-card border rounded-xl shadow-2xl overflow-hidden animate-in slide-in-from-bottom-4 fade-in duration-200 max-h-[70vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-muted/50",children:[r.jsx("h3",{className:"font-medium",children:"Color Legend"}),r.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>s(!1),children:r.jsx(Lt,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"p-4 space-y-3",children:[r.jsx("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Status"}),ek.map((n,o)=>r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:ce("w-3 h-3 rounded-full mt-1 flex-shrink-0",n.color)}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:n.label}),r.jsx("p",{className:"text-xs text-muted-foreground",children:n.description})]})]},o))]}),r.jsxs("div",{className:"p-4 border-t",children:[r.jsx("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-3",children:"Operating System"}),r.jsx("div",{className:"flex flex-wrap gap-4",children:tk.map((n,o)=>r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-lg",children:n.icon}),r.jsx("span",{className:"text-sm",children:n.label})]},o))})]}),r.jsxs("div",{className:"p-4 border-t",children:[r.jsx("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-3",children:"Server Connection"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),r.jsx("span",{className:"text-sm",children:"Connected (WebSocket active)"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),r.jsx("span",{className:"text-sm",children:"Disconnected (reconnecting)"})]})]})]})]})]})}const wn=[{title:"Welcome to SliverUI!",description:"This is your web interface for managing Sliver C2. Let's explore the main features in a few simple steps.",icon:U2},{title:"Dashboard - Overview",description:"Get a quick view of active sessions, beacons, and other important metrics. This is where you start each day.",icon:Yx,highlight:"/dashboard"},{title:"Sessions - Direct Connections",description:"Sessions are real-time connections. You can run commands, browse files, view processes, and take screenshots instantly.",icon:Mt,highlight:"/sessions"},{title:"Beacons - Periodic Connections",description:"Beacons check in periodically (e.g., every 60 seconds). Queue commands and they execute on the next check-in.",icon:dr,highlight:"/beacons"},{title:"Implants - Create Payloads",description:"Generate new implants to deploy on target machines. Choose OS, format, and configuration to match your environment.",icon:Us,highlight:"/implants"},{title:"Listeners - Receive Connections",description:"Start listeners to receive connections from implants. Supports mTLS, HTTPS, HTTP, and DNS protocols.",icon:Jr,highlight:"/listeners"},{title:"You're All Set!",description:"Start by launching a Listener, then generate an Implant and deploy it. When the implant connects, you'll see a new session/beacon.",icon:zs}];function rk({onComplete:e,onSkip:s}){const[n,o]=R.useState(0),a=wn[n],f=a.icon,y=()=>{n<wn.length-1?o(n+1):e()},l=()=>{n>0&&o(n-1)};return r.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[r.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),r.jsxs("div",{className:"relative w-full max-w-lg mx-4 bg-card rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 fade-in duration-300",children:[r.jsx("div",{className:"h-1 bg-muted",children:r.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${(n+1)/wn.length*100}%`}})}),r.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-muted transition-colors",children:r.jsx(Lt,{className:"h-5 w-5 text-muted-foreground"})}),r.jsxs("div",{className:"p-8",children:[r.jsx("div",{className:"w-16 h-16 rounded-2xl bg-primary/10 flex items-center justify-center mb-6",children:r.jsx(f,{className:"h-8 w-8 text-primary"})}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Step ",n+1," of ",wn.length]}),r.jsx("h2",{className:"text-2xl font-bold mb-4",children:a.title}),r.jsx("p",{className:"text-muted-foreground leading-relaxed mb-8",children:a.description}),r.jsx("div",{className:"flex justify-center gap-2 mb-6",children:wn.map((d,m)=>r.jsx("button",{onClick:()=>o(m),className:ce("w-2 h-2 rounded-full transition-all",m===n?"w-6 bg-primary":m<n?"bg-primary/50":"bg-muted")},m))}),r.jsxs("div",{className:"flex gap-3",children:[n>0&&r.jsxs(Z,{variant:"outline",onClick:l,className:"flex-1",children:[r.jsx(Ih,{className:"h-4 w-4 mr-1"}),"Back"]}),r.jsx(Z,{onClick:y,className:"flex-1",children:n===wn.length-1?r.jsxs(r.Fragment,{children:["Get Started",r.jsx(zs,{className:"h-4 w-4 ml-1"})]}):r.jsxs(r.Fragment,{children:["Next",r.jsx(nn,{className:"h-4 w-4 ml-1"})]})})]}),n<wn.length-1&&r.jsx("button",{onClick:s,className:"w-full mt-4 text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Skip tutorial"})]})]})]})}function nk(){const[e,s]=R.useState(!1);return R.useEffect(()=>{localStorage.getItem("hasSeenTour")||setTimeout(()=>s(!0),500)},[]),{showTour:e,completeTour:()=>{localStorage.setItem("hasSeenTour","true"),s(!1)},skipTour:()=>{localStorage.setItem("hasSeenTour","true"),s(!1)},restartTour:()=>{localStorage.removeItem("hasSeenTour"),s(!0)}}}const Pe=R.forwardRef(({className:e,type:s,...n},o)=>r.jsx("input",{type:s,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...n}));Pe.displayName="Input";const ik=[{id:"what-is-sliver",title:"What is Sliver?",content:`Sliver is an open-source Command & Control (C2) framework used for red team operations and penetration testing.

**Main Components:**
- **Server**: The control server where you manage everything
- **Implant**: Software deployed on target machines
- **Listener**: Service that listens for implant connections

**SliverUI** helps you manage Sliver through a web interface instead of command line.`,category:"getting-started",icon:p2},{id:"first-steps",title:"How do I get started?",content:`**Basic Workflow:**

1. **Start a Listener**
   - Go to the Listeners page
   - Click "Start Listener"
   - Choose type (mTLS recommended)
   - Enter host and port

2. **Generate an Implant**
   - Go to the Implants page
   - Select target OS (Windows/Linux/Mac)
   - Configure C2 address (pointing to listener)
   - Click Generate

3. **Deploy the Implant**
   - Download the generated implant file
   - Run it on the target machine
   - Session/Beacon will appear automatically

4. **Interact**
   - Click on a session to open terminal
   - Run commands like whoami, ls, etc.`,category:"getting-started",icon:Xx},{id:"session-vs-beacon",title:"Session vs Beacon - What's the difference?",content:`**Session (Direct Connection)**
- Real-time, continuous connection
- Commands execute immediately
- Uses more bandwidth
- Easier to detect
- Best for: Quick interaction needed

**Beacon (Periodic Connection)**
- Checks in periodically (e.g., every 60 seconds)
- Commands are queued and execute on check-in
- Less traffic, harder to detect
- Can add jitter (random variation)
- Best for: Long-term operations, stealth

**When to use what?**
- Need quick response  Session
- Need stealth, long-term access  Beacon`,category:"concepts",icon:Mt},{id:"beacon-interval",title:"What are Interval and Jitter?",content:`**Interval**
Time between beacon check-ins with the server.
- Interval = 60s  Beacon calls home every 60 seconds
- Short interval = faster response but more traffic
- Long interval = less traffic but slower response

**Jitter**
Random variation in the interval timing.
- Jitter = 20% with interval 60s
- Actual check-in varies from 48s to 72s
- Makes traffic patterns look more natural

**Recommendations:**
- Testing environment: interval 10-30s, jitter 10%
- Production: interval 300-600s, jitter 30-50%`,category:"concepts",icon:xt},{id:"listener-types",title:"Listener Types Explained",content:`**mTLS (Mutual TLS)**
- Highest security
- Both sides authenticate with certificates
- Custom port (default: 8888)
-  Recommended for internal environments

**HTTPS**
- Disguised as normal HTTPS traffic
- Port 443 (default)
- Can go through proxies
-  Recommended for firewall environments

**HTTP**
- No encryption
- Only use for testing
-  Don't use in production

**DNS**
- Tunnels through DNS queries
- Extremely slow but very hard to block
- Requires a domain you control
-  Use when all ports are blocked`,category:"listeners",icon:Jr},{id:"implant-formats",title:"Implant Formats Explained",content:`**Executable (.exe, ELF)**
- Standalone executable file
- Easiest to use
- Easier for AV to detect

**Shared Library (.dll, .so)**
- Needs to be loaded into another process
- Harder to detect
- Used for DLL injection, etc.

**Shellcode**
- Raw bytes, no headers
- Needs a wrapper to execute
- Most flexible

**Stager vs Stageless**
- Stageless: Complete payload, larger file (~10MB)
- Stager: Small payload downloads main payload, smaller file (~100KB)`,category:"implants",icon:Us},{id:"terminal-usage",title:"Using the Terminal",content:`**Built-in Commands:**
- \`clear\` - Clear the screen
- \`history\` - View command history
- \`help\` - Show help

**Keyboard Shortcuts:**
- / - Navigate command history
- Ctrl+C - Cancel current input
- Ctrl+L - Clear screen
- Ctrl+K - Open command palette

**Tips:**
- Click "Common Commands" button to see frequently used commands
- Output can be copied or downloaded`,category:"features",icon:gs},{id:"file-browser",title:"File Browser",content:`**Features:**
- Browse directories like a file explorer
- Download files to your local machine
- View file sizes and modification dates

**Actions:**
- Click folder to open
- Click breadcrumb to go back
- Click Download icon to download file

**Note:**
- Large files may take time
- Some system directories may require elevated privileges`,category:"features",icon:Zr},{id:"screenshots",title:"Taking Screenshots",content:`**How to use:**
1. Go to Screenshots tab in Session
2. Click "Capture Screenshot"
3. Wait a few seconds for the image
4. Image is saved to gallery below

**Features:**
- View fullscreen
- Download to machine
- Gallery stores all captured images

**Note:**
- Each capture sends ~1-5MB of data
- Region/monitor selection not supported`,category:"features",icon:ar},{id:"process-list",title:"Process Management",content:`**Features:**
- View all running processes
- Search by name, PID, or user
- Kill processes (except implant)

**Information Displayed:**
- PID - Process ID
- PPID - Parent Process ID
- Executable - Program name/path
- Owner - User running the process
- Architecture - x64 or x86

**IMPLANT tagged process:**
This is the implant's process - don't kill it!`,category:"features",icon:rs}],ok=[{id:"all",name:"All"},{id:"getting-started",name:"Getting Started"},{id:"concepts",name:"Concepts"},{id:"listeners",name:"Listeners"},{id:"implants",name:"Implants"},{id:"features",name:"Features"}];function ak({onClose:e}){const[s,n]=R.useState(""),[o,a]=R.useState("all"),[f,y]=R.useState(null),l=ik.filter(d=>{if(o!=="all"&&d.category!==o)return!1;if(s){const m=s.toLowerCase();return d.title.toLowerCase().includes(m)||d.content.toLowerCase().includes(m)}return!0});return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:e}),r.jsxs("div",{className:"relative w-full max-w-4xl h-[80vh] bg-card rounded-xl shadow-2xl border overflow-hidden flex animate-in zoom-in-95 fade-in duration-200",children:[r.jsxs("div",{className:"w-64 border-r flex flex-col bg-muted/30",children:[r.jsxs("div",{className:"p-4 border-b",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(Zt,{className:"h-6 w-6 text-primary"}),r.jsx("h2",{className:"text-lg font-bold",children:"Help Center"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(On,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Pe,{placeholder:"Search...",value:s,onChange:d=>n(d.target.value),className:"pl-8"})]})]}),r.jsx("div",{className:"p-2 space-y-1",children:ok.map(d=>r.jsx("button",{onClick:()=>{a(d.id),y(null)},className:ce("w-full text-left px-3 py-2 rounded-lg text-sm transition-colors",o===d.id?"bg-primary text-primary-foreground":"hover:bg-muted"),children:d.name},d.id))}),r.jsxs("div",{className:"mt-auto p-4 border-t space-y-2",children:[r.jsxs("a",{href:"https://github.com/BishopFox/sliver/wiki",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[r.jsx(Ol,{className:"h-4 w-4"}),"Sliver Wiki"]}),r.jsxs("a",{href:"https://sliver.sh",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[r.jsx(Ol,{className:"h-4 w-4"}),"Sliver Official"]})]})]}),r.jsxs("div",{className:"flex-1 flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[r.jsx("h3",{className:"font-medium",children:f?f.title:"Select an article"}),r.jsx(Z,{variant:"ghost",size:"icon",onClick:e,children:r.jsx(Lt,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"flex-1 overflow-auto",children:f?r.jsxs("div",{className:"p-6",children:[r.jsx("button",{onClick:()=>y(null),className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground mb-4",children:" Back to list"}),r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:r.jsx(f.icon,{className:"h-6 w-6 text-primary"})}),r.jsx("h2",{className:"text-2xl font-bold",children:f.title})]}),r.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:f.content.split(`
`).map((d,m)=>d.startsWith("**")&&d.endsWith("**")?r.jsx("h4",{className:"font-bold mt-4 mb-2",children:d.replace(/\*\*/g,"")},m):d.startsWith("- ")?r.jsx("li",{className:"ml-4",children:d.substring(2)},m):d.match(/^\d+\./)?r.jsx("li",{className:"ml-4 list-decimal",children:d.replace(/^\d+\.\s*/,"")},m):d.startsWith("")||d.startsWith("")?r.jsx("p",{className:"my-1",children:d},m):d.trim()===""?r.jsx("br",{},m):r.jsx("p",{className:"my-2",children:d},m))})]}):r.jsx("div",{className:"p-4",children:l.length===0?r.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No articles found matching your search"}):r.jsx("div",{className:"space-y-2",children:l.map(d=>r.jsxs("button",{onClick:()=>y(d),className:"w-full flex items-center gap-3 p-4 rounded-lg hover:bg-muted transition-colors text-left",children:[r.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:r.jsx(d.icon,{className:"h-5 w-5 text-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-medium",children:d.title}),r.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[d.content.substring(0,100),"..."]})]}),r.jsx(nn,{className:"h-5 w-5 text-muted-foreground"})]},d.id))})})})]})]})]})}function lk({onClick:e}){return r.jsx("button",{onClick:e,className:"fixed bottom-6 right-6 p-4 rounded-full bg-primary text-primary-foreground shadow-lg hover:shadow-xl transition-all hover:scale-105 z-40",title:"Help",children:r.jsx(Zt,{className:"h-6 w-6"})})}function ck({onClose:e}){const[s,n]=R.useState(!1),{notifications:o,settings:a,unreadCount:f,markAsRead:y,markAllAsRead:l,clearNotification:d,clearAll:m,updateSettings:v}=zh(),h=S=>{switch(S){case"session":return r.jsx(Mt,{className:"h-4 w-4 text-green-500"});case"beacon":return r.jsx(dr,{className:"h-4 w-4 text-blue-500"});case"listener":return r.jsx(Jr,{className:"h-4 w-4 text-purple-500"});case"warning":return r.jsx(Nn,{className:"h-4 w-4 text-yellow-500"});case"error":return r.jsx(d2,{className:"h-4 w-4 text-red-500"});default:return r.jsx(qs,{className:"h-4 w-4 text-gray-500"})}},w=async()=>{await Hj(),"Notification"in window&&Notification.permission==="granted"&&v({desktopEnabled:!0})};return r.jsxs("div",{className:"fixed top-16 right-4 w-96 max-h-[80vh] bg-card rounded-xl shadow-2xl border overflow-hidden z-50 animate-in slide-in-from-top-2 fade-in duration-200",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-muted/30",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_l,{className:"h-5 w-5"}),r.jsx("h3",{className:"font-semibold",children:"Notifications"}),f>0&&r.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded-full bg-primary text-primary-foreground",children:f})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n(!s),title:"Settings",children:r.jsx(Fh,{className:"h-4 w-4"})}),r.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:e,children:r.jsx(Lt,{className:"h-4 w-4"})})]})]}),s&&r.jsxs("div",{className:"p-4 border-b bg-muted/20 space-y-3",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Settings"}),r.jsxs("label",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",children:"Sound notifications"}),r.jsx(Z,{variant:"ghost",size:"sm",className:"h-8",onClick:()=>v({soundEnabled:!a.soundEnabled}),children:a.soundEnabled?r.jsx(K2,{className:"h-4 w-4 text-green-500"}):r.jsx(V2,{className:"h-4 w-4 text-muted-foreground"})})]}),r.jsxs("label",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",children:"Desktop notifications"}),r.jsx(Z,{variant:"ghost",size:"sm",className:"h-8",onClick:a.desktopEnabled?()=>v({desktopEnabled:!1}):w,children:a.desktopEnabled?r.jsx(_l,{className:"h-4 w-4 text-green-500"}):r.jsx(m2,{className:"h-4 w-4 text-muted-foreground"})})]}),r.jsxs("div",{className:"pt-2 border-t space-y-2",children:[r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:a.showNewSessions,onChange:S=>v({showNewSessions:S.target.checked}),className:"rounded"}),"New sessions"]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:a.showNewBeacons,onChange:S=>v({showNewBeacons:S.target.checked}),className:"rounded"}),"New beacons"]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[r.jsx("input",{type:"checkbox",checked:a.showListenerEvents,onChange:S=>v({showListenerEvents:S.target.checked}),className:"rounded"}),"Listener events"]})]})]}),o.length>0&&r.jsxs("div",{className:"flex items-center gap-2 p-2 border-b bg-muted/10",children:[r.jsxs(Z,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:l,disabled:f===0,children:[r.jsx(x2,{className:"h-3 w-3 mr-1"}),"Mark all read"]}),r.jsxs(Z,{variant:"ghost",size:"sm",className:"h-7 text-xs text-destructive hover:text-destructive",onClick:m,children:[r.jsx(ht,{className:"h-3 w-3 mr-1"}),"Clear all"]})]}),r.jsx("div",{className:"max-h-[50vh] overflow-auto",children:o.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-muted-foreground",children:[r.jsx(_l,{className:"h-12 w-12 mb-2 opacity-30"}),r.jsx("p",{children:"No notifications"}),r.jsx("p",{className:"text-xs mt-1",children:"You'll see new sessions and beacons here"})]}):r.jsx("div",{className:"divide-y",children:o.map(S=>r.jsx("div",{className:ce("p-3 hover:bg-muted/50 transition-colors",!S.read&&"bg-primary/5"),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5",children:h(S.type)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-sm",children:S.title}),!S.read&&r.jsx("span",{className:"w-2 h-2 rounded-full bg-primary"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:S.message}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:cr(S.timestamp.toString())})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[!S.read&&r.jsx(Z,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>y(S.id),title:"Mark as read",children:r.jsx(Ho,{className:"h-3 w-3"})}),r.jsx(Z,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>d(S.id),title:"Dismiss",children:r.jsx(Lt,{className:"h-3 w-3"})})]})]})},S.id))})})]})}function uk(){const[e,s]=R.useState(!1),{unreadCount:n}=zh();return r.jsxs(r.Fragment,{children:[r.jsxs(Z,{variant:"ghost",size:"icon",className:"relative",onClick:()=>s(!e),children:[r.jsx(_l,{className:"h-5 w-5"}),n>0&&r.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center",children:n>9?"9+":n})]}),e&&r.jsx(ck,{onClose:()=>s(!1)})]})}const Oe=R.forwardRef(({className:e,...s},n)=>r.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));Oe.displayName="Card";const Fe=R.forwardRef(({className:e,...s},n)=>r.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",e),...s}));Fe.displayName="CardHeader";const Be=R.forwardRef(({className:e,...s},n)=>r.jsx("h3",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",e),...s}));Be.displayName="CardTitle";const fs=R.forwardRef(({className:e,...s},n)=>r.jsx("p",{ref:n,className:ce("text-sm text-muted-foreground",e),...s}));fs.displayName="CardDescription";const Ie=R.forwardRef(({className:e,...s},n)=>r.jsx("div",{ref:n,className:ce("p-6 pt-0",e),...s}));Ie.displayName="CardContent";const dk=R.forwardRef(({className:e,...s},n)=>r.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",e),...s}));dk.displayName="CardFooter";const ih=[{keys:["g","d"],description:"Go to Dashboard",action:"/dashboard"},{keys:["g","s"],description:"Go to Sessions",action:"/sessions"},{keys:["g","b"],description:"Go to Beacons",action:"/beacons"},{keys:["g","i"],description:"Go to Implants",action:"/implants"},{keys:["g","l"],description:"Go to Listeners",action:"/listeners"},{keys:["g","t"],description:"Go to Tools",action:"/armory"},{keys:["g","c"],description:"Go to Cleanup",action:"/cleanup"},{keys:["?"],description:"Show keyboard shortcuts",action:"help"},{keys:["Esc"],description:"Close dialogs",action:"escape"}];function hk(){const e=Fo(),[s,n]=R.useState(!1),[o,a]=R.useState(null);return R.useEffect(()=>{const f=y=>{if(!(y.target instanceof HTMLInputElement||y.target instanceof HTMLTextAreaElement||y.target instanceof HTMLSelectElement)){if(y.key==="?"&&!y.ctrlKey&&!y.metaKey){y.preventDefault(),n(!0);return}if(y.key==="Escape"){n(!1),a(null);return}if(o==="g"){const l=ih.find(d=>d.keys[0]==="g"&&d.keys[1]===y.key);l&&typeof l.action=="string"&&l.action.startsWith("/")&&(y.preventDefault(),e(l.action)),a(null);return}if(y.key==="g"&&!y.ctrlKey&&!y.metaKey){a("g"),setTimeout(()=>a(null),1e3);return}}};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[e,o]),{showHelp:s,setShowHelp:n,pendingKey:o}}function fk({open:e,onClose:s}){return e?r.jsx("div",{className:"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm flex items-center justify-center",onClick:s,role:"dialog","aria-modal":"true","aria-labelledby":"shortcuts-title",children:r.jsxs(Oe,{className:"w-full max-w-md mx-4",onClick:n=>n.stopPropagation(),children:[r.jsxs(Fe,{className:"flex flex-row items-center justify-between",children:[r.jsxs(Be,{id:"shortcuts-title",className:"flex items-center gap-2",children:[r.jsx(Qx,{className:"h-5 w-5"}),"Keyboard Shortcuts"]}),r.jsx(Z,{variant:"ghost",size:"icon",onClick:s,"aria-label":"Close",children:r.jsx(Lt,{className:"h-4 w-4"})})]}),r.jsxs(Ie,{children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Navigation"}),r.jsx("div",{className:"space-y-1",children:ih.filter(n=>n.action.startsWith("/")).map(n=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{children:n.description}),r.jsx("div",{className:"flex gap-1",children:n.keys.map((o,a)=>r.jsx("kbd",{className:"px-2 py-1 bg-muted rounded text-xs font-mono",children:o},a))})]},n.description))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"General"}),r.jsx("div",{className:"space-y-1",children:ih.filter(n=>!n.action.startsWith("/")).map(n=>r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{children:n.description}),r.jsx("div",{className:"flex gap-1",children:n.keys.map((o,a)=>r.jsx("kbd",{className:"px-2 py-1 bg-muted rounded text-xs font-mono",children:o},a))})]},n.description))})]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-4",children:["Press ",r.jsx("kbd",{className:"px-1 py-0.5 bg-muted rounded text-xs",children:"?"})," anytime to show this help"]})]})]})}):null}function mk({pendingKey:e}){return e?r.jsx("div",{className:"fixed bottom-4 right-4 z-50 px-3 py-2 bg-card border rounded-lg shadow-lg",children:r.jsxs("span",{className:"text-sm",children:["Press next key... ",r.jsx("kbd",{className:"px-2 py-1 bg-muted rounded text-xs font-mono ml-1",children:e})]})}):null}function gy(e,s){return function(){return e.apply(s,arguments)}}const{toString:pk}=Object.prototype,{getPrototypeOf:Uh}=Object,{iterator:oc,toStringTag:vy}=Symbol,ac=(e=>s=>{const n=pk.call(s);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ps=e=>(e=e.toLowerCase(),s=>ac(s)===e),lc=e=>s=>typeof s===e,{isArray:Li}=Array,Ni=lc("undefined");function Uo(e){return e!==null&&!Ni(e)&&e.constructor!==null&&!Ni(e.constructor)&&$t(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xy=Ps("ArrayBuffer");function gk(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&xy(e.buffer),s}const vk=lc("string"),$t=lc("function"),yy=lc("number"),$o=e=>e!==null&&typeof e=="object",xk=e=>e===!0||e===!1,Cl=e=>{if(ac(e)!=="object")return!1;const s=Uh(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(vy in e)&&!(oc in e)},yk=e=>{if(!$o(e)||Uo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},_k=Ps("Date"),wk=Ps("File"),bk=Ps("Blob"),Sk=Ps("FileList"),Ck=e=>$o(e)&&$t(e.pipe),jk=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||$t(e.append)&&((s=ac(e))==="formdata"||s==="object"&&$t(e.toString)&&e.toString()==="[object FormData]"))},kk=Ps("URLSearchParams"),[Nk,Ek,Rk,Pk]=["ReadableStream","Request","Response","Headers"].map(Ps),Tk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wo(e,s,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let o,a;if(typeof e!="object"&&(e=[e]),Li(e))for(o=0,a=e.length;o<a;o++)s.call(null,e[o],o,e);else{if(Uo(e))return;const f=n?Object.getOwnPropertyNames(e):Object.keys(e),y=f.length;let l;for(o=0;o<y;o++)l=f[o],s.call(null,e[l],l,e)}}function _y(e,s){if(Uo(e))return null;s=s.toLowerCase();const n=Object.keys(e);let o=n.length,a;for(;o-- >0;)if(a=n[o],s===a.toLowerCase())return a;return null}const kn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wy=e=>!Ni(e)&&e!==kn;function oh(){const{caseless:e,skipUndefined:s}=wy(this)&&this||{},n={},o=(a,f)=>{const y=e&&_y(n,f)||f;Cl(n[y])&&Cl(a)?n[y]=oh(n[y],a):Cl(a)?n[y]=oh({},a):Li(a)?n[y]=a.slice():(!s||!Ni(a))&&(n[y]=a)};for(let a=0,f=arguments.length;a<f;a++)arguments[a]&&Wo(arguments[a],o);return n}const Dk=(e,s,n,{allOwnKeys:o}={})=>(Wo(s,(a,f)=>{n&&$t(a)?Object.defineProperty(e,f,{value:gy(a,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,f,{value:a,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:o}),e),Mk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Lk=(e,s,n,o)=>{e.prototype=Object.create(s.prototype,o),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:s.prototype}),n&&Object.assign(e.prototype,n)},Ak=(e,s,n,o)=>{let a,f,y;const l={};if(s=s||{},e==null)return s;do{for(a=Object.getOwnPropertyNames(e),f=a.length;f-- >0;)y=a[f],(!o||o(y,e,s))&&!l[y]&&(s[y]=e[y],l[y]=!0);e=n!==!1&&Uh(e)}while(e&&(!n||n(e,s))&&e!==Object.prototype);return s},Ok=(e,s,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=s.length;const o=e.indexOf(s,n);return o!==-1&&o===n},Ik=e=>{if(!e)return null;if(Li(e))return e;let s=e.length;if(!yy(s))return null;const n=new Array(s);for(;s-- >0;)n[s]=e[s];return n},Fk=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&Uh(Uint8Array)),Bk=(e,s)=>{const o=(e&&e[oc]).call(e);let a;for(;(a=o.next())&&!a.done;){const f=a.value;s.call(e,f[0],f[1])}},Hk=(e,s)=>{let n;const o=[];for(;(n=e.exec(s))!==null;)o.push(n);return o},zk=Ps("HTMLFormElement"),Uk=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,a){return o.toUpperCase()+a}),ev=(({hasOwnProperty:e})=>(s,n)=>e.call(s,n))(Object.prototype),$k=Ps("RegExp"),by=(e,s)=>{const n=Object.getOwnPropertyDescriptors(e),o={};Wo(n,(a,f)=>{let y;(y=s(a,f,e))!==!1&&(o[f]=y||a)}),Object.defineProperties(e,o)},Wk=e=>{by(e,(s,n)=>{if($t(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=e[n];if($t(o)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},qk=(e,s)=>{const n={},o=a=>{a.forEach(f=>{n[f]=!0})};return Li(e)?o(e):o(String(e).split(s)),n},Kk=()=>{},Vk=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function Gk(e){return!!(e&&$t(e.append)&&e[vy]==="FormData"&&e[oc])}const Qk=e=>{const s=new Array(10),n=(o,a)=>{if($o(o)){if(s.indexOf(o)>=0)return;if(Uo(o))return o;if(!("toJSON"in o)){s[a]=o;const f=Li(o)?[]:{};return Wo(o,(y,l)=>{const d=n(y,a+1);!Ni(d)&&(f[l]=d)}),s[a]=void 0,f}}return o};return n(e,0)},Yk=Ps("AsyncFunction"),Xk=e=>e&&($o(e)||$t(e))&&$t(e.then)&&$t(e.catch),Sy=((e,s)=>e?setImmediate:s?((n,o)=>(kn.addEventListener("message",({source:a,data:f})=>{a===kn&&f===n&&o.length&&o.shift()()},!1),a=>{o.push(a),kn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",$t(kn.postMessage)),Jk=typeof queueMicrotask<"u"?queueMicrotask.bind(kn):typeof process<"u"&&process.nextTick||Sy,Zk=e=>e!=null&&$t(e[oc]),ne={isArray:Li,isArrayBuffer:xy,isBuffer:Uo,isFormData:jk,isArrayBufferView:gk,isString:vk,isNumber:yy,isBoolean:xk,isObject:$o,isPlainObject:Cl,isEmptyObject:yk,isReadableStream:Nk,isRequest:Ek,isResponse:Rk,isHeaders:Pk,isUndefined:Ni,isDate:_k,isFile:wk,isBlob:bk,isRegExp:$k,isFunction:$t,isStream:Ck,isURLSearchParams:kk,isTypedArray:Fk,isFileList:Sk,forEach:Wo,merge:oh,extend:Dk,trim:Tk,stripBOM:Mk,inherits:Lk,toFlatObject:Ak,kindOf:ac,kindOfTest:Ps,endsWith:Ok,toArray:Ik,forEachEntry:Bk,matchAll:Hk,isHTMLForm:zk,hasOwnProperty:ev,hasOwnProp:ev,reduceDescriptors:by,freezeMethods:Wk,toObjectSet:qk,toCamelCase:Uk,noop:Kk,toFiniteNumber:Vk,findKey:_y,global:kn,isContextDefined:wy,isSpecCompliantForm:Gk,toJSONObject:Qk,isAsyncFn:Yk,isThenable:Xk,setImmediate:Sy,asap:Jk,isIterable:Zk};let Ee=class Cy extends Error{static from(s,n,o,a,f,y){const l=new Cy(s.message,n||s.code,o,a,f);return l.cause=s,l.name=s.name,y&&Object.assign(l,y),l}constructor(s,n,o,a,f){super(s),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),o&&(this.config=o),a&&(this.request=a),f&&(this.response=f,this.status=f.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}};Ee.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ee.ERR_BAD_OPTION="ERR_BAD_OPTION";Ee.ECONNABORTED="ECONNABORTED";Ee.ETIMEDOUT="ETIMEDOUT";Ee.ERR_NETWORK="ERR_NETWORK";Ee.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ee.ERR_DEPRECATED="ERR_DEPRECATED";Ee.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ee.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ee.ERR_CANCELED="ERR_CANCELED";Ee.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ee.ERR_INVALID_URL="ERR_INVALID_URL";const eN=null;function ah(e){return ne.isPlainObject(e)||ne.isArray(e)}function jy(e){return ne.endsWith(e,"[]")?e.slice(0,-2):e}function tv(e,s,n){return e?e.concat(s).map(function(a,f){return a=jy(a),!n&&f?"["+a+"]":a}).join(n?".":""):s}function tN(e){return ne.isArray(e)&&!e.some(ah)}const sN=ne.toFlatObject(ne,{},null,function(s){return/^is[A-Z]/.test(s)});function cc(e,s,n){if(!ne.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,n=ne.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,u){return!ne.isUndefined(u[b])});const o=n.metaTokens,a=n.visitor||v,f=n.dots,y=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(s);if(!ne.isFunction(a))throw new TypeError("visitor must be a function");function m(k){if(k===null)return"";if(ne.isDate(k))return k.toISOString();if(ne.isBoolean(k))return k.toString();if(!d&&ne.isBlob(k))throw new Ee("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(k)||ne.isTypedArray(k)?d&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function v(k,b,u){let x=k;if(k&&!u&&typeof k=="object"){if(ne.endsWith(b,"{}"))b=o?b:b.slice(0,-2),k=JSON.stringify(k);else if(ne.isArray(k)&&tN(k)||(ne.isFileList(k)||ne.endsWith(b,"[]"))&&(x=ne.toArray(k)))return b=jy(b),x.forEach(function(g,C){!(ne.isUndefined(g)||g===null)&&s.append(y===!0?tv([b],C,f):y===null?b:b+"[]",m(g))}),!1}return ah(k)?!0:(s.append(tv(u,b,f),m(k)),!1)}const h=[],w=Object.assign(sN,{defaultVisitor:v,convertValue:m,isVisitable:ah});function S(k,b){if(!ne.isUndefined(k)){if(h.indexOf(k)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(k),ne.forEach(k,function(x,p){(!(ne.isUndefined(x)||x===null)&&a.call(s,x,ne.isString(p)?p.trim():p,b,w))===!0&&S(x,b?b.concat(p):[p])}),h.pop()}}if(!ne.isObject(e))throw new TypeError("data must be an object");return S(e),s}function sv(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return s[o]})}function $h(e,s){this._pairs=[],e&&cc(e,this,s)}const ky=$h.prototype;ky.append=function(s,n){this._pairs.push([s,n])};ky.toString=function(s){const n=s?function(o){return s.call(this,o,sv)}:sv;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function rN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ny(e,s,n){if(!s)return e;const o=n&&n.encode||rN,a=ne.isFunction(n)?{serialize:n}:n,f=a&&a.serialize;let y;if(f?y=f(s,a):y=ne.isURLSearchParams(s)?s.toString():new $h(s,a).toString(o),y){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+y}return e}class rv{constructor(){this.handlers=[]}use(s,n,o){return this.handlers.push({fulfilled:s,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){ne.forEach(this.handlers,function(o){o!==null&&s(o)})}}const Ey={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nN=typeof URLSearchParams<"u"?URLSearchParams:$h,iN=typeof FormData<"u"?FormData:null,oN=typeof Blob<"u"?Blob:null,aN={isBrowser:!0,classes:{URLSearchParams:nN,FormData:iN,Blob:oN},protocols:["http","https","file","blob","url","data"]},Wh=typeof window<"u"&&typeof document<"u",lh=typeof navigator=="object"&&navigator||void 0,lN=Wh&&(!lh||["ReactNative","NativeScript","NS"].indexOf(lh.product)<0),cN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uN=Wh&&window.location.href||"http://localhost",dN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Wh,hasStandardBrowserEnv:lN,hasStandardBrowserWebWorkerEnv:cN,navigator:lh,origin:uN},Symbol.toStringTag,{value:"Module"})),Et={...dN,...aN};function hN(e,s){return cc(e,new Et.classes.URLSearchParams,{visitor:function(n,o,a,f){return Et.isNode&&ne.isBuffer(n)?(this.append(o,n.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...s})}function fN(e){return ne.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function mN(e){const s={},n=Object.keys(e);let o;const a=n.length;let f;for(o=0;o<a;o++)f=n[o],s[f]=e[f];return s}function Ry(e){function s(n,o,a,f){let y=n[f++];if(y==="__proto__")return!0;const l=Number.isFinite(+y),d=f>=n.length;return y=!y&&ne.isArray(a)?a.length:y,d?(ne.hasOwnProp(a,y)?a[y]=[a[y],o]:a[y]=o,!l):((!a[y]||!ne.isObject(a[y]))&&(a[y]=[]),s(n,o,a[y],f)&&ne.isArray(a[y])&&(a[y]=mN(a[y])),!l)}if(ne.isFormData(e)&&ne.isFunction(e.entries)){const n={};return ne.forEachEntry(e,(o,a)=>{s(fN(o),a,n,0)}),n}return null}function pN(e,s,n){if(ne.isString(e))try{return(s||JSON.parse)(e),ne.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(e)}const qo={transitional:Ey,adapter:["xhr","http","fetch"],transformRequest:[function(s,n){const o=n.getContentType()||"",a=o.indexOf("application/json")>-1,f=ne.isObject(s);if(f&&ne.isHTMLForm(s)&&(s=new FormData(s)),ne.isFormData(s))return a?JSON.stringify(Ry(s)):s;if(ne.isArrayBuffer(s)||ne.isBuffer(s)||ne.isStream(s)||ne.isFile(s)||ne.isBlob(s)||ne.isReadableStream(s))return s;if(ne.isArrayBufferView(s))return s.buffer;if(ne.isURLSearchParams(s))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(f){if(o.indexOf("application/x-www-form-urlencoded")>-1)return hN(s,this.formSerializer).toString();if((l=ne.isFileList(s))||o.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return cc(l?{"files[]":s}:s,d&&new d,this.formSerializer)}}return f||a?(n.setContentType("application/json",!1),pN(s)):s}],transformResponse:[function(s){const n=this.transitional||qo.transitional,o=n&&n.forcedJSONParsing,a=this.responseType==="json";if(ne.isResponse(s)||ne.isReadableStream(s))return s;if(s&&ne.isString(s)&&(o&&!this.responseType||a)){const y=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(s,this.parseReviver)}catch(l){if(y)throw l.name==="SyntaxError"?Ee.from(l,Ee.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Et.classes.FormData,Blob:Et.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],e=>{qo.headers[e]={}});const gN=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vN=e=>{const s={};let n,o,a;return e&&e.split(`
`).forEach(function(y){a=y.indexOf(":"),n=y.substring(0,a).trim().toLowerCase(),o=y.substring(a+1).trim(),!(!n||s[n]&&gN[n])&&(n==="set-cookie"?s[n]?s[n].push(o):s[n]=[o]:s[n]=s[n]?s[n]+", "+o:o)}),s},nv=Symbol("internals");function So(e){return e&&String(e).trim().toLowerCase()}function jl(e){return e===!1||e==null?e:ne.isArray(e)?e.map(jl):String(e)}function xN(e){const s=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)s[o[1]]=o[2];return s}const yN=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function bd(e,s,n,o,a){if(ne.isFunction(o))return o.call(this,s,n);if(a&&(s=n),!!ne.isString(s)){if(ne.isString(o))return s.indexOf(o)!==-1;if(ne.isRegExp(o))return o.test(s)}}function _N(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,n,o)=>n.toUpperCase()+o)}function wN(e,s){const n=ne.toCamelCase(" "+s);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+n,{value:function(a,f,y){return this[o].call(this,s,a,f,y)},configurable:!0})})}let Wt=class{constructor(s){s&&this.set(s)}set(s,n,o){const a=this;function f(l,d,m){const v=So(d);if(!v)throw new Error("header name must be a non-empty string");const h=ne.findKey(a,v);(!h||a[h]===void 0||m===!0||m===void 0&&a[h]!==!1)&&(a[h||d]=jl(l))}const y=(l,d)=>ne.forEach(l,(m,v)=>f(m,v,d));if(ne.isPlainObject(s)||s instanceof this.constructor)y(s,n);else if(ne.isString(s)&&(s=s.trim())&&!yN(s))y(vN(s),n);else if(ne.isObject(s)&&ne.isIterable(s)){let l={},d,m;for(const v of s){if(!ne.isArray(v))throw TypeError("Object iterator must return a key-value pair");l[m=v[0]]=(d=l[m])?ne.isArray(d)?[...d,v[1]]:[d,v[1]]:v[1]}y(l,n)}else s!=null&&f(n,s,o);return this}get(s,n){if(s=So(s),s){const o=ne.findKey(this,s);if(o){const a=this[o];if(!n)return a;if(n===!0)return xN(a);if(ne.isFunction(n))return n.call(this,a,o);if(ne.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,n){if(s=So(s),s){const o=ne.findKey(this,s);return!!(o&&this[o]!==void 0&&(!n||bd(this,this[o],o,n)))}return!1}delete(s,n){const o=this;let a=!1;function f(y){if(y=So(y),y){const l=ne.findKey(o,y);l&&(!n||bd(o,o[l],l,n))&&(delete o[l],a=!0)}}return ne.isArray(s)?s.forEach(f):f(s),a}clear(s){const n=Object.keys(this);let o=n.length,a=!1;for(;o--;){const f=n[o];(!s||bd(this,this[f],f,s,!0))&&(delete this[f],a=!0)}return a}normalize(s){const n=this,o={};return ne.forEach(this,(a,f)=>{const y=ne.findKey(o,f);if(y){n[y]=jl(a),delete n[f];return}const l=s?_N(f):String(f).trim();l!==f&&delete n[f],n[l]=jl(a),o[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const n=Object.create(null);return ne.forEach(this,(o,a)=>{o!=null&&o!==!1&&(n[a]=s&&ne.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,n])=>s+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...n){const o=new this(s);return n.forEach(a=>o.set(a)),o}static accessor(s){const o=(this[nv]=this[nv]={accessors:{}}).accessors,a=this.prototype;function f(y){const l=So(y);o[l]||(wN(a,y),o[l]=!0)}return ne.isArray(s)?s.forEach(f):f(s),this}};Wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(Wt.prototype,({value:e},s)=>{let n=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(o){this[n]=o}}});ne.freezeMethods(Wt);function Sd(e,s){const n=this||qo,o=s||n,a=Wt.from(o.headers);let f=o.data;return ne.forEach(e,function(l){f=l.call(n,f,a.normalize(),s?s.status:void 0)}),a.normalize(),f}function Py(e){return!!(e&&e.__CANCEL__)}let Ko=class extends Ee{constructor(s,n,o){super(s??"canceled",Ee.ERR_CANCELED,n,o),this.name="CanceledError",this.__CANCEL__=!0}};function Ty(e,s,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?e(n):s(new Ee("Request failed with status code "+n.status,[Ee.ERR_BAD_REQUEST,Ee.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function bN(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function SN(e,s){e=e||10;const n=new Array(e),o=new Array(e);let a=0,f=0,y;return s=s!==void 0?s:1e3,function(d){const m=Date.now(),v=o[f];y||(y=m),n[a]=d,o[a]=m;let h=f,w=0;for(;h!==a;)w+=n[h++],h=h%e;if(a=(a+1)%e,a===f&&(f=(f+1)%e),m-y<s)return;const S=v&&m-v;return S?Math.round(w*1e3/S):void 0}}function CN(e,s){let n=0,o=1e3/s,a,f;const y=(m,v=Date.now())=>{n=v,a=null,f&&(clearTimeout(f),f=null),e(...m)};return[(...m)=>{const v=Date.now(),h=v-n;h>=o?y(m,v):(a=m,f||(f=setTimeout(()=>{f=null,y(a)},o-h)))},()=>a&&y(a)]}const Hl=(e,s,n=3)=>{let o=0;const a=SN(50,250);return CN(f=>{const y=f.loaded,l=f.lengthComputable?f.total:void 0,d=y-o,m=a(d),v=y<=l;o=y;const h={loaded:y,total:l,progress:l?y/l:void 0,bytes:d,rate:m||void 0,estimated:m&&l&&v?(l-y)/m:void 0,event:f,lengthComputable:l!=null,[s?"download":"upload"]:!0};e(h)},n)},iv=(e,s)=>{const n=e!=null;return[o=>s[0]({lengthComputable:n,total:e,loaded:o}),s[1]]},ov=e=>(...s)=>ne.asap(()=>e(...s)),jN=Et.hasStandardBrowserEnv?((e,s)=>n=>(n=new URL(n,Et.origin),e.protocol===n.protocol&&e.host===n.host&&(s||e.port===n.port)))(new URL(Et.origin),Et.navigator&&/(msie|trident)/i.test(Et.navigator.userAgent)):()=>!0,kN=Et.hasStandardBrowserEnv?{write(e,s,n,o,a,f,y){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(s)}`];ne.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),ne.isString(o)&&l.push(`path=${o}`),ne.isString(a)&&l.push(`domain=${a}`),f===!0&&l.push("secure"),ne.isString(y)&&l.push(`SameSite=${y}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function NN(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function EN(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function Dy(e,s,n){let o=!NN(s);return e&&(o||n==!1)?EN(e,s):s}const av=e=>e instanceof Wt?{...e}:e;function Dn(e,s){s=s||{};const n={};function o(m,v,h,w){return ne.isPlainObject(m)&&ne.isPlainObject(v)?ne.merge.call({caseless:w},m,v):ne.isPlainObject(v)?ne.merge({},v):ne.isArray(v)?v.slice():v}function a(m,v,h,w){if(ne.isUndefined(v)){if(!ne.isUndefined(m))return o(void 0,m,h,w)}else return o(m,v,h,w)}function f(m,v){if(!ne.isUndefined(v))return o(void 0,v)}function y(m,v){if(ne.isUndefined(v)){if(!ne.isUndefined(m))return o(void 0,m)}else return o(void 0,v)}function l(m,v,h){if(h in s)return o(m,v);if(h in e)return o(void 0,m)}const d={url:f,method:f,data:f,baseURL:y,transformRequest:y,transformResponse:y,paramsSerializer:y,timeout:y,timeoutMessage:y,withCredentials:y,withXSRFToken:y,adapter:y,responseType:y,xsrfCookieName:y,xsrfHeaderName:y,onUploadProgress:y,onDownloadProgress:y,decompress:y,maxContentLength:y,maxBodyLength:y,beforeRedirect:y,transport:y,httpAgent:y,httpsAgent:y,cancelToken:y,socketPath:y,responseEncoding:y,validateStatus:l,headers:(m,v,h)=>a(av(m),av(v),h,!0)};return ne.forEach(Object.keys({...e,...s}),function(v){const h=d[v]||a,w=h(e[v],s[v],v);ne.isUndefined(w)&&h!==l||(n[v]=w)}),n}const My=e=>{const s=Dn({},e);let{data:n,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:f,headers:y,auth:l}=s;if(s.headers=y=Wt.from(y),s.url=Ny(Dy(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&y.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ne.isFormData(n)){if(Et.hasStandardBrowserEnv||Et.hasStandardBrowserWebWorkerEnv)y.setContentType(void 0);else if(ne.isFunction(n.getHeaders)){const d=n.getHeaders(),m=["content-type","content-length"];Object.entries(d).forEach(([v,h])=>{m.includes(v.toLowerCase())&&y.set(v,h)})}}if(Et.hasStandardBrowserEnv&&(o&&ne.isFunction(o)&&(o=o(s)),o||o!==!1&&jN(s.url))){const d=a&&f&&kN.read(f);d&&y.set(a,d)}return s},RN=typeof XMLHttpRequest<"u",PN=RN&&function(e){return new Promise(function(n,o){const a=My(e);let f=a.data;const y=Wt.from(a.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:m}=a,v,h,w,S,k;function b(){S&&S(),k&&k(),a.cancelToken&&a.cancelToken.unsubscribe(v),a.signal&&a.signal.removeEventListener("abort",v)}let u=new XMLHttpRequest;u.open(a.method.toUpperCase(),a.url,!0),u.timeout=a.timeout;function x(){if(!u)return;const g=Wt.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:g,config:e,request:u};Ty(function(L){n(L),b()},function(L){o(L),b()},E),u=null}"onloadend"in u?u.onloadend=x:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(x)},u.onabort=function(){u&&(o(new Ee("Request aborted",Ee.ECONNABORTED,e,u)),u=null)},u.onerror=function(C){const E=C&&C.message?C.message:"Network Error",P=new Ee(E,Ee.ERR_NETWORK,e,u);P.event=C||null,o(P),u=null},u.ontimeout=function(){let C=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||Ey;a.timeoutErrorMessage&&(C=a.timeoutErrorMessage),o(new Ee(C,E.clarifyTimeoutError?Ee.ETIMEDOUT:Ee.ECONNABORTED,e,u)),u=null},f===void 0&&y.setContentType(null),"setRequestHeader"in u&&ne.forEach(y.toJSON(),function(C,E){u.setRequestHeader(E,C)}),ne.isUndefined(a.withCredentials)||(u.withCredentials=!!a.withCredentials),l&&l!=="json"&&(u.responseType=a.responseType),m&&([w,k]=Hl(m,!0),u.addEventListener("progress",w)),d&&u.upload&&([h,S]=Hl(d),u.upload.addEventListener("progress",h),u.upload.addEventListener("loadend",S)),(a.cancelToken||a.signal)&&(v=g=>{u&&(o(!g||g.type?new Ko(null,e,u):g),u.abort(),u=null)},a.cancelToken&&a.cancelToken.subscribe(v),a.signal&&(a.signal.aborted?v():a.signal.addEventListener("abort",v)));const p=bN(a.url);if(p&&Et.protocols.indexOf(p)===-1){o(new Ee("Unsupported protocol "+p+":",Ee.ERR_BAD_REQUEST,e));return}u.send(f||null)})},TN=(e,s)=>{const{length:n}=e=e?e.filter(Boolean):[];if(s||n){let o=new AbortController,a;const f=function(m){if(!a){a=!0,l();const v=m instanceof Error?m:this.reason;o.abort(v instanceof Ee?v:new Ko(v instanceof Error?v.message:v))}};let y=s&&setTimeout(()=>{y=null,f(new Ee(`timeout of ${s}ms exceeded`,Ee.ETIMEDOUT))},s);const l=()=>{e&&(y&&clearTimeout(y),y=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(f):m.removeEventListener("abort",f)}),e=null)};e.forEach(m=>m.addEventListener("abort",f));const{signal:d}=o;return d.unsubscribe=()=>ne.asap(l),d}},DN=function*(e,s){let n=e.byteLength;if(n<s){yield e;return}let o=0,a;for(;o<n;)a=o+s,yield e.slice(o,a),o=a},MN=async function*(e,s){for await(const n of LN(e))yield*DN(n,s)},LN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:n,value:o}=await s.read();if(n)break;yield o}}finally{await s.cancel()}},lv=(e,s,n,o)=>{const a=MN(e,s);let f=0,y,l=d=>{y||(y=!0,o&&o(d))};return new ReadableStream({async pull(d){try{const{done:m,value:v}=await a.next();if(m){l(),d.close();return}let h=v.byteLength;if(n){let w=f+=h;n(w)}d.enqueue(new Uint8Array(v))}catch(m){throw l(m),m}},cancel(d){return l(d),a.return()}},{highWaterMark:2})},cv=64*1024,{isFunction:dl}=ne,AN=(({Request:e,Response:s})=>({Request:e,Response:s}))(ne.global),{ReadableStream:uv,TextEncoder:dv}=ne.global,hv=(e,...s)=>{try{return!!e(...s)}catch{return!1}},ON=e=>{e=ne.merge.call({skipUndefined:!0},AN,e);const{fetch:s,Request:n,Response:o}=e,a=s?dl(s):typeof fetch=="function",f=dl(n),y=dl(o);if(!a)return!1;const l=a&&dl(uv),d=a&&(typeof dv=="function"?(k=>b=>k.encode(b))(new dv):async k=>new Uint8Array(await new n(k).arrayBuffer())),m=f&&l&&hv(()=>{let k=!1;const b=new n(Et.origin,{body:new uv,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!b}),v=y&&l&&hv(()=>ne.isReadableStream(new o("").body)),h={stream:v&&(k=>k.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!h[k]&&(h[k]=(b,u)=>{let x=b&&b[k];if(x)return x.call(b);throw new Ee(`Response type '${k}' is not supported`,Ee.ERR_NOT_SUPPORT,u)})});const w=async k=>{if(k==null)return 0;if(ne.isBlob(k))return k.size;if(ne.isSpecCompliantForm(k))return(await new n(Et.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(k)||ne.isArrayBuffer(k))return k.byteLength;if(ne.isURLSearchParams(k)&&(k=k+""),ne.isString(k))return(await d(k)).byteLength},S=async(k,b)=>{const u=ne.toFiniteNumber(k.getContentLength());return u??w(b)};return async k=>{let{url:b,method:u,data:x,signal:p,cancelToken:g,timeout:C,onDownloadProgress:E,onUploadProgress:P,responseType:L,headers:j,withCredentials:A="same-origin",fetchOptions:z}=My(k),$=s||fetch;L=L?(L+"").toLowerCase():"text";let U=TN([p,g&&g.toAbortSignal()],C),I=null;const W=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let J;try{if(P&&m&&u!=="get"&&u!=="head"&&(J=await S(j,x))!==0){let O=new n(b,{method:"POST",body:x,duplex:"half"}),K;if(ne.isFormData(x)&&(K=O.headers.get("content-type"))&&j.setContentType(K),O.body){const[re,ae]=iv(J,Hl(ov(P)));x=lv(O.body,cv,re,ae)}}ne.isString(A)||(A=A?"include":"omit");const V=f&&"credentials"in n.prototype,G={...z,signal:U,method:u.toUpperCase(),headers:j.normalize().toJSON(),body:x,duplex:"half",credentials:V?A:void 0};I=f&&new n(b,G);let D=await(f?$(I,z):$(b,G));const M=v&&(L==="stream"||L==="response");if(v&&(E||M&&W)){const O={};["status","statusText","headers"].forEach(he=>{O[he]=D[he]});const K=ne.toFiniteNumber(D.headers.get("content-length")),[re,ae]=E&&iv(K,Hl(ov(E),!0))||[];D=new o(lv(D.body,cv,re,()=>{ae&&ae(),W&&W()}),O)}L=L||"text";let H=await h[ne.findKey(h,L)||"text"](D,k);return!M&&W&&W(),await new Promise((O,K)=>{Ty(O,K,{data:H,headers:Wt.from(D.headers),status:D.status,statusText:D.statusText,config:k,request:I})})}catch(V){throw W&&W(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new Ee("Network Error",Ee.ERR_NETWORK,k,I),{cause:V.cause||V}):Ee.from(V,V&&V.code,k,I)}}},IN=new Map,Ly=e=>{let s=e&&e.env||{};const{fetch:n,Request:o,Response:a}=s,f=[o,a,n];let y=f.length,l=y,d,m,v=IN;for(;l--;)d=f[l],m=v.get(d),m===void 0&&v.set(d,m=l?new Map:ON(s)),v=m;return m};Ly();const qh={http:eN,xhr:PN,fetch:{get:Ly}};ne.forEach(qh,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const fv=e=>`- ${e}`,FN=e=>ne.isFunction(e)||e===null||e===!1;function BN(e,s){e=ne.isArray(e)?e:[e];const{length:n}=e;let o,a;const f={};for(let y=0;y<n;y++){o=e[y];let l;if(a=o,!FN(o)&&(a=qh[(l=String(o)).toLowerCase()],a===void 0))throw new Ee(`Unknown adapter '${l}'`);if(a&&(ne.isFunction(a)||(a=a.get(s))))break;f[l||"#"+y]=a}if(!a){const y=Object.entries(f).map(([d,m])=>`adapter ${d} `+(m===!1?"is not supported by the environment":"is not available in the build"));let l=n?y.length>1?`since :
`+y.map(fv).join(`
`):" "+fv(y[0]):"as no adapter specified";throw new Ee("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const Ay={getAdapter:BN,adapters:qh};function Cd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ko(null,e)}function mv(e){return Cd(e),e.headers=Wt.from(e.headers),e.data=Sd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ay.getAdapter(e.adapter||qo.adapter,e)(e).then(function(o){return Cd(e),o.data=Sd.call(e,e.transformResponse,o),o.headers=Wt.from(o.headers),o},function(o){return Py(o)||(Cd(e),o&&o.response&&(o.response.data=Sd.call(e,e.transformResponse,o.response),o.response.headers=Wt.from(o.response.headers))),Promise.reject(o)})}const Oy="1.13.4",uc={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{uc[e]=function(o){return typeof o===e||"a"+(s<1?"n ":" ")+e}});const pv={};uc.transitional=function(s,n,o){function a(f,y){return"[Axios v"+Oy+"] Transitional option '"+f+"'"+y+(o?". "+o:"")}return(f,y,l)=>{if(s===!1)throw new Ee(a(y," has been removed"+(n?" in "+n:"")),Ee.ERR_DEPRECATED);return n&&!pv[y]&&(pv[y]=!0,console.warn(a(y," has been deprecated since v"+n+" and will be removed in the near future"))),s?s(f,y,l):!0}};uc.spelling=function(s){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${s}`),!0)};function HN(e,s,n){if(typeof e!="object")throw new Ee("options must be an object",Ee.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let a=o.length;for(;a-- >0;){const f=o[a],y=s[f];if(y){const l=e[f],d=l===void 0||y(l,f,e);if(d!==!0)throw new Ee("option "+f+" must be "+d,Ee.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ee("Unknown option "+f,Ee.ERR_BAD_OPTION)}}const kl={assertOptions:HN,validators:uc},Fs=kl.validators;let En=class{constructor(s){this.defaults=s||{},this.interceptors={request:new rv,response:new rv}}async request(s,n){try{return await this._request(s,n)}catch(o){if(o instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const f=a.stack?a.stack.replace(/^.+\n/,""):"";try{o.stack?f&&!String(o.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+f):o.stack=f}catch{}}throw o}}_request(s,n){typeof s=="string"?(n=n||{},n.url=s):n=s||{},n=Dn(this.defaults,n);const{transitional:o,paramsSerializer:a,headers:f}=n;o!==void 0&&kl.assertOptions(o,{silentJSONParsing:Fs.transitional(Fs.boolean),forcedJSONParsing:Fs.transitional(Fs.boolean),clarifyTimeoutError:Fs.transitional(Fs.boolean)},!1),a!=null&&(ne.isFunction(a)?n.paramsSerializer={serialize:a}:kl.assertOptions(a,{encode:Fs.function,serialize:Fs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),kl.assertOptions(n,{baseUrl:Fs.spelling("baseURL"),withXsrfToken:Fs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let y=f&&ne.merge(f.common,f[n.method]);f&&ne.forEach(["delete","get","head","post","put","patch","common"],k=>{delete f[k]}),n.headers=Wt.concat(y,f);const l=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(d=d&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const m=[];this.interceptors.response.forEach(function(b){m.push(b.fulfilled,b.rejected)});let v,h=0,w;if(!d){const k=[mv.bind(this),void 0];for(k.unshift(...l),k.push(...m),w=k.length,v=Promise.resolve(n);h<w;)v=v.then(k[h++],k[h++]);return v}w=l.length;let S=n;for(;h<w;){const k=l[h++],b=l[h++];try{S=k(S)}catch(u){b.call(this,u);break}}try{v=mv.call(this,S)}catch(k){return Promise.reject(k)}for(h=0,w=m.length;h<w;)v=v.then(m[h++],m[h++]);return v}getUri(s){s=Dn(this.defaults,s);const n=Dy(s.baseURL,s.url,s.allowAbsoluteUrls);return Ny(n,s.params,s.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(s){En.prototype[s]=function(n,o){return this.request(Dn(o||{},{method:s,url:n,data:(o||{}).data}))}});ne.forEach(["post","put","patch"],function(s){function n(o){return function(f,y,l){return this.request(Dn(l||{},{method:s,headers:o?{"Content-Type":"multipart/form-data"}:{},url:f,data:y}))}}En.prototype[s]=n(),En.prototype[s+"Form"]=n(!0)});let zN=class Iy{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(f){n=f});const o=this;this.promise.then(a=>{if(!o._listeners)return;let f=o._listeners.length;for(;f-- >0;)o._listeners[f](a);o._listeners=null}),this.promise.then=a=>{let f;const y=new Promise(l=>{o.subscribe(l),f=l}).then(a);return y.cancel=function(){o.unsubscribe(f)},y},s(function(f,y,l){o.reason||(o.reason=new Ko(f,y,l),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const n=this._listeners.indexOf(s);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const s=new AbortController,n=o=>{s.abort(o)};return this.subscribe(n),s.signal.unsubscribe=()=>this.unsubscribe(n),s.signal}static source(){let s;return{token:new Iy(function(a){s=a}),cancel:s}}};function UN(e){return function(n){return e.apply(null,n)}}function $N(e){return ne.isObject(e)&&e.isAxiosError===!0}const ch={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ch).forEach(([e,s])=>{ch[s]=e});function Fy(e){const s=new En(e),n=gy(En.prototype.request,s);return ne.extend(n,En.prototype,s,{allOwnKeys:!0}),ne.extend(n,s,null,{allOwnKeys:!0}),n.create=function(a){return Fy(Dn(e,a))},n}const nt=Fy(qo);nt.Axios=En;nt.CanceledError=Ko;nt.CancelToken=zN;nt.isCancel=Py;nt.VERSION=Oy;nt.toFormData=cc;nt.AxiosError=Ee;nt.Cancel=nt.CanceledError;nt.all=function(s){return Promise.all(s)};nt.spread=UN;nt.isAxiosError=$N;nt.mergeConfig=Dn;nt.AxiosHeaders=Wt;nt.formToJSON=e=>Ry(ne.isHTMLForm(e)?new FormData(e):e);nt.getAdapter=Ay.getAdapter;nt.HttpStatusCode=ch;nt.default=nt;const{Axios:MD,AxiosError:LD,CanceledError:AD,isCancel:OD,CancelToken:ID,VERSION:FD,all:BD,Cancel:HD,isAxiosError:zD,spread:UD,toFormData:$D,AxiosHeaders:WD,HttpStatusCode:qD,formToJSON:KD,getAdapter:VD,mergeConfig:GD}=nt,By="/api/v1",pe=nt.create({baseURL:By,headers:{"Content-Type":"application/json"}});pe.interceptors.request.use(e=>{const s=ms.getState().accessToken;return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e));pe.interceptors.response.use(e=>e,async e=>{const s=e.config;if(e.response?.status===401&&!s._retry){s._retry=!0;const n=ms.getState().refreshToken;if(n)try{const o=await nt.post(`${By}/auth/refresh`,{refresh_token:n}),{access_token:a,refresh_token:f}=o.data;return ms.getState().setTokens(a,f),s.headers&&(s.headers.Authorization=`Bearer ${a}`),pe(s)}catch(o){return ms.getState().logout(),window.location.href="/login",Promise.reject(o)}}return Promise.reject(e)});function ts(e,s="Unknown error"){const n=e?.response?.data?.detail;return typeof n=="string"?n:Array.isArray(n)?n.map(o=>o.msg||JSON.stringify(o)).join("; "):e?.response?.data?.error||e?.message||s}const yi={login:async(e,s)=>(await pe.post("/auth/login",{username:e,password:s})).data,logout:async()=>{await pe.post("/auth/logout")},me:async()=>(await pe.get("/auth/me")).data},yt={list:async()=>(await pe.get("/sessions")).data,get:async e=>(await pe.get(`/sessions/${e}`)).data,kill:async e=>(await pe.delete(`/sessions/${e}`)).data,shell:async(e,s,n=60)=>(await pe.post(`/sessions/${e}/shell`,{command:s,timeout:n})).data,processes:async e=>(await pe.get(`/sessions/${e}/processes`)).data,killProcess:async(e,s)=>(await pe.post(`/sessions/${e}/processes/${s}/kill`)).data,files:async(e,s)=>(await pe.get(`/sessions/${e}/files`,{params:{path:s}})).data,screenshot:async e=>(await pe.get(`/sessions/${e}/screenshot`,{responseType:"blob"})).data,upload:async(e,s,n)=>(await pe.post(`/sessions/${e}/files/upload?remote_path=${encodeURIComponent(s)}`,n,{headers:{"Content-Type":"application/octet-stream"}})).data,mkdir:async(e,s)=>(await pe.post(`/sessions/${e}/mkdir?path=${encodeURIComponent(s)}`)).data,deleteFile:async(e,s)=>(await pe.delete(`/sessions/${e}/files?path=${encodeURIComponent(s)}`)).data,download:async(e,s)=>(await pe.get(`/sessions/${e}/files/download?path=${encodeURIComponent(s)}`,{responseType:"blob"})).data,listPivots:async e=>(await pe.get(`/sessions/${e}/pivots`)).data,startSocks:async(e,s="127.0.0.1",n=1080)=>(await pe.post(`/sessions/${e}/socks`,{host:s,port:n})).data,stopSocks:async(e,s)=>(await pe.delete(`/sessions/${e}/socks/${s}`)).data,startPortfwd:async(e,s,n,o="127.0.0.1",a=0)=>(await pe.post(`/sessions/${e}/portfwd`,{remote_host:s,remote_port:n,local_host:o,local_port:a})).data,stopPortfwd:async(e,s)=>(await pe.delete(`/sessions/${e}/portfwd/${s}`)).data},or={list:async()=>(await pe.get("/beacons")).data,get:async e=>(await pe.get(`/beacons/${e}`)).data,kill:async e=>(await pe.delete(`/beacons/${e}`)).data,getTasks:async e=>(await pe.get(`/beacons/${e}/tasks`)).data,getTask:async(e,s)=>(await pe.get(`/beacons/${e}/tasks/${s}`)).data,queueShell:async(e,s)=>(await pe.post(`/beacons/${e}/tasks/shell`,{command:s})).data,queuePs:async e=>(await pe.post(`/beacons/${e}/tasks/ps`)).data,queueScreenshot:async e=>(await pe.post(`/beacons/${e}/tasks/screenshot`)).data,queueDownload:async(e,s)=>(await pe.post(`/beacons/${e}/tasks/download`,{remote_path:s})).data},gi={list:async()=>(await pe.get("/listeners")).data,startMtls:async(e,s)=>(await pe.post("/listeners/mtls",{host:e,port:s})).data,startHttps:async e=>(await pe.post("/listeners/https",e)).data,startHttp:async e=>(await pe.post("/listeners/http",e)).data,startDns:async e=>(await pe.post("/listeners/dns",e)).data,stop:async e=>(await pe.delete(`/listeners/${e}`)).data},uh={generate:async e=>(await pe.post("/implants/generate",e)).data,download:async e=>(await pe.get(`/implants/${e}/download`,{responseType:"blob"})).data,delete:async e=>(await pe.delete(`/implants/${e}`)).data},ks={getSessionNotes:async(e,s="session")=>(await pe.get(`/notes/sessions/${e}/notes`,{params:{session_type:s}})).data,createNote:async(e,s,n="session")=>(await pe.post(`/notes/sessions/${e}/notes`,{session_id:e,session_type:n,content:s})).data,updateNote:async(e,s)=>(await pe.put(`/notes/notes/${e}`,{content:s})).data,deleteNote:async e=>(await pe.delete(`/notes/notes/${e}`)).data,listTags:async()=>(await pe.get("/notes/tags")).data,createTag:async(e,s="#6366f1",n)=>(await pe.post("/notes/tags",{name:e,color:s,description:n})).data,deleteTag:async e=>(await pe.delete(`/notes/tags/${e}`)).data,getSessionTags:async(e,s="session")=>(await pe.get(`/notes/sessions/${e}/tags`,{params:{session_type:s}})).data,addTagToSession:async(e,s,n="session")=>(await pe.post(`/notes/sessions/${e}/tags/${s}`,{},{params:{session_type:n}})).data,removeTagFromSession:async(e,s,n="session")=>(await pe.delete(`/notes/sessions/${e}/tags/${s}`,{params:{session_type:n}})).data,getCommandHistory:async(e,s=100)=>(await pe.get(`/notes/sessions/${e}/history`,{params:{limit:s}})).data,saveCommand:async(e,s,n,o,a="session")=>(await pe.post(`/notes/sessions/${e}/history`,null,{params:{command:s,output:n,exit_code:o,session_type:a}})).data,exportSessionData:async e=>(await pe.get(`/notes/sessions/${e}/export`)).data},jd={list:async(e=!1,s)=>(await pe.get("/armory",{params:{installed_only:e,search:s}})).data,install:async e=>(await pe.post("/armory/install",{package_name:e})).data,uninstall:async e=>(await pe.post("/armory/uninstall",{package_name:e})).data},Sn={getStatus:async(e=1440,s=10)=>(await pe.get("/cleanup/status",{params:{stale_threshold_minutes:e,missed_checkins_threshold:s}})).data,bulkKillSessions:async e=>(await pe.post("/cleanup/sessions/bulk-kill",{ids:e})).data,bulkKillBeacons:async e=>(await pe.post("/cleanup/beacons/bulk-kill",{ids:e})).data,killAllSessions:async()=>(await pe.post("/cleanup/sessions/kill-all")).data,killAllBeacons:async()=>(await pe.post("/cleanup/beacons/kill-all")).data,killAllJobs:async()=>(await pe.post("/cleanup/jobs/kill-all")).data,killEverything:async()=>(await pe.post("/cleanup/kill-everything")).data},ui={list:async()=>(await pe.get("/users")).data,create:async e=>(await pe.post("/users",e)).data,update:async(e,s)=>(await pe.put(`/users/${e}`,s)).data,delete:async e=>(await pe.delete(`/users/${e}`)).data,roles:async()=>(await pe.get("/users/roles")).data},vt={extractCookies:async e=>(await pe.post("/browser-ops/extract-cookies",e)).data,getCookies:async e=>(await pe.get("/browser-ops/cookies",{params:e})).data,exportCookies:async e=>(await pe.post("/browser-ops/cookies/export",e)).data,deleteCookies:async e=>(await pe.delete("/browser-ops/cookies",{params:{session_id:e}})).data,startProxy:async e=>(await pe.post("/browser-ops/start-proxy",e)).data,stopProxy:async e=>(await pe.post("/browser-ops/stop-proxy",e)).data,startCDP:async e=>(await pe.post("/browser-ops/start-cdp",e)).data,stopCDP:async e=>(await pe.post("/browser-ops/stop-cdp",e)).data,downloadProfile:async e=>(await pe.post("/browser-ops/download-profile",e)).data,getBrowserInfo:async e=>(await pe.get(`/browser-ops/browser-info/${e}`)).data,injectCookies:async e=>(await pe.post("/browser-ops/inject-cookies",e)).data,getCDPTargets:async(e="127.0.0.1",s=9222)=>(await pe.get("/browser-ops/cdp-targets",{params:{host:e,port:s}})).data,startAutomation:async e=>(await pe.post("/browser-ops/automation/start",e)).data,automationNavigate:async e=>(await pe.post("/browser-ops/automation/navigate",e)).data,automationScreenshot:async e=>(await pe.post("/browser-ops/automation/screenshot",e)).data,automationExecuteJS:async e=>(await pe.post("/browser-ops/automation/execute-js",e)).data,automationCookies:async e=>(await pe.post("/browser-ops/automation/cookies",{automation_id:e})).data,stopAutomation:async e=>(await pe.post("/browser-ops/automation/stop",{automation_id:e})).data,getProfileZipUrl:(e,s)=>`${pe.defaults.baseURL}/browser-ops/profile-zip/${e}/${s}`},WN=[{path:"/dashboard",icon:Yx,label:"Dashboard",desc:"System overview"},{path:"/sessions",icon:Mt,label:"Sessions",desc:"Live connections"},{path:"/beacons",icon:dr,label:"Beacons",desc:"Scheduled callbacks"},{path:"/implants",icon:Us,label:"Implants",desc:"Generate payloads"},{path:"/listeners",icon:Jr,label:"Listeners",desc:"Receive connections"},{path:"/armory",icon:I2,label:"Tools",desc:"Extensions & utilities"},{path:"/browser-ops",icon:Tn,label:"Browser Ops",desc:"Cookie & session hijack"},{path:"/cleanup",icon:ht,label:"Cleanup",desc:"Manage connections"},{path:"/settings",icon:Fh,label:"Settings",desc:"Preferences"}];function kd({count:e,variant:s="default"}){if(e===0)return null;const n={default:"bg-primary text-primary-foreground",warning:"bg-yellow-500 text-white",danger:"bg-red-500 text-white"};return r.jsx("span",{className:ce("ml-auto px-1.5 py-0.5 text-xs font-medium rounded-full min-w-[20px] text-center",n[s]),children:e>99?"99+":e})}function qN(){const[e,s]=R.useState(!0),[n,o]=R.useState(!1),{user:a,logout:f}=ms(),y=Fo(),{isConnected:l}=zj(),{showTour:d,completeTour:m,skipTour:v,restartTour:h}=nk(),{showHelp:w,setShowHelp:S,pendingKey:k}=hk(),{data:b}=Je({queryKey:["sessions"],queryFn:yt.list,refetchInterval:3e4}),{data:u}=Je({queryKey:["beacons"],queryFn:or.list,refetchInterval:3e4}),{data:x}=Je({queryKey:["cleanup-status"],queryFn:()=>Sn.getStatus(),refetchInterval:6e4}),p=b?.sessions?.length||0,g=u?.beacons?.length||0,C=(x?.stale_sessions?.length||0)+(x?.dead_beacons?.length||0),E=()=>{f(),y("/login")},P=a?.role==="admin",L=j=>{switch(j){case"/sessions":return r.jsx(kd,{count:p});case"/beacons":return r.jsx(kd,{count:g});case"/cleanup":return r.jsx(kd,{count:C,variant:C>0?"warning":"default"});default:return null}};return r.jsxs("div",{className:"flex h-screen bg-background",children:[d&&r.jsx(rk,{onComplete:m,onSkip:v}),n&&r.jsx(ak,{onClose:()=>o(!1)}),r.jsxs("aside",{className:ce("fixed inset-y-0 left-0 z-50 flex flex-col bg-card border-r transition-all duration-300",e?"w-64":"w-16"),children:[r.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b",children:[e&&r.jsxs("div",{children:[r.jsx("span",{className:"text-xl font-bold text-primary",children:"SliverUI"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Web GUI for Sliver C2"})]}),r.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>s(!e),children:e?r.jsx(Lt,{className:"h-5 w-5"}):r.jsx(D2,{className:"h-5 w-5"})})]}),r.jsxs("nav",{className:"flex-1 space-y-1 p-2 overflow-y-auto",children:[WN.map(j=>r.jsxs(Ng,{to:j.path,className:({isActive:A})=>ce("flex items-center gap-3 rounded-lg px-3 py-2.5 text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground group",A&&"bg-accent text-accent-foreground",!e&&"justify-center"),title:e?void 0:j.label,children:[r.jsx(j.icon,{className:"h-5 w-5 shrink-0"}),e&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:"block",children:j.label}),r.jsx("span",{className:"text-xs text-muted-foreground group-hover:text-muted-foreground/80",children:j.desc})]}),L(j.path)]}),!e&&L(j.path)]},j.path)),P&&r.jsxs(Ng,{to:"/admin",className:({isActive:j})=>ce("flex items-center gap-3 rounded-lg px-3 py-2.5 text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground",j&&"bg-accent text-accent-foreground",!e&&"justify-center"),title:e?void 0:"Admin",children:[r.jsx(Ns,{className:"h-5 w-5 shrink-0"}),e&&r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("span",{className:"block",children:"Admin"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:"System management"})]})]})]}),e&&r.jsxs("div",{className:"px-4 py-2 border-t space-y-2",children:[r.jsxs(Z,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>o(!0),"aria-label":"Open help center",children:[r.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Help Center"]}),r.jsxs(Z,{variant:"ghost",size:"sm",className:"w-full justify-start text-muted-foreground",onClick:()=>S(!0),"aria-label":"Show keyboard shortcuts",children:[r.jsx(Qx,{className:"h-4 w-4 mr-2"}),"Shortcuts",r.jsx("kbd",{className:"ml-auto px-1.5 py-0.5 bg-muted rounded text-xs",children:"?"})]}),r.jsxs(Z,{variant:"ghost",size:"sm",className:"w-full justify-start text-muted-foreground",onClick:h,"aria-label":"Restart tutorial",children:[r.jsx(F2,{className:"h-4 w-4 mr-2"}),"Tutorial"]})]}),r.jsx("div",{className:"px-4 py-3 border-t",children:r.jsxs("div",{className:ce("flex items-center gap-3",!e&&"justify-center"),children:[r.jsxs("div",{className:ce("flex items-center gap-2",l?"text-green-500":"text-red-500"),title:l?"Connected to server":"Disconnected from server",children:[l?r.jsx(ry,{className:"h-4 w-4"}):r.jsx(Q2,{className:"h-4 w-4 animate-pulse"}),e&&r.jsx("span",{className:"text-xs",children:l?"Connected":"Disconnected"})]}),e&&r.jsxs("div",{className:"flex-1 flex items-center justify-end gap-1",children:[r.jsx(uk,{}),r.jsx(Zj,{variant:"icon"})]})]})}),r.jsx("div",{className:"border-t p-4",children:r.jsxs("div",{className:ce("flex items-center gap-3",!e&&"justify-center"),children:[r.jsx("div",{className:"h-9 w-9 rounded-full bg-primary/20 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium",children:a?.username?.charAt(0).toUpperCase()})}),e&&r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:a?.username}),r.jsx("p",{className:"text-xs text-muted-foreground truncate capitalize",children:a?.role})]}),r.jsx(Z,{variant:"ghost",size:"icon",onClick:E,title:"Logout","aria-label":"Logout from SliverUI",children:r.jsx(T2,{className:"h-4 w-4"})})]})})]}),r.jsxs("main",{className:ce("flex-1 overflow-auto transition-all duration-300",e?"ml-64":"ml-16"),children:[r.jsx("div",{className:"h-full p-6",children:r.jsx(xx,{})}),r.jsx(sk,{}),!e&&r.jsx(lk,{onClick:()=>o(!0)})]}),r.jsx(fk,{open:w,onClose:()=>S(!1)}),r.jsx(mk,{pendingKey:k})]})}function KN(){return ms(s=>s.isAuthenticated)?r.jsx(Ll,{to:"/dashboard",replace:!0}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsx("div",{className:"w-full max-w-md p-8",children:r.jsx(xx,{})})})}function VN(){const[e,s]=R.useState(""),[n,o]=R.useState(""),[a,f]=R.useState(!1),y=Fo(),{login:l,setTokens:d}=ms(),{toast:m}=Ve(),v=async h=>{h.preventDefault(),f(!0);try{const w=await yi.login(e,n);d(w.access_token,w.refresh_token);const S=await yi.me();l(w.access_token,w.refresh_token,S),m({title:"Login successful",description:`Welcome back, ${S.username}!`}),y("/dashboard")}catch(w){m({variant:"destructive",title:"Login failed",description:w.response?.data?.detail||"Invalid credentials"})}finally{f(!1)}};return r.jsxs(Oe,{className:"w-full",children:[r.jsxs(Fe,{className:"space-y-1",children:[r.jsx(Be,{className:"text-2xl font-bold text-center",children:"SliverUI"}),r.jsx(fs,{className:"text-center",children:"Enter your credentials to access the dashboard"})]}),r.jsx(Ie,{children:r.jsxs("form",{onSubmit:v,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"username",className:"text-sm font-medium",children:"Username"}),r.jsx(Pe,{id:"username",type:"text",placeholder:"Enter username",value:e,onChange:h=>s(h.target.value),required:!0,disabled:a})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),r.jsx(Pe,{id:"password",type:"password",placeholder:"Enter password",value:n,onChange:h=>o(h.target.value),required:!0,disabled:a})]}),r.jsx(Z,{type:"submit",className:"w-full",disabled:a,children:a?r.jsxs(r.Fragment,{children:[r.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Logging in..."]}):"Login"})]})})]})}function hl({title:e,value:s,icon:n,description:o}){return r.jsxs(Oe,{children:[r.jsxs(Fe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Be,{className:"text-sm font-medium",children:e}),r.jsx(n,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsxs(Ie,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s}),o&&r.jsx("p",{className:"text-xs text-muted-foreground",children:o})]})]})}function GN(){const{data:e,isLoading:s,refetch:n}=Je({queryKey:["sessions"],queryFn:yt.list,refetchInterval:1e4}),{data:o,isLoading:a,refetch:f}=Je({queryKey:["beacons"],queryFn:or.list,refetchInterval:1e4}),{data:y,isLoading:l,refetch:d}=Je({queryKey:["listeners"],queryFn:gi.list,refetchInterval:3e4}),m=e?.sessions||[],v=o?.beacons||[],h=y?.listeners||[],w=()=>{n(),f(),d()};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:w,children:[r.jsx(vs,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(hl,{title:"Active Sessions",value:s?"...":m.length,icon:Mt,description:"Interactive sessions"}),r.jsx(hl,{title:"Active Beacons",value:a?"...":v.length,icon:dr,description:"Beacon callbacks"}),r.jsx(hl,{title:"Listeners",value:l?"...":h.length,icon:Jr,description:"Running listeners"}),r.jsx(hl,{title:"Total Implants",value:m.length+v.length,icon:Vx,description:"All active implants"})]}),r.jsxs(Oe,{children:[r.jsx(Fe,{children:r.jsx(Be,{children:"Recent Sessions"})}),r.jsx(Ie,{children:s?r.jsx("p",{className:"text-muted-foreground",children:"Loading..."}):m.length===0?r.jsx("p",{className:"text-muted-foreground",children:"No active sessions"}):r.jsx("div",{className:"space-y-4",children:m.slice(0,5).map(S=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:S.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.username,"@",S.hostname]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm",children:[S.os," / ",S.arch]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:S.last_checkin?cr(S.last_checkin):"Active"})]})]},S.id))})})]}),r.jsxs(Oe,{children:[r.jsx(Fe,{children:r.jsx(Be,{children:"Recent Beacons"})}),r.jsx(Ie,{children:a?r.jsx("p",{className:"text-muted-foreground",children:"Loading..."}):v.length===0?r.jsx("p",{className:"text-muted-foreground",children:"No active beacons"}):r.jsx("div",{className:"space-y-4",children:v.slice(0,5).map(S=>r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:S.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.username,"@",S.hostname]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm",children:["Interval: ",S.interval,"s (+",S.jitter,"%)"]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:S.last_checkin?cr(S.last_checkin):"Pending"})]})]},S.id))})})]}),r.jsxs(Oe,{children:[r.jsx(Fe,{children:r.jsx(Be,{children:"Active Listeners"})}),r.jsx(Ie,{children:l?r.jsx("p",{className:"text-muted-foreground",children:"Loading..."}):h.length===0?r.jsx("p",{className:"text-muted-foreground",children:"No active listeners"}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:h.map(S=>r.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 border",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Jr,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{className:"font-medium uppercase",children:S.protocol})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.host,":",S.port]})]},S.id))})})]})]})}var Nd={exports:{}},gv;function QN(){return gv||(gv=1,(function(e,s){(function(n,o){e.exports=o()})(self,(()=>(()=>{var n={4567:function(y,l,d){var m=this&&this.__decorate||function(g,C,E,P){var L,j=arguments.length,A=j<3?C:P===null?P=Object.getOwnPropertyDescriptor(C,E):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,C,E,P);else for(var z=g.length-1;z>=0;z--)(L=g[z])&&(A=(j<3?L(A):j>3?L(C,E,A):L(C,E))||A);return j>3&&A&&Object.defineProperty(C,E,A),A},v=this&&this.__param||function(g,C){return function(E,P){C(E,P,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.AccessibilityManager=void 0;const h=d(9042),w=d(6114),S=d(9924),k=d(844),b=d(5596),u=d(4725),x=d(3656);let p=l.AccessibilityManager=class extends k.Disposable{constructor(g,C){super(),this._terminal=g,this._renderService=C,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let E=0;E<this._terminal.rows;E++)this._rowElements[E]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[E]);if(this._topBoundaryFocusListener=E=>this._handleBoundaryFocus(E,0),this._bottomBoundaryFocusListener=E=>this._handleBoundaryFocus(E,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new S.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((E=>this._handleResize(E.rows)))),this.register(this._terminal.onRender((E=>this._refreshRows(E.start,E.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((E=>this._handleChar(E)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((E=>this._handleTab(E)))),this.register(this._terminal.onKey((E=>this._handleKey(E.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this._screenDprMonitor=new b.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener((()=>this._refreshRowsDimensions())),this.register((0,x.addDisposableDomListener)(window,"resize",(()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,k.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(g){for(let C=0;C<g;C++)this._handleChar(" ")}_handleChar(g){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==g&&(this._charsToAnnounce+=g):this._charsToAnnounce+=g,g===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=h.tooMuchOutput)),w.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((()=>{this._accessibilityContainer.appendChild(this._liveRegion)}),0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,w.isMac&&this._liveRegion.remove()}_handleKey(g){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(g)||this._charsToConsume.push(g)}_refreshRows(g,C){this._liveRegionDebouncer.refresh(g,C,this._terminal.rows)}_renderRows(g,C){const E=this._terminal.buffer,P=E.lines.length.toString();for(let L=g;L<=C;L++){const j=E.translateBufferLineToString(E.ydisp+L,!0),A=(E.ydisp+L+1).toString(),z=this._rowElements[L];z&&(j.length===0?z.innerText="":z.textContent=j,z.setAttribute("aria-posinset",A),z.setAttribute("aria-setsize",P))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(g,C){const E=g.target,P=this._rowElements[C===0?1:this._rowElements.length-2];if(E.getAttribute("aria-posinset")===(C===0?"1":`${this._terminal.buffer.lines.length}`)||g.relatedTarget!==P)return;let L,j;if(C===0?(L=E,j=this._rowElements.pop(),this._rowContainer.removeChild(j)):(L=this._rowElements.shift(),j=E,this._rowContainer.removeChild(L)),L.removeEventListener("focus",this._topBoundaryFocusListener),j.removeEventListener("focus",this._bottomBoundaryFocusListener),C===0){const A=this._createAccessibilityTreeNode();this._rowElements.unshift(A),this._rowContainer.insertAdjacentElement("afterbegin",A)}else{const A=this._createAccessibilityTreeNode();this._rowElements.push(A),this._rowContainer.appendChild(A)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(C===0?-1:1),this._rowElements[C===0?1:this._rowElements.length-2].focus(),g.preventDefault(),g.stopImmediatePropagation()}_handleResize(g){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let C=this._rowContainer.children.length;C<this._terminal.rows;C++)this._rowElements[C]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[C]);for(;this._rowElements.length>g;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const g=document.createElement("div");return g.setAttribute("role","listitem"),g.tabIndex=-1,this._refreshRowDimensions(g),g}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let g=0;g<this._terminal.rows;g++)this._refreshRowDimensions(this._rowElements[g])}}_refreshRowDimensions(g){g.style.height=`${this._renderService.dimensions.css.cell.height}px`}};l.AccessibilityManager=p=m([v(1,u.IRenderService)],p)},3614:(y,l)=>{function d(w){return w.replace(/\r?\n/g,"\r")}function m(w,S){return S?"\x1B[200~"+w+"\x1B[201~":w}function v(w,S,k,b){w=m(w=d(w),k.decPrivateModes.bracketedPasteMode&&b.rawOptions.ignoreBracketedPasteMode!==!0),k.triggerDataEvent(w,!0),S.value=""}function h(w,S,k){const b=k.getBoundingClientRect(),u=w.clientX-b.left-10,x=w.clientY-b.top-10;S.style.width="20px",S.style.height="20px",S.style.left=`${u}px`,S.style.top=`${x}px`,S.style.zIndex="1000",S.focus()}Object.defineProperty(l,"__esModule",{value:!0}),l.rightClickHandler=l.moveTextAreaUnderMouseCursor=l.paste=l.handlePasteEvent=l.copyHandler=l.bracketTextForPaste=l.prepareTextForTerminal=void 0,l.prepareTextForTerminal=d,l.bracketTextForPaste=m,l.copyHandler=function(w,S){w.clipboardData&&w.clipboardData.setData("text/plain",S.selectionText),w.preventDefault()},l.handlePasteEvent=function(w,S,k,b){w.stopPropagation(),w.clipboardData&&v(w.clipboardData.getData("text/plain"),S,k,b)},l.paste=v,l.moveTextAreaUnderMouseCursor=h,l.rightClickHandler=function(w,S,k,b,u){h(w,S,k),u&&b.rightClickSelect(w),S.value=b.selectionText,S.select()}},7239:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorContrastCache=void 0;const m=d(1505);l.ColorContrastCache=class{constructor(){this._color=new m.TwoKeyMap,this._css=new m.TwoKeyMap}setCss(v,h,w){this._css.set(v,h,w)}getCss(v,h){return this._css.get(v,h)}setColor(v,h,w){this._color.set(v,h,w)}getColor(v,h){return this._color.get(v,h)}clear(){this._color.clear(),this._css.clear()}}},3656:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.addDisposableDomListener=void 0,l.addDisposableDomListener=function(d,m,v,h){d.addEventListener(m,v,h);let w=!1;return{dispose:()=>{w||(w=!0,d.removeEventListener(m,v,h))}}}},6465:function(y,l,d){var m=this&&this.__decorate||function(u,x,p,g){var C,E=arguments.length,P=E<3?x:g===null?g=Object.getOwnPropertyDescriptor(x,p):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(u,x,p,g);else for(var L=u.length-1;L>=0;L--)(C=u[L])&&(P=(E<3?C(P):E>3?C(x,p,P):C(x,p))||P);return E>3&&P&&Object.defineProperty(x,p,P),P},v=this&&this.__param||function(u,x){return function(p,g){x(p,g,u)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Linkifier2=void 0;const h=d(3656),w=d(8460),S=d(844),k=d(2585);let b=l.Linkifier2=class extends S.Disposable{get currentLink(){return this._currentLink}constructor(u){super(),this._bufferService=u,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new w.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new w.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,S.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,S.toDisposable)((()=>{this._lastMouseEvent=void 0}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0})))}registerLinkProvider(u){return this._linkProviders.push(u),{dispose:()=>{const x=this._linkProviders.indexOf(u);x!==-1&&this._linkProviders.splice(x,1)}}}attachToDom(u,x,p){this._element=u,this._mouseService=x,this._renderService=p,this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(u){if(this._lastMouseEvent=u,!this._element||!this._mouseService)return;const x=this._positionFromMouseEvent(u,this._element,this._mouseService);if(!x)return;this._isMouseOut=!1;const p=u.composedPath();for(let g=0;g<p.length;g++){const C=p[g];if(C.classList.contains("xterm"))break;if(C.classList.contains("xterm-hover"))return}this._lastBufferCell&&x.x===this._lastBufferCell.x&&x.y===this._lastBufferCell.y||(this._handleHover(x),this._lastBufferCell=x)}_handleHover(u){if(this._activeLine!==u.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(u,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,u)||(this._clearCurrentLink(),this._askForLink(u,!0))}_askForLink(u,x){var p,g;this._activeProviderReplies&&x||((p=this._activeProviderReplies)===null||p===void 0||p.forEach((E=>{E?.forEach((P=>{P.link.dispose&&P.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=u.y);let C=!1;for(const[E,P]of this._linkProviders.entries())x?!((g=this._activeProviderReplies)===null||g===void 0)&&g.get(E)&&(C=this._checkLinkProviderResult(E,u,C)):P.provideLinks(u.y,(L=>{var j,A;if(this._isMouseOut)return;const z=L?.map(($=>({link:$})));(j=this._activeProviderReplies)===null||j===void 0||j.set(E,z),C=this._checkLinkProviderResult(E,u,C),((A=this._activeProviderReplies)===null||A===void 0?void 0:A.size)===this._linkProviders.length&&this._removeIntersectingLinks(u.y,this._activeProviderReplies)}))}_removeIntersectingLinks(u,x){const p=new Set;for(let g=0;g<x.size;g++){const C=x.get(g);if(C)for(let E=0;E<C.length;E++){const P=C[E],L=P.link.range.start.y<u?0:P.link.range.start.x,j=P.link.range.end.y>u?this._bufferService.cols:P.link.range.end.x;for(let A=L;A<=j;A++){if(p.has(A)){C.splice(E--,1);break}p.add(A)}}}}_checkLinkProviderResult(u,x,p){var g;if(!this._activeProviderReplies)return p;const C=this._activeProviderReplies.get(u);let E=!1;for(let P=0;P<u;P++)this._activeProviderReplies.has(P)&&!this._activeProviderReplies.get(P)||(E=!0);if(!E&&C){const P=C.find((L=>this._linkAtPosition(L.link,x)));P&&(p=!0,this._handleNewLink(P))}if(this._activeProviderReplies.size===this._linkProviders.length&&!p)for(let P=0;P<this._activeProviderReplies.size;P++){const L=(g=this._activeProviderReplies.get(P))===null||g===void 0?void 0:g.find((j=>this._linkAtPosition(j.link,x)));if(L){p=!0,this._handleNewLink(L);break}}return p}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(u){if(!this._element||!this._mouseService||!this._currentLink)return;const x=this._positionFromMouseEvent(u,this._element,this._mouseService);x&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,x)&&this._currentLink.link.activate(u,this._currentLink.link.text)}_clearCurrentLink(u,x){this._element&&this._currentLink&&this._lastMouseEvent&&(!u||!x||this._currentLink.link.range.start.y>=u&&this._currentLink.link.range.end.y<=x)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,S.disposeArray)(this._linkCacheDisposables))}_handleNewLink(u){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const x=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);x&&this._linkAtPosition(u.link,x)&&(this._currentLink=u,this._currentLink.state={decorations:{underline:u.link.decorations===void 0||u.link.decorations.underline,pointerCursor:u.link.decorations===void 0||u.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,u.link,this._lastMouseEvent),u.link.decorations={},Object.defineProperties(u.link.decorations,{pointerCursor:{get:()=>{var p,g;return(g=(p=this._currentLink)===null||p===void 0?void 0:p.state)===null||g===void 0?void 0:g.decorations.pointerCursor},set:p=>{var g,C;!((g=this._currentLink)===null||g===void 0)&&g.state&&this._currentLink.state.decorations.pointerCursor!==p&&(this._currentLink.state.decorations.pointerCursor=p,this._currentLink.state.isHovered&&((C=this._element)===null||C===void 0||C.classList.toggle("xterm-cursor-pointer",p)))}},underline:{get:()=>{var p,g;return(g=(p=this._currentLink)===null||p===void 0?void 0:p.state)===null||g===void 0?void 0:g.decorations.underline},set:p=>{var g,C,E;!((g=this._currentLink)===null||g===void 0)&&g.state&&((E=(C=this._currentLink)===null||C===void 0?void 0:C.state)===null||E===void 0?void 0:E.decorations.underline)!==p&&(this._currentLink.state.decorations.underline=p,this._currentLink.state.isHovered&&this._fireUnderlineEvent(u.link,p))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((p=>{if(!this._currentLink)return;const g=p.start===0?0:p.start+1+this._bufferService.buffer.ydisp,C=this._bufferService.buffer.ydisp+1+p.end;if(this._currentLink.link.range.start.y>=g&&this._currentLink.link.range.end.y<=C&&(this._clearCurrentLink(g,C),this._lastMouseEvent&&this._element)){const E=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);E&&this._askForLink(E,!1)}}))))}_linkHover(u,x,p){var g;!((g=this._currentLink)===null||g===void 0)&&g.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(x,!0),this._currentLink.state.decorations.pointerCursor&&u.classList.add("xterm-cursor-pointer")),x.hover&&x.hover(p,x.text)}_fireUnderlineEvent(u,x){const p=u.range,g=this._bufferService.buffer.ydisp,C=this._createLinkUnderlineEvent(p.start.x-1,p.start.y-g-1,p.end.x,p.end.y-g-1,void 0);(x?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(C)}_linkLeave(u,x,p){var g;!((g=this._currentLink)===null||g===void 0)&&g.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(x,!1),this._currentLink.state.decorations.pointerCursor&&u.classList.remove("xterm-cursor-pointer")),x.leave&&x.leave(p,x.text)}_linkAtPosition(u,x){const p=u.range.start.y*this._bufferService.cols+u.range.start.x,g=u.range.end.y*this._bufferService.cols+u.range.end.x,C=x.y*this._bufferService.cols+x.x;return p<=C&&C<=g}_positionFromMouseEvent(u,x,p){const g=p.getCoords(u,x,this._bufferService.cols,this._bufferService.rows);if(g)return{x:g[0],y:g[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(u,x,p,g,C){return{x1:u,y1:x,x2:p,y2:g,cols:this._bufferService.cols,fg:C}}};l.Linkifier2=b=m([v(0,k.IBufferService)],b)},9042:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.tooMuchOutput=l.promptLabel=void 0,l.promptLabel="Terminal input",l.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(y,l,d){var m=this&&this.__decorate||function(b,u,x,p){var g,C=arguments.length,E=C<3?u:p===null?p=Object.getOwnPropertyDescriptor(u,x):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(b,u,x,p);else for(var P=b.length-1;P>=0;P--)(g=b[P])&&(E=(C<3?g(E):C>3?g(u,x,E):g(u,x))||E);return C>3&&E&&Object.defineProperty(u,x,E),E},v=this&&this.__param||function(b,u){return function(x,p){u(x,p,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkProvider=void 0;const h=d(511),w=d(2585);let S=l.OscLinkProvider=class{constructor(b,u,x){this._bufferService=b,this._optionsService=u,this._oscLinkService=x}provideLinks(b,u){var x;const p=this._bufferService.buffer.lines.get(b-1);if(!p)return void u(void 0);const g=[],C=this._optionsService.rawOptions.linkHandler,E=new h.CellData,P=p.getTrimmedLength();let L=-1,j=-1,A=!1;for(let z=0;z<P;z++)if(j!==-1||p.hasContent(z)){if(p.loadCell(z,E),E.hasExtendedAttrs()&&E.extended.urlId){if(j===-1){j=z,L=E.extended.urlId;continue}A=E.extended.urlId!==L}else j!==-1&&(A=!0);if(A||j!==-1&&z===P-1){const $=(x=this._oscLinkService.getLinkData(L))===null||x===void 0?void 0:x.uri;if($){const U={start:{x:j+1,y:b},end:{x:z+(A||z!==P-1?0:1),y:b}};let I=!1;if(!C?.allowNonHttpProtocols)try{const W=new URL($);["http:","https:"].includes(W.protocol)||(I=!0)}catch{I=!0}I||g.push({text:$,range:U,activate:(W,J)=>C?C.activate(W,J,U):k(0,J),hover:(W,J)=>{var V;return(V=C?.hover)===null||V===void 0?void 0:V.call(C,W,J,U)},leave:(W,J)=>{var V;return(V=C?.leave)===null||V===void 0?void 0:V.call(C,W,J,U)}})}A=!1,E.hasExtendedAttrs()&&E.extended.urlId?(j=z,L=E.extended.urlId):(j=-1,L=-1)}}u(g)}};function k(b,u){if(confirm(`Do you want to navigate to ${u}?

WARNING: This link could potentially be dangerous`)){const x=window.open();if(x){try{x.opener=null}catch{}x.location.href=u}else console.warn("Opening link blocked as opener could not be cleared")}}l.OscLinkProvider=S=m([v(0,w.IBufferService),v(1,w.IOptionsService),v(2,w.IOscLinkService)],S)},6193:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.RenderDebouncer=void 0,l.RenderDebouncer=class{constructor(d,m){this._parentWindow=d,this._renderCallback=m,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(d){return this._refreshCallbacks.push(d),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(d,m,v){this._rowCount=v,d=d!==void 0?d:0,m=m!==void 0?m:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,d):d,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,m):m,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const d=Math.max(this._rowStart,0),m=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(d,m),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const d of this._refreshCallbacks)d(0);this._refreshCallbacks=[]}}},5596:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ScreenDprMonitor=void 0;const m=d(844);class v extends m.Disposable{constructor(w){super(),this._parentWindow=w,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,m.toDisposable)((()=>{this.clearListener()})))}setListener(w){this._listener&&this.clearListener(),this._listener=w,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var w;this._outerListener&&((w=this._resolutionMediaMatchList)===null||w===void 0||w.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}l.ScreenDprMonitor=v},3236:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const m=d(3614),v=d(3656),h=d(6465),w=d(9042),S=d(3730),k=d(1680),b=d(3107),u=d(5744),x=d(2950),p=d(1296),g=d(428),C=d(4269),E=d(5114),P=d(8934),L=d(3230),j=d(9312),A=d(4725),z=d(6731),$=d(8055),U=d(8969),I=d(8460),W=d(844),J=d(6114),V=d(8437),G=d(2584),D=d(7399),M=d(5941),H=d(9074),O=d(2585),K=d(5435),re=d(4567),ae=typeof window<"u"?window.document:null;class he extends U.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(B={}){super(B),this.browser=J,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new W.MutableDisposable),this._onCursorMove=this.register(new I.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new I.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new I.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new I.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new I.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new I.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new I.EventEmitter),this._onBlur=this.register(new I.EventEmitter),this._onA11yCharEmitter=this.register(new I.EventEmitter),this._onA11yTabEmitter=this.register(new I.EventEmitter),this._onWillOpen=this.register(new I.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(h.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(S.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(H.DecorationService),this._instantiationService.setService(O.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((X,ie)=>this.refresh(X,ie)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((X=>this._reportWindowsOptions(X)))),this.register(this._inputHandler.onColor((X=>this._handleColorEvent(X)))),this.register((0,I.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,I.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,I.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,I.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((X=>this._afterResize(X.cols,X.rows)))),this.register((0,W.toDisposable)((()=>{var X,ie;this._customKeyEventHandler=void 0,(ie=(X=this.element)===null||X===void 0?void 0:X.parentNode)===null||ie===void 0||ie.removeChild(this.element)})))}_handleColorEvent(B){if(this._themeService)for(const X of B){let ie,oe="";switch(X.index){case 256:ie="foreground",oe="10";break;case 257:ie="background",oe="11";break;case 258:ie="cursor",oe="12";break;default:ie="ansi",oe="4;"+X.index}switch(X.type){case 0:const Ne=$.color.toColorRGB(ie==="ansi"?this._themeService.colors.ansi[X.index]:this._themeService.colors[ie]);this.coreService.triggerDataEvent(`${G.C0.ESC}]${oe};${(0,M.toRgbString)(Ne)}${G.C1_ESCAPED.ST}`);break;case 1:if(ie==="ansi")this._themeService.modifyColors((ge=>ge.ansi[X.index]=$.rgba.toColor(...X.color)));else{const ge=ie;this._themeService.modifyColors((Le=>Le[ge]=$.rgba.toColor(...X.color)))}break;case 2:this._themeService.restoreColor(X.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(B){B?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(re.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(B){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(G.C0.ESC+"[I"),this.updateCursorStyle(B),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var B;return(B=this.textarea)===null||B===void 0?void 0:B.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(G.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const B=this.buffer.ybase+this.buffer.y,X=this.buffer.lines.get(B);if(!X)return;const ie=Math.min(this.buffer.x,this.cols-1),oe=this._renderService.dimensions.css.cell.height,Ne=X.getWidth(ie),ge=this._renderService.dimensions.css.cell.width*Ne,Le=this.buffer.y*this._renderService.dimensions.css.cell.height,it=ie*this._renderService.dimensions.css.cell.width;this.textarea.style.left=it+"px",this.textarea.style.top=Le+"px",this.textarea.style.width=ge+"px",this.textarea.style.height=oe+"px",this.textarea.style.lineHeight=oe+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,v.addDisposableDomListener)(this.element,"copy",(X=>{this.hasSelection()&&(0,m.copyHandler)(X,this._selectionService)})));const B=X=>(0,m.handlePasteEvent)(X,this.textarea,this.coreService,this.optionsService);this.register((0,v.addDisposableDomListener)(this.textarea,"paste",B)),this.register((0,v.addDisposableDomListener)(this.element,"paste",B)),J.isFirefox?this.register((0,v.addDisposableDomListener)(this.element,"mousedown",(X=>{X.button===2&&(0,m.rightClickHandler)(X,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,v.addDisposableDomListener)(this.element,"contextmenu",(X=>{(0,m.rightClickHandler)(X,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),J.isLinux&&this.register((0,v.addDisposableDomListener)(this.element,"auxclick",(X=>{X.button===1&&(0,m.moveTextAreaUnderMouseCursor)(X,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,v.addDisposableDomListener)(this.textarea,"keyup",(B=>this._keyUp(B)),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keydown",(B=>this._keyDown(B)),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keypress",(B=>this._keyPress(B)),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionupdate",(B=>this._compositionHelper.compositionupdate(B)))),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,v.addDisposableDomListener)(this.textarea,"input",(B=>this._inputEvent(B)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(B){var X;if(!B)throw new Error("Terminal requires a parent element.");B.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=B.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),B.appendChild(this.element);const ie=ae.createDocumentFragment();this._viewportElement=ae.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),ie.appendChild(this._viewportElement),this._viewportScrollArea=ae.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=ae.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=ae.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),ie.appendChild(this.screenElement),this.textarea=ae.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",w.promptLabel),J.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(E.CoreBrowserService,this.textarea,(X=this._document.defaultView)!==null&&X!==void 0?X:window),this._instantiationService.setService(A.ICoreBrowserService,this._coreBrowserService),this.register((0,v.addDisposableDomListener)(this.textarea,"focus",(oe=>this._handleTextAreaFocus(oe)))),this.register((0,v.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(g.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(A.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(z.ThemeService),this._instantiationService.setService(A.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(C.CharacterJoinerService),this._instantiationService.setService(A.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(L.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(A.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((oe=>this._onRender.fire(oe)))),this.onResize((oe=>this._renderService.resize(oe.cols,oe.rows))),this._compositionView=ae.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(x.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(ie);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(P.MouseService),this._instantiationService.setService(A.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(k.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((oe=>this.scrollLines(oe.amount,oe.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(j.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(A.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((oe=>this.scrollLines(oe.amount,oe.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((oe=>this._renderService.handleSelectionChanged(oe.start,oe.end,oe.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((oe=>{this.textarea.value=oe,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((oe=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,v.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(b.BufferDecorationRenderer,this.screenElement)),this.register((0,v.addDisposableDomListener)(this.element,"mousedown",(oe=>this._selectionService.handleMouseDown(oe)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(re.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(oe=>this._handleScreenReaderModeOptionChange(oe)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(oe=>{!this._overviewRulerRenderer&&oe&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(p.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const B=this,X=this.element;function ie(ge){const Le=B._mouseService.getMouseReportCoords(ge,B.screenElement);if(!Le)return!1;let it,_t;switch(ge.overrideType||ge.type){case"mousemove":_t=32,ge.buttons===void 0?(it=3,ge.button!==void 0&&(it=ge.button<3?ge.button:3)):it=1&ge.buttons?0:4&ge.buttons?1:2&ge.buttons?2:3;break;case"mouseup":_t=0,it=ge.button<3?ge.button:3;break;case"mousedown":_t=1,it=ge.button<3?ge.button:3;break;case"wheel":if(B.viewport.getLinesScrolled(ge)===0)return!1;_t=ge.deltaY<0?0:1,it=4;break;default:return!1}return!(_t===void 0||it===void 0||it>4)&&B.coreMouseService.triggerMouseEvent({col:Le.col,row:Le.row,x:Le.x,y:Le.y,button:it,action:_t,ctrl:ge.ctrlKey,alt:ge.altKey,shift:ge.shiftKey})}const oe={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Ne={mouseup:ge=>(ie(ge),ge.buttons||(this._document.removeEventListener("mouseup",oe.mouseup),oe.mousedrag&&this._document.removeEventListener("mousemove",oe.mousedrag)),this.cancel(ge)),wheel:ge=>(ie(ge),this.cancel(ge,!0)),mousedrag:ge=>{ge.buttons&&ie(ge)},mousemove:ge=>{ge.buttons||ie(ge)}};this.register(this.coreMouseService.onProtocolChange((ge=>{ge?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(ge)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&ge?oe.mousemove||(X.addEventListener("mousemove",Ne.mousemove),oe.mousemove=Ne.mousemove):(X.removeEventListener("mousemove",oe.mousemove),oe.mousemove=null),16&ge?oe.wheel||(X.addEventListener("wheel",Ne.wheel,{passive:!1}),oe.wheel=Ne.wheel):(X.removeEventListener("wheel",oe.wheel),oe.wheel=null),2&ge?oe.mouseup||(X.addEventListener("mouseup",Ne.mouseup),oe.mouseup=Ne.mouseup):(this._document.removeEventListener("mouseup",oe.mouseup),X.removeEventListener("mouseup",oe.mouseup),oe.mouseup=null),4&ge?oe.mousedrag||(oe.mousedrag=Ne.mousedrag):(this._document.removeEventListener("mousemove",oe.mousedrag),oe.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,v.addDisposableDomListener)(X,"mousedown",(ge=>{if(ge.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(ge))return ie(ge),oe.mouseup&&this._document.addEventListener("mouseup",oe.mouseup),oe.mousedrag&&this._document.addEventListener("mousemove",oe.mousedrag),this.cancel(ge)}))),this.register((0,v.addDisposableDomListener)(X,"wheel",(ge=>{if(!oe.wheel){if(!this.buffer.hasScrollback){const Le=this.viewport.getLinesScrolled(ge);if(Le===0)return;const it=G.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(ge.deltaY<0?"A":"B");let _t="";for(let Gs=0;Gs<Math.abs(Le);Gs++)_t+=it;return this.coreService.triggerDataEvent(_t,!0),this.cancel(ge,!0)}return this.viewport.handleWheel(ge)?this.cancel(ge):void 0}}),{passive:!1})),this.register((0,v.addDisposableDomListener)(X,"touchstart",(ge=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(ge),this.cancel(ge)}),{passive:!0})),this.register((0,v.addDisposableDomListener)(X,"touchmove",(ge=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(ge)?void 0:this.cancel(ge)}),{passive:!1}))}refresh(B,X){var ie;(ie=this._renderService)===null||ie===void 0||ie.refreshRows(B,X)}updateCursorStyle(B){var X;!((X=this._selectionService)===null||X===void 0)&&X.shouldColumnSelect(B)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(B,X,ie=0){var oe;ie===1?(super.scrollLines(B,X,ie),this.refresh(0,this.rows-1)):(oe=this.viewport)===null||oe===void 0||oe.scrollLines(B)}paste(B){(0,m.paste)(B,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(B){this._customKeyEventHandler=B}registerLinkProvider(B){return this.linkifier2.registerLinkProvider(B)}registerCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const X=this._characterJoinerService.register(B);return this.refresh(0,this.rows-1),X}deregisterCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(B)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(B){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+B)}registerDecoration(B){return this._decorationService.registerDecoration(B)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(B,X,ie){this._selectionService.setSelection(B,X,ie)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var B;(B=this._selectionService)===null||B===void 0||B.clearSelection()}selectAll(){var B;(B=this._selectionService)===null||B===void 0||B.selectAll()}selectLines(B,X){var ie;(ie=this._selectionService)===null||ie===void 0||ie.selectLines(B,X)}_keyDown(B){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;const X=this.browser.isMac&&this.options.macOptionIsMeta&&B.altKey;if(!X&&!this._compositionHelper.keydown(B))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;X||B.key!=="Dead"&&B.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const ie=(0,D.evaluateKeyboardEvent)(B,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(B),ie.type===3||ie.type===2){const oe=this.rows-1;return this.scrollLines(ie.type===2?-oe:oe),this.cancel(B,!0)}return ie.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,B)||(ie.cancel&&this.cancel(B,!0),!ie.key||!!(B.key&&!B.ctrlKey&&!B.altKey&&!B.metaKey&&B.key.length===1&&B.key.charCodeAt(0)>=65&&B.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(ie.key!==G.C0.ETX&&ie.key!==G.C0.CR||(this.textarea.value=""),this._onKey.fire({key:ie.key,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(ie.key,!0),!this.optionsService.rawOptions.screenReaderMode||B.altKey||B.ctrlKey?this.cancel(B,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(B,X){const ie=B.isMac&&!this.options.macOptionIsMeta&&X.altKey&&!X.ctrlKey&&!X.metaKey||B.isWindows&&X.altKey&&X.ctrlKey&&!X.metaKey||B.isWindows&&X.getModifierState("AltGraph");return X.type==="keypress"?ie:ie&&(!X.keyCode||X.keyCode>47)}_keyUp(B){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1||((function(X){return X.keyCode===16||X.keyCode===17||X.keyCode===18})(B)||this.focus(),this.updateCursorStyle(B),this._keyPressHandled=!1)}_keyPress(B){let X;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;if(this.cancel(B),B.charCode)X=B.charCode;else if(B.which===null||B.which===void 0)X=B.keyCode;else{if(B.which===0||B.charCode===0)return!1;X=B.which}return!(!X||(B.altKey||B.ctrlKey||B.metaKey)&&!this._isThirdLevelShift(this.browser,B)||(X=String.fromCharCode(X),this._onKey.fire({key:X,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(X,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(B){if(B.data&&B.inputType==="insertText"&&(!B.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const X=B.data;return this.coreService.triggerDataEvent(X,!0),this.cancel(B),!0}return!1}resize(B,X){B!==this.cols||X!==this.rows?super.resize(B,X):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(B,X){var ie,oe;(ie=this._charSizeService)===null||ie===void 0||ie.measure(),(oe=this.viewport)===null||oe===void 0||oe.syncScrollArea(!0)}clear(){var B;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let X=1;X<this.rows;X++)this.buffer.lines.push(this.buffer.getBlankLine(V.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(B=this.viewport)===null||B===void 0||B.reset(),this.refresh(0,this.rows-1)}}reset(){var B,X;this.options.rows=this.rows,this.options.cols=this.cols;const ie=this._customKeyEventHandler;this._setup(),super.reset(),(B=this._selectionService)===null||B===void 0||B.reset(),this._decorationService.reset(),(X=this.viewport)===null||X===void 0||X.reset(),this._customKeyEventHandler=ie,this.refresh(0,this.rows-1)}clearTextureAtlas(){var B;(B=this._renderService)===null||B===void 0||B.clearTextureAtlas()}_reportFocus(){var B;!((B=this.element)===null||B===void 0)&&B.classList.contains("focus")?this.coreService.triggerDataEvent(G.C0.ESC+"[I"):this.coreService.triggerDataEvent(G.C0.ESC+"[O")}_reportWindowsOptions(B){if(this._renderService)switch(B){case K.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const X=this._renderService.dimensions.css.canvas.width.toFixed(0),ie=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${G.C0.ESC}[4;${ie};${X}t`);break;case K.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const oe=this._renderService.dimensions.css.cell.width.toFixed(0),Ne=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${G.C0.ESC}[6;${Ne};${oe}t`)}}cancel(B,X){if(this.options.cancelEvents||X)return B.preventDefault(),B.stopPropagation(),!1}}l.Terminal=he},9924:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TimeBasedDebouncer=void 0,l.TimeBasedDebouncer=class{constructor(d,m=1e3){this._renderCallback=d,this._debounceThresholdMS=m,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(d,m,v){this._rowCount=v,d=d!==void 0?d:0,m=m!==void 0?m:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,d):d,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,m):m;const h=Date.now();if(h-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=h,this._innerRefresh();else if(!this._additionalRefreshRequested){const w=h-this._lastRefreshMs,S=this._debounceThresholdMS-w;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),S)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const d=Math.max(this._rowStart,0),m=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(d,m)}}},1680:function(y,l,d){var m=this&&this.__decorate||function(x,p,g,C){var E,P=arguments.length,L=P<3?p:C===null?C=Object.getOwnPropertyDescriptor(p,g):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(x,p,g,C);else for(var j=x.length-1;j>=0;j--)(E=x[j])&&(L=(P<3?E(L):P>3?E(p,g,L):E(p,g))||L);return P>3&&L&&Object.defineProperty(p,g,L),L},v=this&&this.__param||function(x,p){return function(g,C){p(g,C,x)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Viewport=void 0;const h=d(3656),w=d(4725),S=d(8460),k=d(844),b=d(2585);let u=l.Viewport=class extends k.Disposable{constructor(x,p,g,C,E,P,L,j){super(),this._viewportElement=x,this._scrollArea=p,this._bufferService=g,this._optionsService=C,this._charSizeService=E,this._renderService=P,this._coreBrowserService=L,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new S.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((A=>this._activeBuffer=A.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((A=>this._renderDimensions=A))),this._handleThemeChange(j.colors),this.register(j.onChangeColors((A=>this._handleThemeChange(A)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(x){this._viewportElement.style.backgroundColor=x.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(x){if(x)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const p=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==p&&(this._lastRecordedBufferHeight=p,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const x=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==x&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=x),this._refreshAnimationFrame=null}syncScrollArea(x=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(x);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(x)}_handleScroll(x){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const p=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:p,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const x=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(x*(this._smoothScrollState.target-this._smoothScrollState.origin)),x<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(x,p){const g=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(p<0&&this._viewportElement.scrollTop!==0||p>0&&g<this._lastRecordedBufferHeight)||(x.cancelable&&x.preventDefault(),!1)}handleWheel(x){const p=this._getPixelsScrolled(x);return p!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+p:this._smoothScrollState.target+=p,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=p,this._bubbleScroll(x,p))}scrollLines(x){if(x!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const p=x*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+p,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:x,suppressScrollEvent:!1})}_getPixelsScrolled(x){if(x.deltaY===0||x.shiftKey)return 0;let p=this._applyScrollModifier(x.deltaY,x);return x.deltaMode===WheelEvent.DOM_DELTA_LINE?p*=this._currentRowHeight:x.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(p*=this._currentRowHeight*this._bufferService.rows),p}getBufferElements(x,p){var g;let C,E="";const P=[],L=p??this._bufferService.buffer.lines.length,j=this._bufferService.buffer.lines;for(let A=x;A<L;A++){const z=j.get(A);if(!z)continue;const $=(g=j.get(A+1))===null||g===void 0?void 0:g.isWrapped;if(E+=z.translateToString(!$),!$||A===j.length-1){const U=document.createElement("div");U.textContent=E,P.push(U),E.length>0&&(C=U),E=""}}return{bufferElements:P,cursorElement:C}}getLinesScrolled(x){if(x.deltaY===0||x.shiftKey)return 0;let p=this._applyScrollModifier(x.deltaY,x);return x.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(p/=this._currentRowHeight+0,this._wheelPartialScroll+=p,p=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):x.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(p*=this._bufferService.rows),p}_applyScrollModifier(x,p){const g=this._optionsService.rawOptions.fastScrollModifier;return g==="alt"&&p.altKey||g==="ctrl"&&p.ctrlKey||g==="shift"&&p.shiftKey?x*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:x*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(x){this._lastTouchY=x.touches[0].pageY}handleTouchMove(x){const p=this._lastTouchY-x.touches[0].pageY;return this._lastTouchY=x.touches[0].pageY,p!==0&&(this._viewportElement.scrollTop+=p,this._bubbleScroll(x,p))}};l.Viewport=u=m([v(2,b.IBufferService),v(3,b.IOptionsService),v(4,w.ICharSizeService),v(5,w.IRenderService),v(6,w.ICoreBrowserService),v(7,w.IThemeService)],u)},3107:function(y,l,d){var m=this&&this.__decorate||function(u,x,p,g){var C,E=arguments.length,P=E<3?x:g===null?g=Object.getOwnPropertyDescriptor(x,p):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(u,x,p,g);else for(var L=u.length-1;L>=0;L--)(C=u[L])&&(P=(E<3?C(P):E>3?C(x,p,P):C(x,p))||P);return E>3&&P&&Object.defineProperty(x,p,P),P},v=this&&this.__param||function(u,x){return function(p,g){x(p,g,u)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferDecorationRenderer=void 0;const h=d(3656),w=d(4725),S=d(844),k=d(2585);let b=l.BufferDecorationRenderer=class extends S.Disposable{constructor(u,x,p,g){super(),this._screenElement=u,this._bufferService=x,this._decorationService=p,this._renderService=g,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register((0,h.addDisposableDomListener)(window,"resize",(()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((C=>this._removeDecoration(C)))),this.register((0,S.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const u of this._decorationService.decorations)this._renderDecoration(u);this._dimensionsChanged=!1}_renderDecoration(u){this._refreshStyle(u),this._dimensionsChanged&&this._refreshXPosition(u)}_createElement(u){var x,p;const g=document.createElement("div");g.classList.add("xterm-decoration"),g.classList.toggle("xterm-decoration-top-layer",((x=u?.options)===null||x===void 0?void 0:x.layer)==="top"),g.style.width=`${Math.round((u.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,g.style.height=(u.options.height||1)*this._renderService.dimensions.css.cell.height+"px",g.style.top=(u.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",g.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const C=(p=u.options.x)!==null&&p!==void 0?p:0;return C&&C>this._bufferService.cols&&(g.style.display="none"),this._refreshXPosition(u,g),g}_refreshStyle(u){const x=u.marker.line-this._bufferService.buffers.active.ydisp;if(x<0||x>=this._bufferService.rows)u.element&&(u.element.style.display="none",u.onRenderEmitter.fire(u.element));else{let p=this._decorationElements.get(u);p||(p=this._createElement(u),u.element=p,this._decorationElements.set(u,p),this._container.appendChild(p),u.onDispose((()=>{this._decorationElements.delete(u),p.remove()}))),p.style.top=x*this._renderService.dimensions.css.cell.height+"px",p.style.display=this._altBufferIsActive?"none":"block",u.onRenderEmitter.fire(p)}}_refreshXPosition(u,x=u.element){var p;if(!x)return;const g=(p=u.options.x)!==null&&p!==void 0?p:0;(u.options.anchor||"left")==="right"?x.style.right=g?g*this._renderService.dimensions.css.cell.width+"px":"":x.style.left=g?g*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(u){var x;(x=this._decorationElements.get(u))===null||x===void 0||x.remove(),this._decorationElements.delete(u),u.dispose()}};l.BufferDecorationRenderer=b=m([v(1,k.IBufferService),v(2,k.IDecorationService),v(3,w.IRenderService)],b)},5871:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorZoneStore=void 0,l.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(d){if(d.options.overviewRulerOptions){for(const m of this._zones)if(m.color===d.options.overviewRulerOptions.color&&m.position===d.options.overviewRulerOptions.position){if(this._lineIntersectsZone(m,d.marker.line))return;if(this._lineAdjacentToZone(m,d.marker.line,d.options.overviewRulerOptions.position))return void this._addLineToZone(m,d.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=d.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=d.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=d.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=d.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:d.options.overviewRulerOptions.color,position:d.options.overviewRulerOptions.position,startBufferLine:d.marker.line,endBufferLine:d.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(d){this._linePadding=d}_lineIntersectsZone(d,m){return m>=d.startBufferLine&&m<=d.endBufferLine}_lineAdjacentToZone(d,m,v){return m>=d.startBufferLine-this._linePadding[v||"full"]&&m<=d.endBufferLine+this._linePadding[v||"full"]}_addLineToZone(d,m){d.startBufferLine=Math.min(d.startBufferLine,m),d.endBufferLine=Math.max(d.endBufferLine,m)}}},5744:function(y,l,d){var m=this&&this.__decorate||function(C,E,P,L){var j,A=arguments.length,z=A<3?E:L===null?L=Object.getOwnPropertyDescriptor(E,P):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(C,E,P,L);else for(var $=C.length-1;$>=0;$--)(j=C[$])&&(z=(A<3?j(z):A>3?j(E,P,z):j(E,P))||z);return A>3&&z&&Object.defineProperty(E,P,z),z},v=this&&this.__param||function(C,E){return function(P,L){E(P,L,C)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OverviewRulerRenderer=void 0;const h=d(5871),w=d(3656),S=d(4725),k=d(844),b=d(2585),u={full:0,left:0,center:0,right:0},x={full:0,left:0,center:0,right:0},p={full:0,left:0,center:0,right:0};let g=l.OverviewRulerRenderer=class extends k.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(C,E,P,L,j,A,z){var $;super(),this._viewportElement=C,this._screenElement=E,this._bufferService=P,this._decorationService=L,this._renderService=j,this._optionsService=A,this._coreBrowseService=z,this._colorZoneStore=new h.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),($=this._viewportElement.parentElement)===null||$===void 0||$.insertBefore(this._canvas,this._viewportElement);const U=this._canvas.getContext("2d");if(!U)throw new Error("Ctx cannot be null");this._ctx=U,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,k.toDisposable)((()=>{var I;(I=this._canvas)===null||I===void 0||I.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register((0,w.addDisposableDomListener)(this._coreBrowseService.window,"resize",(()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const C=Math.floor(this._canvas.width/3),E=Math.ceil(this._canvas.width/3);x.full=this._canvas.width,x.left=C,x.center=E,x.right=C,this._refreshDrawHeightConstants(),p.full=0,p.left=0,p.center=x.left,p.right=x.left+x.center}_refreshDrawHeightConstants(){u.full=Math.round(2*this._coreBrowseService.dpr);const C=this._canvas.height/this._bufferService.buffer.lines.length,E=Math.round(Math.max(Math.min(C,12),6)*this._coreBrowseService.dpr);u.left=E,u.center=E,u.right=E}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const E of this._decorationService.decorations)this._colorZoneStore.addDecoration(E);this._ctx.lineWidth=1;const C=this._colorZoneStore.zones;for(const E of C)E.position!=="full"&&this._renderColorZone(E);for(const E of C)E.position==="full"&&this._renderColorZone(E);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(C){this._ctx.fillStyle=C.color,this._ctx.fillRect(p[C.position||"full"],Math.round((this._canvas.height-1)*(C.startBufferLine/this._bufferService.buffers.active.lines.length)-u[C.position||"full"]/2),x[C.position||"full"],Math.round((this._canvas.height-1)*((C.endBufferLine-C.startBufferLine)/this._bufferService.buffers.active.lines.length)+u[C.position||"full"]))}_queueRefresh(C,E){this._shouldUpdateDimensions=C||this._shouldUpdateDimensions,this._shouldUpdateAnchor=E||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};l.OverviewRulerRenderer=g=m([v(2,b.IBufferService),v(3,b.IDecorationService),v(4,S.IRenderService),v(5,b.IOptionsService),v(6,S.ICoreBrowserService)],g)},2950:function(y,l,d){var m=this&&this.__decorate||function(b,u,x,p){var g,C=arguments.length,E=C<3?u:p===null?p=Object.getOwnPropertyDescriptor(u,x):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(b,u,x,p);else for(var P=b.length-1;P>=0;P--)(g=b[P])&&(E=(C<3?g(E):C>3?g(u,x,E):g(u,x))||E);return C>3&&E&&Object.defineProperty(u,x,E),E},v=this&&this.__param||function(b,u){return function(x,p){u(x,p,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CompositionHelper=void 0;const h=d(4725),w=d(2585),S=d(2584);let k=l.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(b,u,x,p,g,C){this._textarea=b,this._compositionView=u,this._bufferService=x,this._optionsService=p,this._coreService=g,this._renderService=C,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(b){this._compositionView.textContent=b.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(b){if(this._isComposing||this._isSendingComposition){if(b.keyCode===229||b.keyCode===16||b.keyCode===17||b.keyCode===18)return!1;this._finalizeComposition(!1)}return b.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(b){if(this._compositionView.classList.remove("active"),this._isComposing=!1,b){const u={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let x;this._isSendingComposition=!1,u.start+=this._dataAlreadySent.length,x=this._isComposing?this._textarea.value.substring(u.start,u.end):this._textarea.value.substring(u.start),x.length>0&&this._coreService.triggerDataEvent(x,!0)}}),0)}else{this._isSendingComposition=!1;const u=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(u,!0)}}_handleAnyTextareaChanges(){const b=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const u=this._textarea.value,x=u.replace(b,"");this._dataAlreadySent=x,u.length>b.length?this._coreService.triggerDataEvent(x,!0):u.length<b.length?this._coreService.triggerDataEvent(`${S.C0.DEL}`,!0):u.length===b.length&&u!==b&&this._coreService.triggerDataEvent(u,!0)}}),0)}updateCompositionElements(b){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const u=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),x=this._renderService.dimensions.css.cell.height,p=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,g=u*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=g+"px",this._compositionView.style.top=p+"px",this._compositionView.style.height=x+"px",this._compositionView.style.lineHeight=x+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const C=this._compositionView.getBoundingClientRect();this._textarea.style.left=g+"px",this._textarea.style.top=p+"px",this._textarea.style.width=Math.max(C.width,1)+"px",this._textarea.style.height=Math.max(C.height,1)+"px",this._textarea.style.lineHeight=C.height+"px"}b||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};l.CompositionHelper=k=m([v(2,w.IBufferService),v(3,w.IOptionsService),v(4,w.ICoreService),v(5,h.IRenderService)],k)},9806:(y,l)=>{function d(m,v,h){const w=h.getBoundingClientRect(),S=m.getComputedStyle(h),k=parseInt(S.getPropertyValue("padding-left")),b=parseInt(S.getPropertyValue("padding-top"));return[v.clientX-w.left-k,v.clientY-w.top-b]}Object.defineProperty(l,"__esModule",{value:!0}),l.getCoords=l.getCoordsRelativeToElement=void 0,l.getCoordsRelativeToElement=d,l.getCoords=function(m,v,h,w,S,k,b,u,x){if(!k)return;const p=d(m,v,h);return p?(p[0]=Math.ceil((p[0]+(x?b/2:0))/b),p[1]=Math.ceil(p[1]/u),p[0]=Math.min(Math.max(p[0],1),w+(x?1:0)),p[1]=Math.min(Math.max(p[1],1),S),p):void 0}},9504:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.moveToCellSequence=void 0;const m=d(2584);function v(u,x,p,g){const C=u-h(u,p),E=x-h(x,p),P=Math.abs(C-E)-(function(L,j,A){let z=0;const $=L-h(L,A),U=j-h(j,A);for(let I=0;I<Math.abs($-U);I++){const W=w(L,j)==="A"?-1:1,J=A.buffer.lines.get($+W*I);J?.isWrapped&&z++}return z})(u,x,p);return b(P,k(w(u,x),g))}function h(u,x){let p=0,g=x.buffer.lines.get(u),C=g?.isWrapped;for(;C&&u>=0&&u<x.rows;)p++,g=x.buffer.lines.get(--u),C=g?.isWrapped;return p}function w(u,x){return u>x?"A":"B"}function S(u,x,p,g,C,E){let P=u,L=x,j="";for(;P!==p||L!==g;)P+=C?1:-1,C&&P>E.cols-1?(j+=E.buffer.translateBufferLineToString(L,!1,u,P),P=0,u=0,L++):!C&&P<0&&(j+=E.buffer.translateBufferLineToString(L,!1,0,u+1),P=E.cols-1,u=P,L--);return j+E.buffer.translateBufferLineToString(L,!1,u,P)}function k(u,x){const p=x?"O":"[";return m.C0.ESC+p+u}function b(u,x){u=Math.floor(u);let p="";for(let g=0;g<u;g++)p+=x;return p}l.moveToCellSequence=function(u,x,p,g){const C=p.buffer.x,E=p.buffer.y;if(!p.buffer.hasScrollback)return(function(j,A,z,$,U,I){return v(A,$,U,I).length===0?"":b(S(j,A,j,A-h(A,U),!1,U).length,k("D",I))})(C,E,0,x,p,g)+v(E,x,p,g)+(function(j,A,z,$,U,I){let W;W=v(A,$,U,I).length>0?$-h($,U):A;const J=$,V=(function(G,D,M,H,O,K){let re;return re=v(M,H,O,K).length>0?H-h(H,O):D,G<M&&re<=H||G>=M&&re<H?"C":"D"})(j,A,z,$,U,I);return b(S(j,W,z,J,V==="C",U).length,k(V,I))})(C,E,u,x,p,g);let P;if(E===x)return P=C>u?"D":"C",b(Math.abs(C-u),k(P,g));P=E>x?"D":"C";const L=Math.abs(E-x);return b((function(j,A){return A.cols-j})(E>x?u:C,p)+(L-1)*p.cols+1+((E>x?C:u)-1),k(P,g))}},1296:function(y,l,d){var m=this&&this.__decorate||function(U,I,W,J){var V,G=arguments.length,D=G<3?I:J===null?J=Object.getOwnPropertyDescriptor(I,W):J;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(U,I,W,J);else for(var M=U.length-1;M>=0;M--)(V=U[M])&&(D=(G<3?V(D):G>3?V(I,W,D):V(I,W))||D);return G>3&&D&&Object.defineProperty(I,W,D),D},v=this&&this.__param||function(U,I){return function(W,J){I(W,J,U)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRenderer=void 0;const h=d(3787),w=d(2550),S=d(2223),k=d(6171),b=d(4725),u=d(8055),x=d(8460),p=d(844),g=d(2585),C="xterm-dom-renderer-owner-",E="xterm-rows",P="xterm-fg-",L="xterm-bg-",j="xterm-focus",A="xterm-selection";let z=1,$=l.DomRenderer=class extends p.Disposable{constructor(U,I,W,J,V,G,D,M,H,O){super(),this._element=U,this._screenElement=I,this._viewportElement=W,this._linkifier2=J,this._charSizeService=G,this._optionsService=D,this._bufferService=M,this._coreBrowserService=H,this._themeService=O,this._terminalClass=z++,this._rowElements=[],this.onRequestRedraw=this.register(new x.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(E),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(A),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,k.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((K=>this._injectCss(K)))),this._injectCss(this._themeService.colors),this._rowFactory=V.createInstance(h.DomRendererRowFactory,document),this._element.classList.add(C+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((K=>this._handleLinkHover(K)))),this.register(this._linkifier2.onHideLinkUnderline((K=>this._handleLinkLeave(K)))),this.register((0,p.toDisposable)((()=>{this._element.classList.remove(C+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new w.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const U=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*U,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*U),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/U),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/U),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const W of this._rowElements)W.style.width=`${this.dimensions.css.canvas.width}px`,W.style.height=`${this.dimensions.css.cell.height}px`,W.style.lineHeight=`${this.dimensions.css.cell.height}px`,W.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const I=`${this._terminalSelector} .${E} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=I,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(U){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let I=`${this._terminalSelector} .${E} { color: ${U.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;I+=`${this._terminalSelector} .${E} .xterm-dim { color: ${u.color.multiplyOpacity(U.foreground,.5).css};}`,I+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,I+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",I+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${U.cursor.css};  color: ${U.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${U.cursor.css}; }}`,I+=`${this._terminalSelector} .${E}.${j} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${E}.${j} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-block { background-color: ${U.cursor.css}; color: ${U.cursorAccent.css};}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${U.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${U.cursor.css} inset;}${this._terminalSelector} .${E} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${U.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,I+=`${this._terminalSelector} .${A} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${A} div { position: absolute; background-color: ${U.selectionBackgroundOpaque.css};}${this._terminalSelector} .${A} div { position: absolute; background-color: ${U.selectionInactiveBackgroundOpaque.css};}`;for(const[W,J]of U.ansi.entries())I+=`${this._terminalSelector} .${P}${W} { color: ${J.css}; }${this._terminalSelector} .${P}${W}.xterm-dim { color: ${u.color.multiplyOpacity(J,.5).css}; }${this._terminalSelector} .${L}${W} { background-color: ${J.css}; }`;I+=`${this._terminalSelector} .${P}${S.INVERTED_DEFAULT_COLOR} { color: ${u.color.opaque(U.background).css}; }${this._terminalSelector} .${P}${S.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${u.color.multiplyOpacity(u.color.opaque(U.background),.5).css}; }${this._terminalSelector} .${L}${S.INVERTED_DEFAULT_COLOR} { background-color: ${U.foreground.css}; }`,this._themeStyleElement.textContent=I}_setDefaultSpacing(){const U=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${U}px`,this._rowFactory.defaultSpacing=U}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(U,I){for(let W=this._rowElements.length;W<=I;W++){const J=document.createElement("div");this._rowContainer.appendChild(J),this._rowElements.push(J)}for(;this._rowElements.length>I;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(U,I){this._refreshRowElements(U,I),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(j)}handleFocus(){this._rowContainer.classList.add(j),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(U,I,W){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(U,I,W),this.renderRows(0,this._bufferService.rows-1),!U||!I)return;const J=U[1]-this._bufferService.buffer.ydisp,V=I[1]-this._bufferService.buffer.ydisp,G=Math.max(J,0),D=Math.min(V,this._bufferService.rows-1);if(G>=this._bufferService.rows||D<0)return;const M=document.createDocumentFragment();if(W){const H=U[0]>I[0];M.appendChild(this._createSelectionElement(G,H?I[0]:U[0],H?U[0]:I[0],D-G+1))}else{const H=J===G?U[0]:0,O=G===V?I[0]:this._bufferService.cols;M.appendChild(this._createSelectionElement(G,H,O));const K=D-G-1;if(M.appendChild(this._createSelectionElement(G+1,0,this._bufferService.cols,K)),G!==D){const re=V===D?I[0]:this._bufferService.cols;M.appendChild(this._createSelectionElement(D,0,re))}}this._selectionContainer.appendChild(M)}_createSelectionElement(U,I,W,J=1){const V=document.createElement("div");return V.style.height=J*this.dimensions.css.cell.height+"px",V.style.top=U*this.dimensions.css.cell.height+"px",V.style.left=I*this.dimensions.css.cell.width+"px",V.style.width=this.dimensions.css.cell.width*(W-I)+"px",V}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const U of this._rowElements)U.replaceChildren()}renderRows(U,I){const W=this._bufferService.buffer,J=W.ybase+W.y,V=Math.min(W.x,this._bufferService.cols-1),G=this._optionsService.rawOptions.cursorBlink,D=this._optionsService.rawOptions.cursorStyle,M=this._optionsService.rawOptions.cursorInactiveStyle;for(let H=U;H<=I;H++){const O=H+W.ydisp,K=this._rowElements[H],re=W.lines.get(O);if(!K||!re)break;K.replaceChildren(...this._rowFactory.createRow(re,O,O===J,D,M,V,G,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${C}${this._terminalClass}`}_handleLinkHover(U){this._setCellUnderline(U.x1,U.x2,U.y1,U.y2,U.cols,!0)}_handleLinkLeave(U){this._setCellUnderline(U.x1,U.x2,U.y1,U.y2,U.cols,!1)}_setCellUnderline(U,I,W,J,V,G){W<0&&(U=0),J<0&&(I=0);const D=this._bufferService.rows-1;W=Math.max(Math.min(W,D),0),J=Math.max(Math.min(J,D),0),V=Math.min(V,this._bufferService.cols);const M=this._bufferService.buffer,H=M.ybase+M.y,O=Math.min(M.x,V-1),K=this._optionsService.rawOptions.cursorBlink,re=this._optionsService.rawOptions.cursorStyle,ae=this._optionsService.rawOptions.cursorInactiveStyle;for(let he=W;he<=J;++he){const ye=he+M.ydisp,B=this._rowElements[he],X=M.lines.get(ye);if(!B||!X)break;B.replaceChildren(...this._rowFactory.createRow(X,ye,ye===H,re,ae,O,K,this.dimensions.css.cell.width,this._widthCache,G?he===W?U:0:-1,G?(he===J?I:V)-1:-1))}}};l.DomRenderer=$=m([v(4,g.IInstantiationService),v(5,b.ICharSizeService),v(6,g.IOptionsService),v(7,g.IBufferService),v(8,b.ICoreBrowserService),v(9,b.IThemeService)],$)},3787:function(y,l,d){var m=this&&this.__decorate||function(P,L,j,A){var z,$=arguments.length,U=$<3?L:A===null?A=Object.getOwnPropertyDescriptor(L,j):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(P,L,j,A);else for(var I=P.length-1;I>=0;I--)(z=P[I])&&(U=($<3?z(U):$>3?z(L,j,U):z(L,j))||U);return $>3&&U&&Object.defineProperty(L,j,U),U},v=this&&this.__param||function(P,L){return function(j,A){L(j,A,P)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRendererRowFactory=void 0;const h=d(2223),w=d(643),S=d(511),k=d(2585),b=d(8055),u=d(4725),x=d(4269),p=d(6171),g=d(3734);let C=l.DomRendererRowFactory=class{constructor(P,L,j,A,z,$,U){this._document=P,this._characterJoinerService=L,this._optionsService=j,this._coreBrowserService=A,this._coreService=z,this._decorationService=$,this._themeService=U,this._workCell=new S.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(P,L,j){this._selectionStart=P,this._selectionEnd=L,this._columnSelectMode=j}createRow(P,L,j,A,z,$,U,I,W,J,V){const G=[],D=this._characterJoinerService.getJoinedCharacters(L),M=this._themeService.colors;let H,O=P.getNoBgTrimmedLength();j&&O<$+1&&(O=$+1);let K=0,re="",ae=0,he=0,ye=0,B=!1,X=0,ie=!1,oe=0;const Ne=[],ge=J!==-1&&V!==-1;for(let Le=0;Le<O;Le++){P.loadCell(Le,this._workCell);let it=this._workCell.getWidth();if(it===0)continue;let _t=!1,Gs=Le,De=this._workCell;if(D.length>0&&Le===D[0][0]){_t=!0;const Ge=D.shift();De=new x.JoinedCellData(this._workCell,P.translateToString(!0,Ge[0],Ge[1]),Ge[1]-Ge[0]),Gs=Ge[1]-1,it=De.getWidth()}const xr=this._isCellInSelection(Le,L),on=j&&Le===$,Qs=ge&&Le>=J&&Le<=V;let Ds=!1;this._decorationService.forEachDecorationAtCell(Le,L,void 0,(Ge=>{Ds=!0}));let yr=De.getChars()||w.WHITESPACE_CELL_CHAR;if(yr===" "&&(De.isUnderline()||De.isOverline())&&(yr=""),oe=it*I-W.get(yr,De.isBold(),De.isItalic()),H){if(K&&(xr&&ie||!xr&&!ie&&De.bg===ae)&&(xr&&ie&&M.selectionForeground||De.fg===he)&&De.extended.ext===ye&&Qs===B&&oe===X&&!on&&!_t&&!Ds){re+=yr,K++;continue}K&&(H.textContent=re),H=this._document.createElement("span"),K=0,re=""}else H=this._document.createElement("span");if(ae=De.bg,he=De.fg,ye=De.extended.ext,B=Qs,X=oe,ie=xr,_t&&$>=Le&&$<=Gs&&($=Le),!this._coreService.isCursorHidden&&on){if(Ne.push("xterm-cursor"),this._coreBrowserService.isFocused)U&&Ne.push("xterm-cursor-blink"),Ne.push(A==="bar"?"xterm-cursor-bar":A==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(z)switch(z){case"outline":Ne.push("xterm-cursor-outline");break;case"block":Ne.push("xterm-cursor-block");break;case"bar":Ne.push("xterm-cursor-bar");break;case"underline":Ne.push("xterm-cursor-underline")}}if(De.isBold()&&Ne.push("xterm-bold"),De.isItalic()&&Ne.push("xterm-italic"),De.isDim()&&Ne.push("xterm-dim"),re=De.isInvisible()?w.WHITESPACE_CELL_CHAR:De.getChars()||w.WHITESPACE_CELL_CHAR,De.isUnderline()&&(Ne.push(`xterm-underline-${De.extended.underlineStyle}`),re===" "&&(re=""),!De.isUnderlineColorDefault()))if(De.isUnderlineColorRGB())H.style.textDecorationColor=`rgb(${g.AttributeData.toColorRGB(De.getUnderlineColor()).join(",")})`;else{let Ge=De.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&De.isBold()&&Ge<8&&(Ge+=8),H.style.textDecorationColor=M.ansi[Ge].css}De.isOverline()&&(Ne.push("xterm-overline"),re===" "&&(re="")),De.isStrikethrough()&&Ne.push("xterm-strikethrough"),Qs&&(H.style.textDecoration="underline");let Rt=De.getFgColor(),_r=De.getFgColorMode(),Vt=De.getBgColor(),wr=De.getBgColorMode();const an=!!De.isInverse();if(an){const Ge=Rt;Rt=Vt,Vt=Ge;const Jo=_r;_r=wr,wr=Jo}let Gt,Bn,Ot,xs=!1;switch(this._decorationService.forEachDecorationAtCell(Le,L,void 0,(Ge=>{Ge.options.layer!=="top"&&xs||(Ge.backgroundColorRGB&&(wr=50331648,Vt=Ge.backgroundColorRGB.rgba>>8&16777215,Gt=Ge.backgroundColorRGB),Ge.foregroundColorRGB&&(_r=50331648,Rt=Ge.foregroundColorRGB.rgba>>8&16777215,Bn=Ge.foregroundColorRGB),xs=Ge.options.layer==="top")})),!xs&&xr&&(Gt=this._coreBrowserService.isFocused?M.selectionBackgroundOpaque:M.selectionInactiveBackgroundOpaque,Vt=Gt.rgba>>8&16777215,wr=50331648,xs=!0,M.selectionForeground&&(_r=50331648,Rt=M.selectionForeground.rgba>>8&16777215,Bn=M.selectionForeground)),xs&&Ne.push("xterm-decoration-top"),wr){case 16777216:case 33554432:Ot=M.ansi[Vt],Ne.push(`xterm-bg-${Vt}`);break;case 50331648:Ot=b.rgba.toColor(Vt>>16,Vt>>8&255,255&Vt),this._addStyle(H,`background-color:#${E((Vt>>>0).toString(16),"0",6)}`);break;default:an?(Ot=M.foreground,Ne.push(`xterm-bg-${h.INVERTED_DEFAULT_COLOR}`)):Ot=M.background}switch(Gt||De.isDim()&&(Gt=b.color.multiplyOpacity(Ot,.5)),_r){case 16777216:case 33554432:De.isBold()&&Rt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Rt+=8),this._applyMinimumContrast(H,Ot,M.ansi[Rt],De,Gt,void 0)||Ne.push(`xterm-fg-${Rt}`);break;case 50331648:const Ge=b.rgba.toColor(Rt>>16&255,Rt>>8&255,255&Rt);this._applyMinimumContrast(H,Ot,Ge,De,Gt,Bn)||this._addStyle(H,`color:#${E(Rt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(H,Ot,M.foreground,De,Gt,void 0)||an&&Ne.push(`xterm-fg-${h.INVERTED_DEFAULT_COLOR}`)}Ne.length&&(H.className=Ne.join(" "),Ne.length=0),on||_t||Ds?H.textContent=re:K++,oe!==this.defaultSpacing&&(H.style.letterSpacing=`${oe}px`),G.push(H),Le=Gs}return H&&K&&(H.textContent=re),G}_applyMinimumContrast(P,L,j,A,z,$){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,p.excludeFromContrastRatioDemands)(A.getCode()))return!1;const U=this._getContrastCache(A);let I;if(z||$||(I=U.getColor(L.rgba,j.rgba)),I===void 0){const W=this._optionsService.rawOptions.minimumContrastRatio/(A.isDim()?2:1);I=b.color.ensureContrastRatio(z||L,$||j,W),U.setColor((z||L).rgba,($||j).rgba,I??null)}return!!I&&(this._addStyle(P,`color:${I.css}`),!0)}_getContrastCache(P){return P.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(P,L){P.setAttribute("style",`${P.getAttribute("style")||""}${L};`)}_isCellInSelection(P,L){const j=this._selectionStart,A=this._selectionEnd;return!(!j||!A)&&(this._columnSelectMode?j[0]<=A[0]?P>=j[0]&&L>=j[1]&&P<A[0]&&L<=A[1]:P<j[0]&&L>=j[1]&&P>=A[0]&&L<=A[1]:L>j[1]&&L<A[1]||j[1]===A[1]&&L===j[1]&&P>=j[0]&&P<A[0]||j[1]<A[1]&&L===A[1]&&P<A[0]||j[1]<A[1]&&L===j[1]&&P>=j[0])}};function E(P,L,j){for(;P.length<j;)P=L+P;return P}l.DomRendererRowFactory=C=m([v(1,u.ICharacterJoinerService),v(2,k.IOptionsService),v(3,u.ICoreBrowserService),v(4,k.ICoreService),v(5,k.IDecorationService),v(6,u.IThemeService)],C)},2550:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WidthCache=void 0,l.WidthCache=class{constructor(d){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=d.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const m=d.createElement("span"),v=d.createElement("span");v.style.fontWeight="bold";const h=d.createElement("span");h.style.fontStyle="italic";const w=d.createElement("span");w.style.fontWeight="bold",w.style.fontStyle="italic",this._measureElements=[m,v,h,w],this._container.appendChild(m),this._container.appendChild(v),this._container.appendChild(h),this._container.appendChild(w),d.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(d,m,v,h){d===this._font&&m===this._fontSize&&v===this._weight&&h===this._weightBold||(this._font=d,this._fontSize=m,this._weight=v,this._weightBold=h,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${v}`,this._measureElements[1].style.fontWeight=`${h}`,this._measureElements[2].style.fontWeight=`${v}`,this._measureElements[3].style.fontWeight=`${h}`,this.clear())}get(d,m,v){let h=0;if(!m&&!v&&d.length===1&&(h=d.charCodeAt(0))<256)return this._flat[h]!==-9999?this._flat[h]:this._flat[h]=this._measure(d,0);let w=d;m&&(w+="B"),v&&(w+="I");let S=this._holey.get(w);if(S===void 0){let k=0;m&&(k|=1),v&&(k|=2),S=this._measure(d,k),this._holey.set(w,S)}return S}_measure(d,m){const v=this._measureElements[m];return v.textContent=d.repeat(32),v.offsetWidth/32}}},2223:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TEXT_BASELINE=l.DIM_OPACITY=l.INVERTED_DEFAULT_COLOR=void 0;const m=d(6114);l.INVERTED_DEFAULT_COLOR=257,l.DIM_OPACITY=.5,l.TEXT_BASELINE=m.isFirefox||m.isLegacyEdge?"bottom":"ideographic"},6171:(y,l)=>{function d(m){return 57508<=m&&m<=57558}Object.defineProperty(l,"__esModule",{value:!0}),l.createRenderDimensions=l.excludeFromContrastRatioDemands=l.isRestrictedPowerlineGlyph=l.isPowerlineGlyph=l.throwIfFalsy=void 0,l.throwIfFalsy=function(m){if(!m)throw new Error("value must not be falsy");return m},l.isPowerlineGlyph=d,l.isRestrictedPowerlineGlyph=function(m){return 57520<=m&&m<=57527},l.excludeFromContrastRatioDemands=function(m){return d(m)||(function(v){return 9472<=v&&v<=9631})(m)},l.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionModel=void 0,l.SelectionModel=class{constructor(d){this._bufferService=d,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const d=this.selectionStart[0]+this.selectionStartLength;return d>this._bufferService.cols?d%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(d/this._bufferService.cols)-1]:[d%this._bufferService.cols,this.selectionStart[1]+Math.floor(d/this._bufferService.cols)]:[d,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const d=this.selectionStart[0]+this.selectionStartLength;return d>this._bufferService.cols?[d%this._bufferService.cols,this.selectionStart[1]+Math.floor(d/this._bufferService.cols)]:[Math.max(d,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const d=this.selectionStart,m=this.selectionEnd;return!(!d||!m)&&(d[1]>m[1]||d[1]===m[1]&&d[0]>m[0])}handleTrim(d){return this.selectionStart&&(this.selectionStart[1]-=d),this.selectionEnd&&(this.selectionEnd[1]-=d),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(y,l,d){var m=this&&this.__decorate||function(u,x,p,g){var C,E=arguments.length,P=E<3?x:g===null?g=Object.getOwnPropertyDescriptor(x,p):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(u,x,p,g);else for(var L=u.length-1;L>=0;L--)(C=u[L])&&(P=(E<3?C(P):E>3?C(x,p,P):C(x,p))||P);return E>3&&P&&Object.defineProperty(x,p,P),P},v=this&&this.__param||function(u,x){return function(p,g){x(p,g,u)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharSizeService=void 0;const h=d(2585),w=d(8460),S=d(844);let k=l.CharSizeService=class extends S.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(u,x,p){super(),this._optionsService=p,this.width=0,this.height=0,this._onCharSizeChange=this.register(new w.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new b(u,x,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const u=this._measureStrategy.measure();u.width===this.width&&u.height===this.height||(this.width=u.width,this.height=u.height,this._onCharSizeChange.fire())}};l.CharSizeService=k=m([v(2,h.IOptionsService)],k);class b{constructor(x,p,g){this._document=x,this._parentElement=p,this._optionsService=g,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const x={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return x.width!==0&&x.height!==0&&(this._result.width=x.width/32,this._result.height=Math.ceil(x.height)),this._result}}},4269:function(y,l,d){var m=this&&this.__decorate||function(x,p,g,C){var E,P=arguments.length,L=P<3?p:C===null?C=Object.getOwnPropertyDescriptor(p,g):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(x,p,g,C);else for(var j=x.length-1;j>=0;j--)(E=x[j])&&(L=(P<3?E(L):P>3?E(p,g,L):E(p,g))||L);return P>3&&L&&Object.defineProperty(p,g,L),L},v=this&&this.__param||function(x,p){return function(g,C){p(g,C,x)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharacterJoinerService=l.JoinedCellData=void 0;const h=d(3734),w=d(643),S=d(511),k=d(2585);class b extends h.AttributeData{constructor(p,g,C){super(),this.content=0,this.combinedData="",this.fg=p.fg,this.bg=p.bg,this.combinedData=g,this._width=C}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(p){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.JoinedCellData=b;let u=l.CharacterJoinerService=class Hy{constructor(p){this._bufferService=p,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new S.CellData}register(p){const g={id:this._nextCharacterJoinerId++,handler:p};return this._characterJoiners.push(g),g.id}deregister(p){for(let g=0;g<this._characterJoiners.length;g++)if(this._characterJoiners[g].id===p)return this._characterJoiners.splice(g,1),!0;return!1}getJoinedCharacters(p){if(this._characterJoiners.length===0)return[];const g=this._bufferService.buffer.lines.get(p);if(!g||g.length===0)return[];const C=[],E=g.translateToString(!0);let P=0,L=0,j=0,A=g.getFg(0),z=g.getBg(0);for(let $=0;$<g.getTrimmedLength();$++)if(g.loadCell($,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==A||this._workCell.bg!==z){if($-P>1){const U=this._getJoinedRanges(E,j,L,g,P);for(let I=0;I<U.length;I++)C.push(U[I])}P=$,j=L,A=this._workCell.fg,z=this._workCell.bg}L+=this._workCell.getChars().length||w.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-P>1){const $=this._getJoinedRanges(E,j,L,g,P);for(let U=0;U<$.length;U++)C.push($[U])}return C}_getJoinedRanges(p,g,C,E,P){const L=p.substring(g,C);let j=[];try{j=this._characterJoiners[0].handler(L)}catch(A){console.error(A)}for(let A=1;A<this._characterJoiners.length;A++)try{const z=this._characterJoiners[A].handler(L);for(let $=0;$<z.length;$++)Hy._mergeRanges(j,z[$])}catch(z){console.error(z)}return this._stringRangesToCellRanges(j,E,P),j}_stringRangesToCellRanges(p,g,C){let E=0,P=!1,L=0,j=p[E];if(j){for(let A=C;A<this._bufferService.cols;A++){const z=g.getWidth(A),$=g.getString(A).length||w.WHITESPACE_CELL_CHAR.length;if(z!==0){if(!P&&j[0]<=L&&(j[0]=A,P=!0),j[1]<=L){if(j[1]=A,j=p[++E],!j)break;j[0]<=L?(j[0]=A,P=!0):P=!1}L+=$}}j&&(j[1]=this._bufferService.cols)}}static _mergeRanges(p,g){let C=!1;for(let E=0;E<p.length;E++){const P=p[E];if(C){if(g[1]<=P[0])return p[E-1][1]=g[1],p;if(g[1]<=P[1])return p[E-1][1]=Math.max(g[1],P[1]),p.splice(E,1),p;p.splice(E,1),E--}else{if(g[1]<=P[0])return p.splice(E,0,g),p;if(g[1]<=P[1])return P[0]=Math.min(g[0],P[0]),p;g[0]<P[1]&&(P[0]=Math.min(g[0],P[0]),C=!0)}}return C?p[p.length-1][1]=g[1]:p.push(g),p}};l.CharacterJoinerService=u=m([v(0,k.IBufferService)],u)},5114:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreBrowserService=void 0,l.CoreBrowserService=class{constructor(d,m){this._textarea=d,this.window=m,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}},8934:function(y,l,d){var m=this&&this.__decorate||function(k,b,u,x){var p,g=arguments.length,C=g<3?b:x===null?x=Object.getOwnPropertyDescriptor(b,u):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(k,b,u,x);else for(var E=k.length-1;E>=0;E--)(p=k[E])&&(C=(g<3?p(C):g>3?p(b,u,C):p(b,u))||C);return g>3&&C&&Object.defineProperty(b,u,C),C},v=this&&this.__param||function(k,b){return function(u,x){b(u,x,k)}};Object.defineProperty(l,"__esModule",{value:!0}),l.MouseService=void 0;const h=d(4725),w=d(9806);let S=l.MouseService=class{constructor(k,b){this._renderService=k,this._charSizeService=b}getCoords(k,b,u,x,p){return(0,w.getCoords)(window,k,b,u,x,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,p)}getMouseReportCoords(k,b){const u=(0,w.getCoordsRelativeToElement)(window,k,b);if(this._charSizeService.hasValidSize)return u[0]=Math.min(Math.max(u[0],0),this._renderService.dimensions.css.canvas.width-1),u[1]=Math.min(Math.max(u[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(u[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(u[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(u[0]),y:Math.floor(u[1])}}};l.MouseService=S=m([v(0,h.IRenderService),v(1,h.ICharSizeService)],S)},3230:function(y,l,d){var m=this&&this.__decorate||function(C,E,P,L){var j,A=arguments.length,z=A<3?E:L===null?L=Object.getOwnPropertyDescriptor(E,P):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(C,E,P,L);else for(var $=C.length-1;$>=0;$--)(j=C[$])&&(z=(A<3?j(z):A>3?j(E,P,z):j(E,P))||z);return A>3&&z&&Object.defineProperty(E,P,z),z},v=this&&this.__param||function(C,E){return function(P,L){E(P,L,C)}};Object.defineProperty(l,"__esModule",{value:!0}),l.RenderService=void 0;const h=d(3656),w=d(6193),S=d(5596),k=d(4725),b=d(8460),u=d(844),x=d(7226),p=d(2585);let g=l.RenderService=class extends u.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(C,E,P,L,j,A,z,$){if(super(),this._rowCount=C,this._charSizeService=L,this._renderer=this.register(new u.MutableDisposable),this._pausedResizeTask=new x.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new b.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new b.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new b.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new b.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new w.RenderDebouncer(z.window,((U,I)=>this._renderRows(U,I))),this.register(this._renderDebouncer),this._screenDprMonitor=new S.ScreenDprMonitor(z.window),this._screenDprMonitor.setListener((()=>this.handleDevicePixelRatioChange())),this.register(this._screenDprMonitor),this.register(A.onResize((()=>this._fullRefresh()))),this.register(A.buffers.onBufferActivate((()=>{var U;return(U=this._renderer.value)===null||U===void 0?void 0:U.clear()}))),this.register(P.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(j.onDecorationRegistered((()=>this._fullRefresh()))),this.register(j.onDecorationRemoved((()=>this._fullRefresh()))),this.register(P.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],(()=>{this.clear(),this.handleResize(A.cols,A.rows),this._fullRefresh()}))),this.register(P.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(A.buffer.y,A.buffer.y,!0)))),this.register((0,h.addDisposableDomListener)(z.window,"resize",(()=>this.handleDevicePixelRatioChange()))),this.register($.onChangeColors((()=>this._fullRefresh()))),"IntersectionObserver"in z.window){const U=new z.window.IntersectionObserver((I=>this._handleIntersectionChange(I[I.length-1])),{threshold:0});U.observe(E),this.register({dispose:()=>U.disconnect()})}}_handleIntersectionChange(C){this._isPaused=C.isIntersecting===void 0?C.intersectionRatio===0:!C.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(C,E,P=!1){this._isPaused?this._needsFullRefresh=!0:(P||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(C,E,this._rowCount))}_renderRows(C,E){this._renderer.value&&(C=Math.min(C,this._rowCount-1),E=Math.min(E,this._rowCount-1),this._renderer.value.renderRows(C,E),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:C,end:E}),this._onRender.fire({start:C,end:E}),this._isNextRenderRedrawOnly=!0)}resize(C,E){this._rowCount=E,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(C){this._renderer.value=C,this._renderer.value.onRequestRedraw((E=>this.refreshRows(E.start,E.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(C){return this._renderDebouncer.addRefreshCallback(C)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var C,E;this._renderer.value&&((E=(C=this._renderer.value).clearTextureAtlas)===null||E===void 0||E.call(C),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(C,E){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>this._renderer.value.handleResize(C,E))):this._renderer.value.handleResize(C,E),this._fullRefresh())}handleCharSizeChanged(){var C;(C=this._renderer.value)===null||C===void 0||C.handleCharSizeChanged()}handleBlur(){var C;(C=this._renderer.value)===null||C===void 0||C.handleBlur()}handleFocus(){var C;(C=this._renderer.value)===null||C===void 0||C.handleFocus()}handleSelectionChanged(C,E,P){var L;this._selectionState.start=C,this._selectionState.end=E,this._selectionState.columnSelectMode=P,(L=this._renderer.value)===null||L===void 0||L.handleSelectionChanged(C,E,P)}handleCursorMove(){var C;(C=this._renderer.value)===null||C===void 0||C.handleCursorMove()}clear(){var C;(C=this._renderer.value)===null||C===void 0||C.clear()}};l.RenderService=g=m([v(2,p.IOptionsService),v(3,k.ICharSizeService),v(4,p.IDecorationService),v(5,p.IBufferService),v(6,k.ICoreBrowserService),v(7,k.IThemeService)],g)},9312:function(y,l,d){var m=this&&this.__decorate||function(j,A,z,$){var U,I=arguments.length,W=I<3?A:$===null?$=Object.getOwnPropertyDescriptor(A,z):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(j,A,z,$);else for(var J=j.length-1;J>=0;J--)(U=j[J])&&(W=(I<3?U(W):I>3?U(A,z,W):U(A,z))||W);return I>3&&W&&Object.defineProperty(A,z,W),W},v=this&&this.__param||function(j,A){return function(z,$){A(z,$,j)}};Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionService=void 0;const h=d(9806),w=d(9504),S=d(456),k=d(4725),b=d(8460),u=d(844),x=d(6114),p=d(4841),g=d(511),C=d(2585),E="",P=new RegExp(E,"g");let L=l.SelectionService=class extends u.Disposable{constructor(j,A,z,$,U,I,W,J,V){super(),this._element=j,this._screenElement=A,this._linkifier=z,this._bufferService=$,this._coreService=U,this._mouseService=I,this._optionsService=W,this._renderService=J,this._coreBrowserService=V,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new g.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new b.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new b.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new b.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new b.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=G=>this._handleMouseMove(G),this._mouseUpListener=G=>this._handleMouseUp(G),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((G=>this._handleTrim(G))),this.register(this._bufferService.buffers.onBufferActivate((G=>this._handleBufferActivate(G)))),this.enable(),this._model=new S.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,u.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const j=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!(!j||!A||j[0]===A[0]&&j[1]===A[1])}get selectionText(){const j=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;if(!j||!A)return"";const z=this._bufferService.buffer,$=[];if(this._activeSelectionMode===3){if(j[0]===A[0])return"";const U=j[0]<A[0]?j[0]:A[0],I=j[0]<A[0]?A[0]:j[0];for(let W=j[1];W<=A[1];W++){const J=z.translateBufferLineToString(W,!0,U,I);$.push(J)}}else{const U=j[1]===A[1]?A[0]:void 0;$.push(z.translateBufferLineToString(j[1],!0,j[0],U));for(let I=j[1]+1;I<=A[1]-1;I++){const W=z.lines.get(I),J=z.translateBufferLineToString(I,!0);W?.isWrapped?$[$.length-1]+=J:$.push(J)}if(j[1]!==A[1]){const I=z.lines.get(A[1]),W=z.translateBufferLineToString(A[1],!0,0,A[0]);I&&I.isWrapped?$[$.length-1]+=W:$.push(W)}}return $.map((U=>U.replace(P," "))).join(x.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(j){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),x.isLinux&&j&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(j){const A=this._getMouseBufferCoords(j),z=this._model.finalSelectionStart,$=this._model.finalSelectionEnd;return!!(z&&$&&A)&&this._areCoordsInSelection(A,z,$)}isCellInSelection(j,A){const z=this._model.finalSelectionStart,$=this._model.finalSelectionEnd;return!(!z||!$)&&this._areCoordsInSelection([j,A],z,$)}_areCoordsInSelection(j,A,z){return j[1]>A[1]&&j[1]<z[1]||A[1]===z[1]&&j[1]===A[1]&&j[0]>=A[0]&&j[0]<z[0]||A[1]<z[1]&&j[1]===z[1]&&j[0]<z[0]||A[1]<z[1]&&j[1]===A[1]&&j[0]>=A[0]}_selectWordAtCursor(j,A){var z,$;const U=($=(z=this._linkifier.currentLink)===null||z===void 0?void 0:z.link)===null||$===void 0?void 0:$.range;if(U)return this._model.selectionStart=[U.start.x-1,U.start.y-1],this._model.selectionStartLength=(0,p.getRangeLength)(U,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const I=this._getMouseBufferCoords(j);return!!I&&(this._selectWordAt(I,A),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(j,A){this._model.clearSelection(),j=Math.max(j,0),A=Math.min(A,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,j],this._model.selectionEnd=[this._bufferService.cols,A],this.refresh(),this._onSelectionChange.fire()}_handleTrim(j){this._model.handleTrim(j)&&this.refresh()}_getMouseBufferCoords(j){const A=this._mouseService.getCoords(j,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(A)return A[0]--,A[1]--,A[1]+=this._bufferService.buffer.ydisp,A}_getMouseEventScrollAmount(j){let A=(0,h.getCoordsRelativeToElement)(this._coreBrowserService.window,j,this._screenElement)[1];const z=this._renderService.dimensions.css.canvas.height;return A>=0&&A<=z?0:(A>z&&(A-=z),A=Math.min(Math.max(A,-50),50),A/=50,A/Math.abs(A)+Math.round(14*A))}shouldForceSelection(j){return x.isMac?j.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:j.shiftKey}handleMouseDown(j){if(this._mouseDownTimeStamp=j.timeStamp,(j.button!==2||!this.hasSelection)&&j.button===0){if(!this._enabled){if(!this.shouldForceSelection(j))return;j.stopPropagation()}j.preventDefault(),this._dragScrollAmount=0,this._enabled&&j.shiftKey?this._handleIncrementalClick(j):j.detail===1?this._handleSingleClick(j):j.detail===2?this._handleDoubleClick(j):j.detail===3&&this._handleTripleClick(j),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(j){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(j))}_handleSingleClick(j){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(j)?3:0,this._model.selectionStart=this._getMouseBufferCoords(j),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const A=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);A&&A.length!==this._model.selectionStart[0]&&A.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(j){this._selectWordAtCursor(j,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(j){const A=this._getMouseBufferCoords(j);A&&(this._activeSelectionMode=2,this._selectLineAt(A[1]))}shouldColumnSelect(j){return j.altKey&&!(x.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(j){if(j.stopImmediatePropagation(),!this._model.selectionStart)return;const A=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(j),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(j),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const z=this._bufferService.buffer;if(this._model.selectionEnd[1]<z.lines.length){const $=z.lines.get(this._model.selectionEnd[1]);$&&$.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}A&&A[0]===this._model.selectionEnd[0]&&A[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const j=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(j.ydisp+this._bufferService.rows,j.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=j.ydisp),this.refresh()}}_handleMouseUp(j){const A=j.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&A<500&&j.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const z=this._mouseService.getCoords(j,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(z&&z[0]!==void 0&&z[1]!==void 0){const $=(0,w.moveToCellSequence)(z[0]-1,z[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent($,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const j=this._model.finalSelectionStart,A=this._model.finalSelectionEnd,z=!(!j||!A||j[0]===A[0]&&j[1]===A[1]);z?j&&A&&(this._oldSelectionStart&&this._oldSelectionEnd&&j[0]===this._oldSelectionStart[0]&&j[1]===this._oldSelectionStart[1]&&A[0]===this._oldSelectionEnd[0]&&A[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(j,A,z)):this._oldHasSelection&&this._fireOnSelectionChange(j,A,z)}_fireOnSelectionChange(j,A,z){this._oldSelectionStart=j,this._oldSelectionEnd=A,this._oldHasSelection=z,this._onSelectionChange.fire()}_handleBufferActivate(j){this.clearSelection(),this._trimListener.dispose(),this._trimListener=j.activeBuffer.lines.onTrim((A=>this._handleTrim(A)))}_convertViewportColToCharacterIndex(j,A){let z=A;for(let $=0;A>=$;$++){const U=j.loadCell($,this._workCell).getChars().length;this._workCell.getWidth()===0?z--:U>1&&A!==$&&(z+=U-1)}return z}setSelection(j,A,z){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[j,A],this._model.selectionStartLength=z,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(j){this._isClickInSelection(j)||(this._selectWordAtCursor(j,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(j,A,z=!0,$=!0){if(j[0]>=this._bufferService.cols)return;const U=this._bufferService.buffer,I=U.lines.get(j[1]);if(!I)return;const W=U.translateBufferLineToString(j[1],!1);let J=this._convertViewportColToCharacterIndex(I,j[0]),V=J;const G=j[0]-J;let D=0,M=0,H=0,O=0;if(W.charAt(J)===" "){for(;J>0&&W.charAt(J-1)===" ";)J--;for(;V<W.length&&W.charAt(V+1)===" ";)V++}else{let ae=j[0],he=j[0];I.getWidth(ae)===0&&(D++,ae--),I.getWidth(he)===2&&(M++,he++);const ye=I.getString(he).length;for(ye>1&&(O+=ye-1,V+=ye-1);ae>0&&J>0&&!this._isCharWordSeparator(I.loadCell(ae-1,this._workCell));){I.loadCell(ae-1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===0?(D++,ae--):B>1&&(H+=B-1,J-=B-1),J--,ae--}for(;he<I.length&&V+1<W.length&&!this._isCharWordSeparator(I.loadCell(he+1,this._workCell));){I.loadCell(he+1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===2?(M++,he++):B>1&&(O+=B-1,V+=B-1),V++,he++}}V++;let K=J+G-D+H,re=Math.min(this._bufferService.cols,V-J+D+M-H-O);if(A||W.slice(J,V).trim()!==""){if(z&&K===0&&I.getCodePoint(0)!==32){const ae=U.lines.get(j[1]-1);if(ae&&I.isWrapped&&ae.getCodePoint(this._bufferService.cols-1)!==32){const he=this._getWordAt([this._bufferService.cols-1,j[1]-1],!1,!0,!1);if(he){const ye=this._bufferService.cols-he.start;K-=ye,re+=ye}}}if($&&K+re===this._bufferService.cols&&I.getCodePoint(this._bufferService.cols-1)!==32){const ae=U.lines.get(j[1]+1);if(ae?.isWrapped&&ae.getCodePoint(0)!==32){const he=this._getWordAt([0,j[1]+1],!1,!1,!0);he&&(re+=he.length)}}return{start:K,length:re}}}_selectWordAt(j,A){const z=this._getWordAt(j,A);if(z){for(;z.start<0;)z.start+=this._bufferService.cols,j[1]--;this._model.selectionStart=[z.start,j[1]],this._model.selectionStartLength=z.length}}_selectToWordAt(j){const A=this._getWordAt(j,!0);if(A){let z=j[1];for(;A.start<0;)A.start+=this._bufferService.cols,z--;if(!this._model.areSelectionValuesReversed())for(;A.start+A.length>this._bufferService.cols;)A.length-=this._bufferService.cols,z++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?A.start:A.start+A.length,z]}}_isCharWordSeparator(j){return j.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(j.getChars())>=0}_selectLineAt(j){const A=this._bufferService.buffer.getWrappedRangeForLine(j),z={start:{x:0,y:A.first},end:{x:this._bufferService.cols-1,y:A.last}};this._model.selectionStart=[0,A.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,p.getRangeLength)(z,this._bufferService.cols)}};l.SelectionService=L=m([v(3,C.IBufferService),v(4,C.ICoreService),v(5,k.IMouseService),v(6,C.IOptionsService),v(7,k.IRenderService),v(8,k.ICoreBrowserService)],L)},4725:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IThemeService=l.ICharacterJoinerService=l.ISelectionService=l.IRenderService=l.IMouseService=l.ICoreBrowserService=l.ICharSizeService=void 0;const m=d(8343);l.ICharSizeService=(0,m.createDecorator)("CharSizeService"),l.ICoreBrowserService=(0,m.createDecorator)("CoreBrowserService"),l.IMouseService=(0,m.createDecorator)("MouseService"),l.IRenderService=(0,m.createDecorator)("RenderService"),l.ISelectionService=(0,m.createDecorator)("SelectionService"),l.ICharacterJoinerService=(0,m.createDecorator)("CharacterJoinerService"),l.IThemeService=(0,m.createDecorator)("ThemeService")},6731:function(y,l,d){var m=this&&this.__decorate||function(L,j,A,z){var $,U=arguments.length,I=U<3?j:z===null?z=Object.getOwnPropertyDescriptor(j,A):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(L,j,A,z);else for(var W=L.length-1;W>=0;W--)($=L[W])&&(I=(U<3?$(I):U>3?$(j,A,I):$(j,A))||I);return U>3&&I&&Object.defineProperty(j,A,I),I},v=this&&this.__param||function(L,j){return function(A,z){j(A,z,L)}};Object.defineProperty(l,"__esModule",{value:!0}),l.ThemeService=l.DEFAULT_ANSI_COLORS=void 0;const h=d(7239),w=d(8055),S=d(8460),k=d(844),b=d(2585),u=w.css.toColor("#ffffff"),x=w.css.toColor("#000000"),p=w.css.toColor("#ffffff"),g=w.css.toColor("#000000"),C={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};l.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const L=[w.css.toColor("#2e3436"),w.css.toColor("#cc0000"),w.css.toColor("#4e9a06"),w.css.toColor("#c4a000"),w.css.toColor("#3465a4"),w.css.toColor("#75507b"),w.css.toColor("#06989a"),w.css.toColor("#d3d7cf"),w.css.toColor("#555753"),w.css.toColor("#ef2929"),w.css.toColor("#8ae234"),w.css.toColor("#fce94f"),w.css.toColor("#729fcf"),w.css.toColor("#ad7fa8"),w.css.toColor("#34e2e2"),w.css.toColor("#eeeeec")],j=[0,95,135,175,215,255];for(let A=0;A<216;A++){const z=j[A/36%6|0],$=j[A/6%6|0],U=j[A%6];L.push({css:w.channels.toCss(z,$,U),rgba:w.channels.toRgba(z,$,U)})}for(let A=0;A<24;A++){const z=8+10*A;L.push({css:w.channels.toCss(z,z,z),rgba:w.channels.toRgba(z,z,z)})}return L})());let E=l.ThemeService=class extends k.Disposable{get colors(){return this._colors}constructor(L){super(),this._optionsService=L,this._contrastCache=new h.ColorContrastCache,this._halfContrastCache=new h.ColorContrastCache,this._onChangeColors=this.register(new S.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:u,background:x,cursor:p,cursorAccent:g,selectionForeground:void 0,selectionBackgroundTransparent:C,selectionBackgroundOpaque:w.color.blend(x,C),selectionInactiveBackgroundTransparent:C,selectionInactiveBackgroundOpaque:w.color.blend(x,C),ansi:l.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(L={}){const j=this._colors;if(j.foreground=P(L.foreground,u),j.background=P(L.background,x),j.cursor=P(L.cursor,p),j.cursorAccent=P(L.cursorAccent,g),j.selectionBackgroundTransparent=P(L.selectionBackground,C),j.selectionBackgroundOpaque=w.color.blend(j.background,j.selectionBackgroundTransparent),j.selectionInactiveBackgroundTransparent=P(L.selectionInactiveBackground,j.selectionBackgroundTransparent),j.selectionInactiveBackgroundOpaque=w.color.blend(j.background,j.selectionInactiveBackgroundTransparent),j.selectionForeground=L.selectionForeground?P(L.selectionForeground,w.NULL_COLOR):void 0,j.selectionForeground===w.NULL_COLOR&&(j.selectionForeground=void 0),w.color.isOpaque(j.selectionBackgroundTransparent)&&(j.selectionBackgroundTransparent=w.color.opacity(j.selectionBackgroundTransparent,.3)),w.color.isOpaque(j.selectionInactiveBackgroundTransparent)&&(j.selectionInactiveBackgroundTransparent=w.color.opacity(j.selectionInactiveBackgroundTransparent,.3)),j.ansi=l.DEFAULT_ANSI_COLORS.slice(),j.ansi[0]=P(L.black,l.DEFAULT_ANSI_COLORS[0]),j.ansi[1]=P(L.red,l.DEFAULT_ANSI_COLORS[1]),j.ansi[2]=P(L.green,l.DEFAULT_ANSI_COLORS[2]),j.ansi[3]=P(L.yellow,l.DEFAULT_ANSI_COLORS[3]),j.ansi[4]=P(L.blue,l.DEFAULT_ANSI_COLORS[4]),j.ansi[5]=P(L.magenta,l.DEFAULT_ANSI_COLORS[5]),j.ansi[6]=P(L.cyan,l.DEFAULT_ANSI_COLORS[6]),j.ansi[7]=P(L.white,l.DEFAULT_ANSI_COLORS[7]),j.ansi[8]=P(L.brightBlack,l.DEFAULT_ANSI_COLORS[8]),j.ansi[9]=P(L.brightRed,l.DEFAULT_ANSI_COLORS[9]),j.ansi[10]=P(L.brightGreen,l.DEFAULT_ANSI_COLORS[10]),j.ansi[11]=P(L.brightYellow,l.DEFAULT_ANSI_COLORS[11]),j.ansi[12]=P(L.brightBlue,l.DEFAULT_ANSI_COLORS[12]),j.ansi[13]=P(L.brightMagenta,l.DEFAULT_ANSI_COLORS[13]),j.ansi[14]=P(L.brightCyan,l.DEFAULT_ANSI_COLORS[14]),j.ansi[15]=P(L.brightWhite,l.DEFAULT_ANSI_COLORS[15]),L.extendedAnsi){const A=Math.min(j.ansi.length-16,L.extendedAnsi.length);for(let z=0;z<A;z++)j.ansi[z+16]=P(L.extendedAnsi[z],l.DEFAULT_ANSI_COLORS[z+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(L){this._restoreColor(L),this._onChangeColors.fire(this.colors)}_restoreColor(L){if(L!==void 0)switch(L){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[L]=this._restoreColors.ansi[L]}else for(let j=0;j<this._restoreColors.ansi.length;++j)this._colors.ansi[j]=this._restoreColors.ansi[j]}modifyColors(L){L(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function P(L,j){if(L!==void 0)try{return w.css.toColor(L)}catch{}return j}l.ThemeService=E=m([v(0,b.IOptionsService)],E)},6349:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CircularList=void 0;const m=d(8460),v=d(844);class h extends v.Disposable{constructor(S){super(),this._maxLength=S,this.onDeleteEmitter=this.register(new m.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new m.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new m.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(S){if(this._maxLength===S)return;const k=new Array(S);for(let b=0;b<Math.min(S,this.length);b++)k[b]=this._array[this._getCyclicIndex(b)];this._array=k,this._maxLength=S,this._startIndex=0}get length(){return this._length}set length(S){if(S>this._length)for(let k=this._length;k<S;k++)this._array[k]=void 0;this._length=S}get(S){return this._array[this._getCyclicIndex(S)]}set(S,k){this._array[this._getCyclicIndex(S)]=k}push(S){this._array[this._getCyclicIndex(this._length)]=S,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(S,k,...b){if(k){for(let u=S;u<this._length-k;u++)this._array[this._getCyclicIndex(u)]=this._array[this._getCyclicIndex(u+k)];this._length-=k,this.onDeleteEmitter.fire({index:S,amount:k})}for(let u=this._length-1;u>=S;u--)this._array[this._getCyclicIndex(u+b.length)]=this._array[this._getCyclicIndex(u)];for(let u=0;u<b.length;u++)this._array[this._getCyclicIndex(S+u)]=b[u];if(b.length&&this.onInsertEmitter.fire({index:S,amount:b.length}),this._length+b.length>this._maxLength){const u=this._length+b.length-this._maxLength;this._startIndex+=u,this._length=this._maxLength,this.onTrimEmitter.fire(u)}else this._length+=b.length}trimStart(S){S>this._length&&(S=this._length),this._startIndex+=S,this._length-=S,this.onTrimEmitter.fire(S)}shiftElements(S,k,b){if(!(k<=0)){if(S<0||S>=this._length)throw new Error("start argument out of range");if(S+b<0)throw new Error("Cannot shift elements in list beyond index 0");if(b>0){for(let x=k-1;x>=0;x--)this.set(S+x+b,this.get(S+x));const u=S+k+b-this._length;if(u>0)for(this._length+=u;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let u=0;u<k;u++)this.set(S+u+b,this.get(S+u))}}_getCyclicIndex(S){return(this._startIndex+S)%this._maxLength}}l.CircularList=h},1439:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.clone=void 0,l.clone=function d(m,v=5){if(typeof m!="object")return m;const h=Array.isArray(m)?[]:{};for(const w in m)h[w]=v<=1?m[w]:m[w]&&d(m[w],v-1);return h}},8055:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.contrastRatio=l.toPaddedHex=l.rgba=l.rgb=l.css=l.color=l.channels=l.NULL_COLOR=void 0;const m=d(6114);let v=0,h=0,w=0,S=0;var k,b,u,x,p;function g(E){const P=E.toString(16);return P.length<2?"0"+P:P}function C(E,P){return E<P?(P+.05)/(E+.05):(E+.05)/(P+.05)}l.NULL_COLOR={css:"#00000000",rgba:0},(function(E){E.toCss=function(P,L,j,A){return A!==void 0?`#${g(P)}${g(L)}${g(j)}${g(A)}`:`#${g(P)}${g(L)}${g(j)}`},E.toRgba=function(P,L,j,A=255){return(P<<24|L<<16|j<<8|A)>>>0}})(k||(l.channels=k={})),(function(E){function P(L,j){return S=Math.round(255*j),[v,h,w]=p.toChannels(L.rgba),{css:k.toCss(v,h,w,S),rgba:k.toRgba(v,h,w,S)}}E.blend=function(L,j){if(S=(255&j.rgba)/255,S===1)return{css:j.css,rgba:j.rgba};const A=j.rgba>>24&255,z=j.rgba>>16&255,$=j.rgba>>8&255,U=L.rgba>>24&255,I=L.rgba>>16&255,W=L.rgba>>8&255;return v=U+Math.round((A-U)*S),h=I+Math.round((z-I)*S),w=W+Math.round(($-W)*S),{css:k.toCss(v,h,w),rgba:k.toRgba(v,h,w)}},E.isOpaque=function(L){return(255&L.rgba)==255},E.ensureContrastRatio=function(L,j,A){const z=p.ensureContrastRatio(L.rgba,j.rgba,A);if(z)return p.toColor(z>>24&255,z>>16&255,z>>8&255)},E.opaque=function(L){const j=(255|L.rgba)>>>0;return[v,h,w]=p.toChannels(j),{css:k.toCss(v,h,w),rgba:j}},E.opacity=P,E.multiplyOpacity=function(L,j){return S=255&L.rgba,P(L,S*j/255)},E.toColorRGB=function(L){return[L.rgba>>24&255,L.rgba>>16&255,L.rgba>>8&255]}})(b||(l.color=b={})),(function(E){let P,L;if(!m.isNode){const j=document.createElement("canvas");j.width=1,j.height=1;const A=j.getContext("2d",{willReadFrequently:!0});A&&(P=A,P.globalCompositeOperation="copy",L=P.createLinearGradient(0,0,1,1))}E.toColor=function(j){if(j.match(/#[\da-f]{3,8}/i))switch(j.length){case 4:return v=parseInt(j.slice(1,2).repeat(2),16),h=parseInt(j.slice(2,3).repeat(2),16),w=parseInt(j.slice(3,4).repeat(2),16),p.toColor(v,h,w);case 5:return v=parseInt(j.slice(1,2).repeat(2),16),h=parseInt(j.slice(2,3).repeat(2),16),w=parseInt(j.slice(3,4).repeat(2),16),S=parseInt(j.slice(4,5).repeat(2),16),p.toColor(v,h,w,S);case 7:return{css:j,rgba:(parseInt(j.slice(1),16)<<8|255)>>>0};case 9:return{css:j,rgba:parseInt(j.slice(1),16)>>>0}}const A=j.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(A)return v=parseInt(A[1]),h=parseInt(A[2]),w=parseInt(A[3]),S=Math.round(255*(A[5]===void 0?1:parseFloat(A[5]))),p.toColor(v,h,w,S);if(!P||!L)throw new Error("css.toColor: Unsupported css format");if(P.fillStyle=L,P.fillStyle=j,typeof P.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(P.fillRect(0,0,1,1),[v,h,w,S]=P.getImageData(0,0,1,1).data,S!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:k.toRgba(v,h,w,S),css:j}}})(u||(l.css=u={})),(function(E){function P(L,j,A){const z=L/255,$=j/255,U=A/255;return .2126*(z<=.03928?z/12.92:Math.pow((z+.055)/1.055,2.4))+.7152*($<=.03928?$/12.92:Math.pow(($+.055)/1.055,2.4))+.0722*(U<=.03928?U/12.92:Math.pow((U+.055)/1.055,2.4))}E.relativeLuminance=function(L){return P(L>>16&255,L>>8&255,255&L)},E.relativeLuminance2=P})(x||(l.rgb=x={})),(function(E){function P(j,A,z){const $=j>>24&255,U=j>>16&255,I=j>>8&255;let W=A>>24&255,J=A>>16&255,V=A>>8&255,G=C(x.relativeLuminance2(W,J,V),x.relativeLuminance2($,U,I));for(;G<z&&(W>0||J>0||V>0);)W-=Math.max(0,Math.ceil(.1*W)),J-=Math.max(0,Math.ceil(.1*J)),V-=Math.max(0,Math.ceil(.1*V)),G=C(x.relativeLuminance2(W,J,V),x.relativeLuminance2($,U,I));return(W<<24|J<<16|V<<8|255)>>>0}function L(j,A,z){const $=j>>24&255,U=j>>16&255,I=j>>8&255;let W=A>>24&255,J=A>>16&255,V=A>>8&255,G=C(x.relativeLuminance2(W,J,V),x.relativeLuminance2($,U,I));for(;G<z&&(W<255||J<255||V<255);)W=Math.min(255,W+Math.ceil(.1*(255-W))),J=Math.min(255,J+Math.ceil(.1*(255-J))),V=Math.min(255,V+Math.ceil(.1*(255-V))),G=C(x.relativeLuminance2(W,J,V),x.relativeLuminance2($,U,I));return(W<<24|J<<16|V<<8|255)>>>0}E.ensureContrastRatio=function(j,A,z){const $=x.relativeLuminance(j>>8),U=x.relativeLuminance(A>>8);if(C($,U)<z){if(U<$){const J=P(j,A,z),V=C($,x.relativeLuminance(J>>8));if(V<z){const G=L(j,A,z);return V>C($,x.relativeLuminance(G>>8))?J:G}return J}const I=L(j,A,z),W=C($,x.relativeLuminance(I>>8));if(W<z){const J=P(j,A,z);return W>C($,x.relativeLuminance(J>>8))?I:J}return I}},E.reduceLuminance=P,E.increaseLuminance=L,E.toChannels=function(j){return[j>>24&255,j>>16&255,j>>8&255,255&j]},E.toColor=function(j,A,z,$){return{css:k.toCss(j,A,z,$),rgba:k.toRgba(j,A,z,$)}}})(p||(l.rgba=p={})),l.toPaddedHex=g,l.contrastRatio=C},8969:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreTerminal=void 0;const m=d(844),v=d(2585),h=d(4348),w=d(7866),S=d(744),k=d(7302),b=d(6975),u=d(8460),x=d(1753),p=d(1480),g=d(7994),C=d(9282),E=d(5435),P=d(5981),L=d(2660);let j=!1;class A extends m.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new u.EventEmitter),this._onScroll.event(($=>{var U;(U=this._onScrollApi)===null||U===void 0||U.fire($.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options($){for(const U in $)this.optionsService.options[U]=$[U]}constructor($){super(),this._windowsWrappingHeuristics=this.register(new m.MutableDisposable),this._onBinary=this.register(new u.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new u.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new u.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new u.EventEmitter),this._instantiationService=new h.InstantiationService,this.optionsService=this.register(new k.OptionsService($)),this._instantiationService.setService(v.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(S.BufferService)),this._instantiationService.setService(v.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(w.LogService)),this._instantiationService.setService(v.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(b.CoreService)),this._instantiationService.setService(v.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(x.CoreMouseService)),this._instantiationService.setService(v.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(p.UnicodeService)),this._instantiationService.setService(v.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(g.CharsetService),this._instantiationService.setService(v.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(L.OscLinkService),this._instantiationService.setService(v.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new E.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,u.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,u.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,u.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,u.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((U=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((U=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new P.WriteBuffer(((U,I)=>this._inputHandler.parse(U,I)))),this.register((0,u.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write($,U){this._writeBuffer.write($,U)}writeSync($,U){this._logService.logLevel<=v.LogLevelEnum.WARN&&!j&&(this._logService.warn("writeSync is unreliable and will be removed soon."),j=!0),this._writeBuffer.writeSync($,U)}resize($,U){isNaN($)||isNaN(U)||($=Math.max($,S.MINIMUM_COLS),U=Math.max(U,S.MINIMUM_ROWS),this._bufferService.resize($,U))}scroll($,U=!1){this._bufferService.scroll($,U)}scrollLines($,U,I){this._bufferService.scrollLines($,U,I)}scrollPages($){this.scrollLines($*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine($){const U=$-this._bufferService.buffer.ydisp;U!==0&&this.scrollLines(U)}registerEscHandler($,U){return this._inputHandler.registerEscHandler($,U)}registerDcsHandler($,U){return this._inputHandler.registerDcsHandler($,U)}registerCsiHandler($,U){return this._inputHandler.registerCsiHandler($,U)}registerOscHandler($,U){return this._inputHandler.registerOscHandler($,U)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let $=!1;const U=this.optionsService.rawOptions.windowsPty;U&&U.buildNumber!==void 0&&U.buildNumber!==void 0?$=U.backend==="conpty"&&U.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&($=!0),$?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const $=[];$.push(this.onLineFeed(C.updateWindowsModeWrappedState.bind(null,this._bufferService))),$.push(this.registerCsiHandler({final:"H"},(()=>((0,C.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,m.toDisposable)((()=>{for(const U of $)U.dispose()}))}}}l.CoreTerminal=A},8460:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.forwardEvent=l.EventEmitter=void 0,l.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=d=>(this._listeners.push(d),{dispose:()=>{if(!this._disposed){for(let m=0;m<this._listeners.length;m++)if(this._listeners[m]===d)return void this._listeners.splice(m,1)}}})),this._event}fire(d,m){const v=[];for(let h=0;h<this._listeners.length;h++)v.push(this._listeners[h]);for(let h=0;h<v.length;h++)v[h].call(void 0,d,m)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},l.forwardEvent=function(d,m){return d((v=>m.fire(v)))}},5435:function(y,l,d){var m=this&&this.__decorate||function(G,D,M,H){var O,K=arguments.length,re=K<3?D:H===null?H=Object.getOwnPropertyDescriptor(D,M):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(G,D,M,H);else for(var ae=G.length-1;ae>=0;ae--)(O=G[ae])&&(re=(K<3?O(re):K>3?O(D,M,re):O(D,M))||re);return K>3&&re&&Object.defineProperty(D,M,re),re},v=this&&this.__param||function(G,D){return function(M,H){D(M,H,G)}};Object.defineProperty(l,"__esModule",{value:!0}),l.InputHandler=l.WindowsOptionsReportType=void 0;const h=d(2584),w=d(7116),S=d(2015),k=d(844),b=d(482),u=d(8437),x=d(8460),p=d(643),g=d(511),C=d(3734),E=d(2585),P=d(6242),L=d(6351),j=d(5941),A={"(":0,")":1,"*":2,"+":3,"-":1,".":2},z=131072;function $(G,D){if(G>24)return D.setWinLines||!1;switch(G){case 1:return!!D.restoreWin;case 2:return!!D.minimizeWin;case 3:return!!D.setWinPosition;case 4:return!!D.setWinSizePixels;case 5:return!!D.raiseWin;case 6:return!!D.lowerWin;case 7:return!!D.refreshWin;case 8:return!!D.setWinSizeChars;case 9:return!!D.maximizeWin;case 10:return!!D.fullscreenWin;case 11:return!!D.getWinState;case 13:return!!D.getWinPosition;case 14:return!!D.getWinSizePixels;case 15:return!!D.getScreenSizePixels;case 16:return!!D.getCellSizePixels;case 18:return!!D.getWinSizeChars;case 19:return!!D.getScreenSizeChars;case 20:return!!D.getIconTitle;case 21:return!!D.getWinTitle;case 22:return!!D.pushTitle;case 23:return!!D.popTitle;case 24:return!!D.setWinLines}return!1}var U;(function(G){G[G.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",G[G.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(U||(l.WindowsOptionsReportType=U={}));let I=0;class W extends k.Disposable{getAttrData(){return this._curAttrData}constructor(D,M,H,O,K,re,ae,he,ye=new S.EscapeSequenceParser){super(),this._bufferService=D,this._charsetService=M,this._coreService=H,this._logService=O,this._optionsService=K,this._oscLinkService=re,this._coreMouseService=ae,this._unicodeService=he,this._parser=ye,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new b.StringToUtf32,this._utf8Decoder=new b.Utf8ToUtf32,this._workCell=new g.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new x.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new x.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new x.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new x.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new x.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new x.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new x.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new x.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new x.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new x.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new x.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new x.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new x.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new J(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((B=>this._activeBuffer=B.activeBuffer))),this._parser.setCsiHandlerFallback(((B,X)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(B),params:X.toArray()})})),this._parser.setEscHandlerFallback((B=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(B)})})),this._parser.setExecuteHandlerFallback((B=>{this._logService.debug("Unknown EXECUTE code: ",{code:B})})),this._parser.setOscHandlerFallback(((B,X,ie)=>{this._logService.debug("Unknown OSC code: ",{identifier:B,action:X,data:ie})})),this._parser.setDcsHandlerFallback(((B,X,ie)=>{X==="HOOK"&&(ie=ie.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(B),action:X,payload:ie})})),this._parser.setPrintHandler(((B,X,ie)=>this.print(B,X,ie))),this._parser.registerCsiHandler({final:"@"},(B=>this.insertChars(B))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(B=>this.scrollLeft(B))),this._parser.registerCsiHandler({final:"A"},(B=>this.cursorUp(B))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(B=>this.scrollRight(B))),this._parser.registerCsiHandler({final:"B"},(B=>this.cursorDown(B))),this._parser.registerCsiHandler({final:"C"},(B=>this.cursorForward(B))),this._parser.registerCsiHandler({final:"D"},(B=>this.cursorBackward(B))),this._parser.registerCsiHandler({final:"E"},(B=>this.cursorNextLine(B))),this._parser.registerCsiHandler({final:"F"},(B=>this.cursorPrecedingLine(B))),this._parser.registerCsiHandler({final:"G"},(B=>this.cursorCharAbsolute(B))),this._parser.registerCsiHandler({final:"H"},(B=>this.cursorPosition(B))),this._parser.registerCsiHandler({final:"I"},(B=>this.cursorForwardTab(B))),this._parser.registerCsiHandler({final:"J"},(B=>this.eraseInDisplay(B,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(B=>this.eraseInDisplay(B,!0))),this._parser.registerCsiHandler({final:"K"},(B=>this.eraseInLine(B,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(B=>this.eraseInLine(B,!0))),this._parser.registerCsiHandler({final:"L"},(B=>this.insertLines(B))),this._parser.registerCsiHandler({final:"M"},(B=>this.deleteLines(B))),this._parser.registerCsiHandler({final:"P"},(B=>this.deleteChars(B))),this._parser.registerCsiHandler({final:"S"},(B=>this.scrollUp(B))),this._parser.registerCsiHandler({final:"T"},(B=>this.scrollDown(B))),this._parser.registerCsiHandler({final:"X"},(B=>this.eraseChars(B))),this._parser.registerCsiHandler({final:"Z"},(B=>this.cursorBackwardTab(B))),this._parser.registerCsiHandler({final:"`"},(B=>this.charPosAbsolute(B))),this._parser.registerCsiHandler({final:"a"},(B=>this.hPositionRelative(B))),this._parser.registerCsiHandler({final:"b"},(B=>this.repeatPrecedingCharacter(B))),this._parser.registerCsiHandler({final:"c"},(B=>this.sendDeviceAttributesPrimary(B))),this._parser.registerCsiHandler({prefix:">",final:"c"},(B=>this.sendDeviceAttributesSecondary(B))),this._parser.registerCsiHandler({final:"d"},(B=>this.linePosAbsolute(B))),this._parser.registerCsiHandler({final:"e"},(B=>this.vPositionRelative(B))),this._parser.registerCsiHandler({final:"f"},(B=>this.hVPosition(B))),this._parser.registerCsiHandler({final:"g"},(B=>this.tabClear(B))),this._parser.registerCsiHandler({final:"h"},(B=>this.setMode(B))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(B=>this.setModePrivate(B))),this._parser.registerCsiHandler({final:"l"},(B=>this.resetMode(B))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(B=>this.resetModePrivate(B))),this._parser.registerCsiHandler({final:"m"},(B=>this.charAttributes(B))),this._parser.registerCsiHandler({final:"n"},(B=>this.deviceStatus(B))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(B=>this.deviceStatusPrivate(B))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(B=>this.softReset(B))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(B=>this.setCursorStyle(B))),this._parser.registerCsiHandler({final:"r"},(B=>this.setScrollRegion(B))),this._parser.registerCsiHandler({final:"s"},(B=>this.saveCursor(B))),this._parser.registerCsiHandler({final:"t"},(B=>this.windowOptions(B))),this._parser.registerCsiHandler({final:"u"},(B=>this.restoreCursor(B))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(B=>this.insertColumns(B))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(B=>this.deleteColumns(B))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(B=>this.selectProtected(B))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(B=>this.requestMode(B,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(B=>this.requestMode(B,!1))),this._parser.setExecuteHandler(h.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(h.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(h.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(h.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(h.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(h.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(h.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(h.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(h.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(h.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(h.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(h.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new P.OscHandler((B=>(this.setTitle(B),this.setIconName(B),!0)))),this._parser.registerOscHandler(1,new P.OscHandler((B=>this.setIconName(B)))),this._parser.registerOscHandler(2,new P.OscHandler((B=>this.setTitle(B)))),this._parser.registerOscHandler(4,new P.OscHandler((B=>this.setOrReportIndexedColor(B)))),this._parser.registerOscHandler(8,new P.OscHandler((B=>this.setHyperlink(B)))),this._parser.registerOscHandler(10,new P.OscHandler((B=>this.setOrReportFgColor(B)))),this._parser.registerOscHandler(11,new P.OscHandler((B=>this.setOrReportBgColor(B)))),this._parser.registerOscHandler(12,new P.OscHandler((B=>this.setOrReportCursorColor(B)))),this._parser.registerOscHandler(104,new P.OscHandler((B=>this.restoreIndexedColor(B)))),this._parser.registerOscHandler(110,new P.OscHandler((B=>this.restoreFgColor(B)))),this._parser.registerOscHandler(111,new P.OscHandler((B=>this.restoreBgColor(B)))),this._parser.registerOscHandler(112,new P.OscHandler((B=>this.restoreCursorColor(B)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const B in w.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:B},(()=>this.selectCharset("("+B))),this._parser.registerEscHandler({intermediates:")",final:B},(()=>this.selectCharset(")"+B))),this._parser.registerEscHandler({intermediates:"*",final:B},(()=>this.selectCharset("*"+B))),this._parser.registerEscHandler({intermediates:"+",final:B},(()=>this.selectCharset("+"+B))),this._parser.registerEscHandler({intermediates:"-",final:B},(()=>this.selectCharset("-"+B))),this._parser.registerEscHandler({intermediates:".",final:B},(()=>this.selectCharset("."+B))),this._parser.registerEscHandler({intermediates:"/",final:B},(()=>this.selectCharset("/"+B)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((B=>(this._logService.error("Parsing error: ",B),B))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new L.DcsHandler(((B,X)=>this.requestStatusString(B,X))))}_preserveStack(D,M,H,O){this._parseStack.paused=!0,this._parseStack.cursorStartX=D,this._parseStack.cursorStartY=M,this._parseStack.decodedLength=H,this._parseStack.position=O}_logSlowResolvingAsync(D){this._logService.logLevel<=E.LogLevelEnum.WARN&&Promise.race([D,new Promise(((M,H)=>setTimeout((()=>H("#SLOW_TIMEOUT")),5e3)))]).catch((M=>{if(M!=="#SLOW_TIMEOUT")throw M;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(D,M){let H,O=this._activeBuffer.x,K=this._activeBuffer.y,re=0;const ae=this._parseStack.paused;if(ae){if(H=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,M))return this._logSlowResolvingAsync(H),H;O=this._parseStack.cursorStartX,K=this._parseStack.cursorStartY,this._parseStack.paused=!1,D.length>z&&(re=this._parseStack.position+z)}if(this._logService.logLevel<=E.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof D=="string"?` "${D}"`:` "${Array.prototype.map.call(D,(he=>String.fromCharCode(he))).join("")}"`),typeof D=="string"?D.split("").map((he=>he.charCodeAt(0))):D),this._parseBuffer.length<D.length&&this._parseBuffer.length<z&&(this._parseBuffer=new Uint32Array(Math.min(D.length,z))),ae||this._dirtyRowTracker.clearRange(),D.length>z)for(let he=re;he<D.length;he+=z){const ye=he+z<D.length?he+z:D.length,B=typeof D=="string"?this._stringDecoder.decode(D.substring(he,ye),this._parseBuffer):this._utf8Decoder.decode(D.subarray(he,ye),this._parseBuffer);if(H=this._parser.parse(this._parseBuffer,B))return this._preserveStack(O,K,B,he),this._logSlowResolvingAsync(H),H}else if(!ae){const he=typeof D=="string"?this._stringDecoder.decode(D,this._parseBuffer):this._utf8Decoder.decode(D,this._parseBuffer);if(H=this._parser.parse(this._parseBuffer,he))return this._preserveStack(O,K,he,0),this._logSlowResolvingAsync(H),H}this._activeBuffer.x===O&&this._activeBuffer.y===K||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(D,M,H){let O,K;const re=this._charsetService.charset,ae=this._optionsService.rawOptions.screenReaderMode,he=this._bufferService.cols,ye=this._coreService.decPrivateModes.wraparound,B=this._coreService.modes.insertMode,X=this._curAttrData;let ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&H-M>0&&ie.getWidth(this._activeBuffer.x-1)===2&&ie.setCellFromCodePoint(this._activeBuffer.x-1,0,1,X.fg,X.bg,X.extended);for(let oe=M;oe<H;++oe){if(O=D[oe],K=this._unicodeService.wcwidth(O),O<127&&re){const Ne=re[String.fromCharCode(O)];Ne&&(O=Ne.charCodeAt(0))}if(ae&&this._onA11yChar.fire((0,b.stringFromCodePoint)(O)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),K||!this._activeBuffer.x){if(this._activeBuffer.x+K-1>=he){if(ye){for(;this._activeBuffer.x<he;)ie.setCellFromCodePoint(this._activeBuffer.x++,0,1,X.fg,X.bg,X.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ie=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=he-1,K===2)continue}if(B&&(ie.insertCells(this._activeBuffer.x,K,this._activeBuffer.getNullCell(X),X),ie.getWidth(he-1)===2&&ie.setCellFromCodePoint(he-1,p.NULL_CELL_CODE,p.NULL_CELL_WIDTH,X.fg,X.bg,X.extended)),ie.setCellFromCodePoint(this._activeBuffer.x++,O,K,X.fg,X.bg,X.extended),K>0)for(;--K;)ie.setCellFromCodePoint(this._activeBuffer.x++,0,0,X.fg,X.bg,X.extended)}else ie.getWidth(this._activeBuffer.x-1)?ie.addCodepointToCell(this._activeBuffer.x-1,O):ie.addCodepointToCell(this._activeBuffer.x-2,O)}H-M>0&&(ie.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<he&&H-M>0&&ie.getWidth(this._activeBuffer.x)===0&&!ie.hasContent(this._activeBuffer.x)&&ie.setCellFromCodePoint(this._activeBuffer.x,0,1,X.fg,X.bg,X.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(D,M){return D.final!=="t"||D.prefix||D.intermediates?this._parser.registerCsiHandler(D,M):this._parser.registerCsiHandler(D,(H=>!$(H.params[0],this._optionsService.rawOptions.windowOptions)||M(H)))}registerDcsHandler(D,M){return this._parser.registerDcsHandler(D,new L.DcsHandler(M))}registerEscHandler(D,M){return this._parser.registerEscHandler(D,M)}registerOscHandler(D,M){return this._parser.registerOscHandler(D,new P.OscHandler(M))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var D;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||D===void 0)&&D.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);M.hasWidth(this._activeBuffer.x)&&!M.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const D=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-D),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(D=this._bufferService.cols-1){this._activeBuffer.x=Math.min(D,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(D,M){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=D,this._activeBuffer.y=this._activeBuffer.scrollTop+M):(this._activeBuffer.x=D,this._activeBuffer.y=M),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(D,M){this._restrictCursor(),this._setCursor(this._activeBuffer.x+D,this._activeBuffer.y+M)}cursorUp(D){const M=this._activeBuffer.y-this._activeBuffer.scrollTop;return M>=0?this._moveCursor(0,-Math.min(M,D.params[0]||1)):this._moveCursor(0,-(D.params[0]||1)),!0}cursorDown(D){const M=this._activeBuffer.scrollBottom-this._activeBuffer.y;return M>=0?this._moveCursor(0,Math.min(M,D.params[0]||1)):this._moveCursor(0,D.params[0]||1),!0}cursorForward(D){return this._moveCursor(D.params[0]||1,0),!0}cursorBackward(D){return this._moveCursor(-(D.params[0]||1),0),!0}cursorNextLine(D){return this.cursorDown(D),this._activeBuffer.x=0,!0}cursorPrecedingLine(D){return this.cursorUp(D),this._activeBuffer.x=0,!0}cursorCharAbsolute(D){return this._setCursor((D.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(D){return this._setCursor(D.length>=2?(D.params[1]||1)-1:0,(D.params[0]||1)-1),!0}charPosAbsolute(D){return this._setCursor((D.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(D){return this._moveCursor(D.params[0]||1,0),!0}linePosAbsolute(D){return this._setCursor(this._activeBuffer.x,(D.params[0]||1)-1),!0}vPositionRelative(D){return this._moveCursor(0,D.params[0]||1),!0}hVPosition(D){return this.cursorPosition(D),!0}tabClear(D){const M=D.params[0];return M===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:M===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(D){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=D.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(D){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let M=D.params[0]||1;for(;M--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(D){const M=D.params[0];return M===1&&(this._curAttrData.bg|=536870912),M!==2&&M!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(D,M,H,O=!1,K=!1){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);re.replaceCells(M,H,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),K),O&&(re.isWrapped=!1)}_resetBufferLine(D,M=!1){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);H&&(H.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),M),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+D),H.isWrapped=!1)}eraseInDisplay(D,M=!1){let H;switch(this._restrictCursor(this._bufferService.cols),D.params[0]){case 0:for(H=this._activeBuffer.y,this._dirtyRowTracker.markDirty(H),this._eraseInBufferLine(H++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);H<this._bufferService.rows;H++)this._resetBufferLine(H,M);this._dirtyRowTracker.markDirty(H);break;case 1:for(H=this._activeBuffer.y,this._dirtyRowTracker.markDirty(H),this._eraseInBufferLine(H,0,this._activeBuffer.x+1,!0,M),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(H+1).isWrapped=!1);H--;)this._resetBufferLine(H,M);this._dirtyRowTracker.markDirty(0);break;case 2:for(H=this._bufferService.rows,this._dirtyRowTracker.markDirty(H-1);H--;)this._resetBufferLine(H,M);this._dirtyRowTracker.markDirty(0);break;case 3:const O=this._activeBuffer.lines.length-this._bufferService.rows;O>0&&(this._activeBuffer.lines.trimStart(O),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-O,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-O,0),this._onScroll.fire(0))}return!0}eraseInLine(D,M=!1){switch(this._restrictCursor(this._bufferService.cols),D.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,M);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,M);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,M)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(D){this._restrictCursor();let M=D.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=this._activeBuffer.ybase+this._activeBuffer.y,O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,K=this._bufferService.rows-1+this._activeBuffer.ybase-O+1;for(;M--;)this._activeBuffer.lines.splice(K-1,1),this._activeBuffer.lines.splice(H,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(D){this._restrictCursor();let M=D.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const H=this._activeBuffer.ybase+this._activeBuffer.y;let O;for(O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,O=this._bufferService.rows-1+this._activeBuffer.ybase-O;M--;)this._activeBuffer.lines.splice(H,1),this._activeBuffer.lines.splice(O,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(D){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.insertCells(this._activeBuffer.x,D.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(D){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.deleteCells(this._activeBuffer.x,D.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(D){let M=D.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(D){let M=D.params[0]||1;for(;M--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(u.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=D.params[0]||1;for(let H=this._activeBuffer.scrollTop;H<=this._activeBuffer.scrollBottom;++H){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+H);O.deleteCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=D.params[0]||1;for(let H=this._activeBuffer.scrollTop;H<=this._activeBuffer.scrollBottom;++H){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+H);O.insertCells(0,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=D.params[0]||1;for(let H=this._activeBuffer.scrollTop;H<=this._activeBuffer.scrollBottom;++H){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+H);O.insertCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const M=D.params[0]||1;for(let H=this._activeBuffer.scrollTop;H<=this._activeBuffer.scrollBottom;++H){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+H);O.deleteCells(this._activeBuffer.x,M,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(D){this._restrictCursor();const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return M&&(M.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(D.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(D){if(!this._parser.precedingCodepoint)return!0;const M=D.params[0]||1,H=new Uint32Array(M);for(let O=0;O<M;++O)H[O]=this._parser.precedingCodepoint;return this.print(H,0,H.length),!0}sendDeviceAttributesPrimary(D){return D.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(h.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(h.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(D){return D.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(h.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(h.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(D.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(h.C0.ESC+"[>83;40003;0c")),!0}_is(D){return(this._optionsService.rawOptions.termName+"").indexOf(D)===0}setMode(D){for(let M=0;M<D.length;M++)switch(D.params[M]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(D){for(let M=0;M<D.length;M++)switch(D.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,w.DEFAULT_CHARSET),this._charsetService.setgCharset(1,w.DEFAULT_CHARSET),this._charsetService.setgCharset(2,w.DEFAULT_CHARSET),this._charsetService.setgCharset(3,w.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(D){for(let M=0;M<D.length;M++)switch(D.params[M]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(D){for(let M=0;M<D.length;M++)switch(D.params[M]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),D.params[M]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(D,M){const H=this._coreService.decPrivateModes,{activeProtocol:O,activeEncoding:K}=this._coreMouseService,re=this._coreService,{buffers:ae,cols:he}=this._bufferService,{active:ye,alt:B}=ae,X=this._optionsService.rawOptions,ie=Le=>Le?1:2,oe=D.params[0];return Ne=oe,ge=M?oe===2?4:oe===4?ie(re.modes.insertMode):oe===12?3:oe===20?ie(X.convertEol):0:oe===1?ie(H.applicationCursorKeys):oe===3?X.windowOptions.setWinLines?he===80?2:he===132?1:0:0:oe===6?ie(H.origin):oe===7?ie(H.wraparound):oe===8?3:oe===9?ie(O==="X10"):oe===12?ie(X.cursorBlink):oe===25?ie(!re.isCursorHidden):oe===45?ie(H.reverseWraparound):oe===66?ie(H.applicationKeypad):oe===67?4:oe===1e3?ie(O==="VT200"):oe===1002?ie(O==="DRAG"):oe===1003?ie(O==="ANY"):oe===1004?ie(H.sendFocus):oe===1005?4:oe===1006?ie(K==="SGR"):oe===1015?4:oe===1016?ie(K==="SGR_PIXELS"):oe===1048?1:oe===47||oe===1047||oe===1049?ie(ye===B):oe===2004?ie(H.bracketedPasteMode):0,re.triggerDataEvent(`${h.C0.ESC}[${M?"":"?"}${Ne};${ge}$y`),!0;var Ne,ge}_updateAttrColor(D,M,H,O,K){return M===2?(D|=50331648,D&=-16777216,D|=C.AttributeData.fromColorRGB([H,O,K])):M===5&&(D&=-50331904,D|=33554432|255&H),D}_extractColor(D,M,H){const O=[0,0,-1,0,0,0];let K=0,re=0;do{if(O[re+K]=D.params[M+re],D.hasSubParams(M+re)){const ae=D.getSubParams(M+re);let he=0;do O[1]===5&&(K=1),O[re+he+1+K]=ae[he];while(++he<ae.length&&he+re+1+K<O.length);break}if(O[1]===5&&re+K>=2||O[1]===2&&re+K>=5)break;O[1]&&(K=1)}while(++re+M<D.length&&re+K<O.length);for(let ae=2;ae<O.length;++ae)O[ae]===-1&&(O[ae]=0);switch(O[0]){case 38:H.fg=this._updateAttrColor(H.fg,O[1],O[3],O[4],O[5]);break;case 48:H.bg=this._updateAttrColor(H.bg,O[1],O[3],O[4],O[5]);break;case 58:H.extended=H.extended.clone(),H.extended.underlineColor=this._updateAttrColor(H.extended.underlineColor,O[1],O[3],O[4],O[5])}return re}_processUnderline(D,M){M.extended=M.extended.clone(),(!~D||D>5)&&(D=1),M.extended.underlineStyle=D,M.fg|=268435456,D===0&&(M.fg&=-268435457),M.updateExtended()}_processSGR0(D){D.fg=u.DEFAULT_ATTR_DATA.fg,D.bg=u.DEFAULT_ATTR_DATA.bg,D.extended=D.extended.clone(),D.extended.underlineStyle=0,D.extended.underlineColor&=-67108864,D.updateExtended()}charAttributes(D){if(D.length===1&&D.params[0]===0)return this._processSGR0(this._curAttrData),!0;const M=D.length;let H;const O=this._curAttrData;for(let K=0;K<M;K++)H=D.params[K],H>=30&&H<=37?(O.fg&=-50331904,O.fg|=16777216|H-30):H>=40&&H<=47?(O.bg&=-50331904,O.bg|=16777216|H-40):H>=90&&H<=97?(O.fg&=-50331904,O.fg|=16777224|H-90):H>=100&&H<=107?(O.bg&=-50331904,O.bg|=16777224|H-100):H===0?this._processSGR0(O):H===1?O.fg|=134217728:H===3?O.bg|=67108864:H===4?(O.fg|=268435456,this._processUnderline(D.hasSubParams(K)?D.getSubParams(K)[0]:1,O)):H===5?O.fg|=536870912:H===7?O.fg|=67108864:H===8?O.fg|=1073741824:H===9?O.fg|=2147483648:H===2?O.bg|=134217728:H===21?this._processUnderline(2,O):H===22?(O.fg&=-134217729,O.bg&=-134217729):H===23?O.bg&=-67108865:H===24?(O.fg&=-268435457,this._processUnderline(0,O)):H===25?O.fg&=-536870913:H===27?O.fg&=-67108865:H===28?O.fg&=-1073741825:H===29?O.fg&=2147483647:H===39?(O.fg&=-67108864,O.fg|=16777215&u.DEFAULT_ATTR_DATA.fg):H===49?(O.bg&=-67108864,O.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):H===38||H===48||H===58?K+=this._extractColor(D,K,O):H===53?O.bg|=1073741824:H===55?O.bg&=-1073741825:H===59?(O.extended=O.extended.clone(),O.extended.underlineColor=-1,O.updateExtended()):H===100?(O.fg&=-67108864,O.fg|=16777215&u.DEFAULT_ATTR_DATA.fg,O.bg&=-67108864,O.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",H);return!0}deviceStatus(D){switch(D.params[0]){case 5:this._coreService.triggerDataEvent(`${h.C0.ESC}[0n`);break;case 6:const M=this._activeBuffer.y+1,H=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[${M};${H}R`)}return!0}deviceStatusPrivate(D){if(D.params[0]===6){const M=this._activeBuffer.y+1,H=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[?${M};${H}R`)}return!0}softReset(D){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(D){const M=D.params[0]||1;switch(M){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const H=M%2==1;return this._optionsService.options.cursorBlink=H,!0}setScrollRegion(D){const M=D.params[0]||1;let H;return(D.length<2||(H=D.params[1])>this._bufferService.rows||H===0)&&(H=this._bufferService.rows),H>M&&(this._activeBuffer.scrollTop=M-1,this._activeBuffer.scrollBottom=H-1,this._setCursor(0,0)),!0}windowOptions(D){if(!$(D.params[0],this._optionsService.rawOptions.windowOptions))return!0;const M=D.length>1?D.params[1]:0;switch(D.params[0]){case 14:M!==2&&this._onRequestWindowsOptionsReport.fire(U.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(U.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${h.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:M!==0&&M!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),M!==0&&M!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:M!==0&&M!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),M!==0&&M!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(D){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(D){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(D){return this._windowTitle=D,this._onTitleChange.fire(D),!0}setIconName(D){return this._iconName=D,!0}setOrReportIndexedColor(D){const M=[],H=D.split(";");for(;H.length>1;){const O=H.shift(),K=H.shift();if(/^\d+$/.exec(O)){const re=parseInt(O);if(V(re))if(K==="?")M.push({type:0,index:re});else{const ae=(0,j.parseColor)(K);ae&&M.push({type:1,index:re,color:ae})}}}return M.length&&this._onColor.fire(M),!0}setHyperlink(D){const M=D.split(";");return!(M.length<2)&&(M[1]?this._createHyperlink(M[0],M[1]):!M[0]&&this._finishHyperlink())}_createHyperlink(D,M){this._getCurrentLinkId()&&this._finishHyperlink();const H=D.split(":");let O;const K=H.findIndex((re=>re.startsWith("id=")));return K!==-1&&(O=H[K].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:O,uri:M}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(D,M){const H=D.split(";");for(let O=0;O<H.length&&!(M>=this._specialColors.length);++O,++M)if(H[O]==="?")this._onColor.fire([{type:0,index:this._specialColors[M]}]);else{const K=(0,j.parseColor)(H[O]);K&&this._onColor.fire([{type:1,index:this._specialColors[M],color:K}])}return!0}setOrReportFgColor(D){return this._setOrReportSpecialColor(D,0)}setOrReportBgColor(D){return this._setOrReportSpecialColor(D,1)}setOrReportCursorColor(D){return this._setOrReportSpecialColor(D,2)}restoreIndexedColor(D){if(!D)return this._onColor.fire([{type:2}]),!0;const M=[],H=D.split(";");for(let O=0;O<H.length;++O)if(/^\d+$/.exec(H[O])){const K=parseInt(H[O]);V(K)&&M.push({type:2,index:K})}return M.length&&this._onColor.fire(M),!0}restoreFgColor(D){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(D){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(D){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,w.DEFAULT_CHARSET),!0}selectCharset(D){return D.length!==2?(this.selectDefaultCharset(),!0):(D[0]==="/"||this._charsetService.setgCharset(A[D[0]],w.CHARSETS[D[1]]||w.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const D=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,D,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(D){return this._charsetService.setgLevel(D),!0}screenAlignmentPattern(){const D=new g.CellData;D.content=4194373,D.fg=this._curAttrData.fg,D.bg=this._curAttrData.bg,this._setCursor(0,0);for(let M=0;M<this._bufferService.rows;++M){const H=this._activeBuffer.ybase+this._activeBuffer.y+M,O=this._activeBuffer.lines.get(H);O&&(O.fill(D),O.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(D,M){const H=this._bufferService.buffer,O=this._optionsService.rawOptions;return(K=>(this._coreService.triggerDataEvent(`${h.C0.ESC}${K}${h.C0.ESC}\\`),!0))(D==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:D==='"p'?'P1$r61;1"p':D==="r"?`P1$r${H.scrollTop+1};${H.scrollBottom+1}r`:D==="m"?"P1$r0m":D===" q"?`P1$r${{block:2,underline:4,bar:6}[O.cursorStyle]-(O.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(D,M){this._dirtyRowTracker.markRangeDirty(D,M)}}l.InputHandler=W;let J=class{constructor(G){this._bufferService=G,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(G){G<this.start?this.start=G:G>this.end&&(this.end=G)}markRangeDirty(G,D){G>D&&(I=G,G=D,D=I),G<this.start&&(this.start=G),D>this.end&&(this.end=D)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function V(G){return 0<=G&&G<256}J=m([v(0,E.IBufferService)],J)},844:(y,l)=>{function d(m){for(const v of m)v.dispose();m.length=0}Object.defineProperty(l,"__esModule",{value:!0}),l.getDisposeArrayDisposable=l.disposeArray=l.toDisposable=l.MutableDisposable=l.Disposable=void 0,l.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const m of this._disposables)m.dispose();this._disposables.length=0}register(m){return this._disposables.push(m),m}unregister(m){const v=this._disposables.indexOf(m);v!==-1&&this._disposables.splice(v,1)}},l.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(m){var v;this._isDisposed||m===this._value||((v=this._value)===null||v===void 0||v.dispose(),this._value=m)}clear(){this.value=void 0}dispose(){var m;this._isDisposed=!0,(m=this._value)===null||m===void 0||m.dispose(),this._value=void 0}},l.toDisposable=function(m){return{dispose:m}},l.disposeArray=d,l.getDisposeArrayDisposable=function(m){return{dispose:()=>d(m)}}},1505:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FourKeyMap=l.TwoKeyMap=void 0;class d{constructor(){this._data={}}set(v,h,w){this._data[v]||(this._data[v]={}),this._data[v][h]=w}get(v,h){return this._data[v]?this._data[v][h]:void 0}clear(){this._data={}}}l.TwoKeyMap=d,l.FourKeyMap=class{constructor(){this._data=new d}set(m,v,h,w,S){this._data.get(m,v)||this._data.set(m,v,new d),this._data.get(m,v).set(h,w,S)}get(m,v,h,w){var S;return(S=this._data.get(m,v))===null||S===void 0?void 0:S.get(h,w)}clear(){this._data.clear()}}},6114:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.isChromeOS=l.isLinux=l.isWindows=l.isIphone=l.isIpad=l.isMac=l.getSafariVersion=l.isSafari=l.isLegacyEdge=l.isFirefox=l.isNode=void 0,l.isNode=typeof navigator>"u";const d=l.isNode?"node":navigator.userAgent,m=l.isNode?"node":navigator.platform;l.isFirefox=d.includes("Firefox"),l.isLegacyEdge=d.includes("Edge"),l.isSafari=/^((?!chrome|android).)*safari/i.test(d),l.getSafariVersion=function(){if(!l.isSafari)return 0;const v=d.match(/Version\/(\d+)/);return v===null||v.length<2?0:parseInt(v[1])},l.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(m),l.isIpad=m==="iPad",l.isIphone=m==="iPhone",l.isWindows=["Windows","Win16","Win32","WinCE"].includes(m),l.isLinux=m.indexOf("Linux")>=0,l.isChromeOS=/\bCrOS\b/.test(d)},6106:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SortedList=void 0;let d=0;l.SortedList=class{constructor(m){this._getKey=m,this._array=[]}clear(){this._array.length=0}insert(m){this._array.length!==0?(d=this._search(this._getKey(m)),this._array.splice(d,0,m)):this._array.push(m)}delete(m){if(this._array.length===0)return!1;const v=this._getKey(m);if(v===void 0||(d=this._search(v),d===-1)||this._getKey(this._array[d])!==v)return!1;do if(this._array[d]===m)return this._array.splice(d,1),!0;while(++d<this._array.length&&this._getKey(this._array[d])===v);return!1}*getKeyIterator(m){if(this._array.length!==0&&(d=this._search(m),!(d<0||d>=this._array.length)&&this._getKey(this._array[d])===m))do yield this._array[d];while(++d<this._array.length&&this._getKey(this._array[d])===m)}forEachByKey(m,v){if(this._array.length!==0&&(d=this._search(m),!(d<0||d>=this._array.length)&&this._getKey(this._array[d])===m))do v(this._array[d]);while(++d<this._array.length&&this._getKey(this._array[d])===m)}values(){return[...this._array].values()}_search(m){let v=0,h=this._array.length-1;for(;h>=v;){let w=v+h>>1;const S=this._getKey(this._array[w]);if(S>m)h=w-1;else{if(!(S<m)){for(;w>0&&this._getKey(this._array[w-1])===m;)w--;return w}v=w+1}}return v}}},7226:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DebouncedIdleTask=l.IdleTaskQueue=l.PriorityTaskQueue=void 0;const m=d(6114);class v{constructor(){this._tasks=[],this._i=0}enqueue(S){this._tasks.push(S),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(S){this._idleCallback=void 0;let k=0,b=0,u=S.timeRemaining(),x=0;for(;this._i<this._tasks.length;){if(k=Date.now(),this._tasks[this._i]()||this._i++,k=Math.max(1,Date.now()-k),b=Math.max(k,b),x=S.timeRemaining(),1.5*b>x)return u-k<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(u-k))}ms`),void this._start();u=x}this.clear()}}class h extends v{_requestCallback(S){return setTimeout((()=>S(this._createDeadline(16))))}_cancelCallback(S){clearTimeout(S)}_createDeadline(S){const k=Date.now()+S;return{timeRemaining:()=>Math.max(0,k-Date.now())}}}l.PriorityTaskQueue=h,l.IdleTaskQueue=!m.isNode&&"requestIdleCallback"in window?class extends v{_requestCallback(w){return requestIdleCallback(w)}_cancelCallback(w){cancelIdleCallback(w)}}:h,l.DebouncedIdleTask=class{constructor(){this._queue=new l.IdleTaskQueue}set(w){this._queue.clear(),this._queue.enqueue(w)}flush(){this._queue.flush()}}},9282:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.updateWindowsModeWrappedState=void 0;const m=d(643);l.updateWindowsModeWrappedState=function(v){const h=v.buffer.lines.get(v.buffer.ybase+v.buffer.y-1),w=h?.get(v.cols-1),S=v.buffer.lines.get(v.buffer.ybase+v.buffer.y);S&&w&&(S.isWrapped=w[m.CHAR_DATA_CODE_INDEX]!==m.NULL_CELL_CODE&&w[m.CHAR_DATA_CODE_INDEX]!==m.WHITESPACE_CELL_CODE)}},3734:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ExtendedAttrs=l.AttributeData=void 0;class d{constructor(){this.fg=0,this.bg=0,this.extended=new m}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){const h=new d;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}l.AttributeData=d;class m{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}constructor(h=0,w=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=w}clone(){return new m(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}l.ExtendedAttrs=m},9092:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Buffer=l.MAX_BUFFER_SIZE=void 0;const m=d(6349),v=d(7226),h=d(3734),w=d(8437),S=d(4634),k=d(511),b=d(643),u=d(4863),x=d(7116);l.MAX_BUFFER_SIZE=4294967295,l.Buffer=class{constructor(p,g,C){this._hasScrollback=p,this._optionsService=g,this._bufferService=C,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=w.DEFAULT_ATTR_DATA.clone(),this.savedCharset=x.DEFAULT_CHARSET,this.markers=[],this._nullCell=k.CellData.fromCharData([0,b.NULL_CELL_CHAR,b.NULL_CELL_WIDTH,b.NULL_CELL_CODE]),this._whitespaceCell=k.CellData.fromCharData([0,b.WHITESPACE_CELL_CHAR,b.WHITESPACE_CELL_WIDTH,b.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new v.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new m.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(p){return p?(this._nullCell.fg=p.fg,this._nullCell.bg=p.bg,this._nullCell.extended=p.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell}getWhitespaceCell(p){return p?(this._whitespaceCell.fg=p.fg,this._whitespaceCell.bg=p.bg,this._whitespaceCell.extended=p.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell}getBlankLine(p,g){return new w.BufferLine(this._bufferService.cols,this.getNullCell(p),g)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const p=this.ybase+this.y-this.ydisp;return p>=0&&p<this._rows}_getCorrectBufferLength(p){if(!this._hasScrollback)return p;const g=p+this._optionsService.rawOptions.scrollback;return g>l.MAX_BUFFER_SIZE?l.MAX_BUFFER_SIZE:g}fillViewportRows(p){if(this.lines.length===0){p===void 0&&(p=w.DEFAULT_ATTR_DATA);let g=this._rows;for(;g--;)this.lines.push(this.getBlankLine(p))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new m.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(p,g){const C=this.getNullCell(w.DEFAULT_ATTR_DATA);let E=0;const P=this._getCorrectBufferLength(g);if(P>this.lines.maxLength&&(this.lines.maxLength=P),this.lines.length>0){if(this._cols<p)for(let j=0;j<this.lines.length;j++)E+=+this.lines.get(j).resize(p,C);let L=0;if(this._rows<g)for(let j=this._rows;j<g;j++)this.lines.length<g+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new w.BufferLine(p,C)):this.ybase>0&&this.lines.length<=this.ybase+this.y+L+1?(this.ybase--,L++,this.ydisp>0&&this.ydisp--):this.lines.push(new w.BufferLine(p,C)));else for(let j=this._rows;j>g;j--)this.lines.length>g+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(P<this.lines.maxLength){const j=this.lines.length-P;j>0&&(this.lines.trimStart(j),this.ybase=Math.max(this.ybase-j,0),this.ydisp=Math.max(this.ydisp-j,0),this.savedY=Math.max(this.savedY-j,0)),this.lines.maxLength=P}this.x=Math.min(this.x,p-1),this.y=Math.min(this.y,g-1),L&&(this.y+=L),this.savedX=Math.min(this.savedX,p-1),this.scrollTop=0}if(this.scrollBottom=g-1,this._isReflowEnabled&&(this._reflow(p,g),this._cols>p))for(let L=0;L<this.lines.length;L++)E+=+this.lines.get(L).resize(p,C);this._cols=p,this._rows=g,this._memoryCleanupQueue.clear(),E>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let p=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,p=!1);let g=0;for(;this._memoryCleanupPosition<this.lines.length;)if(g+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),g>100)return!0;return p}get _isReflowEnabled(){const p=this._optionsService.rawOptions.windowsPty;return p&&p.buildNumber?this._hasScrollback&&p.backend==="conpty"&&p.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(p,g){this._cols!==p&&(p>this._cols?this._reflowLarger(p,g):this._reflowSmaller(p,g))}_reflowLarger(p,g){const C=(0,S.reflowLargerGetLinesToRemove)(this.lines,this._cols,p,this.ybase+this.y,this.getNullCell(w.DEFAULT_ATTR_DATA));if(C.length>0){const E=(0,S.reflowLargerCreateNewLayout)(this.lines,C);(0,S.reflowLargerApplyNewLayout)(this.lines,E.layout),this._reflowLargerAdjustViewport(p,g,E.countRemoved)}}_reflowLargerAdjustViewport(p,g,C){const E=this.getNullCell(w.DEFAULT_ATTR_DATA);let P=C;for(;P-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<g&&this.lines.push(new w.BufferLine(p,E))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-C,0)}_reflowSmaller(p,g){const C=this.getNullCell(w.DEFAULT_ATTR_DATA),E=[];let P=0;for(let L=this.lines.length-1;L>=0;L--){let j=this.lines.get(L);if(!j||!j.isWrapped&&j.getTrimmedLength()<=p)continue;const A=[j];for(;j.isWrapped&&L>0;)j=this.lines.get(--L),A.unshift(j);const z=this.ybase+this.y;if(z>=L&&z<L+A.length)continue;const $=A[A.length-1].getTrimmedLength(),U=(0,S.reflowSmallerGetNewLineLengths)(A,this._cols,p),I=U.length-A.length;let W;W=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+I):Math.max(0,this.lines.length-this.lines.maxLength+I);const J=[];for(let O=0;O<I;O++){const K=this.getBlankLine(w.DEFAULT_ATTR_DATA,!0);J.push(K)}J.length>0&&(E.push({start:L+A.length+P,newLines:J}),P+=J.length),A.push(...J);let V=U.length-1,G=U[V];G===0&&(V--,G=U[V]);let D=A.length-I-1,M=$;for(;D>=0;){const O=Math.min(M,G);if(A[V]===void 0)break;if(A[V].copyCellsFrom(A[D],M-O,G-O,O,!0),G-=O,G===0&&(V--,G=U[V]),M-=O,M===0){D--;const K=Math.max(D,0);M=(0,S.getWrappedLineTrimmedLength)(A,K,this._cols)}}for(let O=0;O<A.length;O++)U[O]<p&&A[O].setCell(U[O],C);let H=I-W;for(;H-- >0;)this.ybase===0?this.y<g-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+P)-g&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+I,this.ybase+g-1)}if(E.length>0){const L=[],j=[];for(let V=0;V<this.lines.length;V++)j.push(this.lines.get(V));const A=this.lines.length;let z=A-1,$=0,U=E[$];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+P);let I=0;for(let V=Math.min(this.lines.maxLength-1,A+P-1);V>=0;V--)if(U&&U.start>z+I){for(let G=U.newLines.length-1;G>=0;G--)this.lines.set(V--,U.newLines[G]);V++,L.push({index:z+1,amount:U.newLines.length}),I+=U.newLines.length,U=E[++$]}else this.lines.set(V,j[z--]);let W=0;for(let V=L.length-1;V>=0;V--)L[V].index+=W,this.lines.onInsertEmitter.fire(L[V]),W+=L[V].amount;const J=Math.max(0,A+P-this.lines.maxLength);J>0&&this.lines.onTrimEmitter.fire(J)}}translateBufferLineToString(p,g,C=0,E){const P=this.lines.get(p);return P?P.translateToString(g,C,E):""}getWrappedRangeForLine(p){let g=p,C=p;for(;g>0&&this.lines.get(g).isWrapped;)g--;for(;C+1<this.lines.length&&this.lines.get(C+1).isWrapped;)C++;return{first:g,last:C}}setupTabStops(p){for(p!=null?this.tabs[p]||(p=this.prevStop(p)):(this.tabs={},p=0);p<this._cols;p+=this._optionsService.rawOptions.tabStopWidth)this.tabs[p]=!0}prevStop(p){for(p==null&&(p=this.x);!this.tabs[--p]&&p>0;);return p>=this._cols?this._cols-1:p<0?0:p}nextStop(p){for(p==null&&(p=this.x);!this.tabs[++p]&&p<this._cols;);return p>=this._cols?this._cols-1:p<0?0:p}clearMarkers(p){this._isClearing=!0;for(let g=0;g<this.markers.length;g++)this.markers[g].line===p&&(this.markers[g].dispose(),this.markers.splice(g--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let p=0;p<this.markers.length;p++)this.markers[p].dispose(),this.markers.splice(p--,1);this._isClearing=!1}addMarker(p){const g=new u.Marker(p);return this.markers.push(g),g.register(this.lines.onTrim((C=>{g.line-=C,g.line<0&&g.dispose()}))),g.register(this.lines.onInsert((C=>{g.line>=C.index&&(g.line+=C.amount)}))),g.register(this.lines.onDelete((C=>{g.line>=C.index&&g.line<C.index+C.amount&&g.dispose(),g.line>C.index&&(g.line-=C.amount)}))),g.register(g.onDispose((()=>this._removeMarker(g)))),g}_removeMarker(p){this._isClearing||this.markers.splice(this.markers.indexOf(p),1)}}},8437:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLine=l.DEFAULT_ATTR_DATA=void 0;const m=d(3734),v=d(511),h=d(643),w=d(482);l.DEFAULT_ATTR_DATA=Object.freeze(new m.AttributeData);let S=0;class k{constructor(u,x,p=!1){this.isWrapped=p,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*u);const g=x||v.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]);for(let C=0;C<u;++C)this.setCell(C,g);this.length=u}get(u){const x=this._data[3*u+0],p=2097151&x;return[this._data[3*u+1],2097152&x?this._combined[u]:p?(0,w.stringFromCodePoint)(p):"",x>>22,2097152&x?this._combined[u].charCodeAt(this._combined[u].length-1):p]}set(u,x){this._data[3*u+1]=x[h.CHAR_DATA_ATTR_INDEX],x[h.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[u]=x[1],this._data[3*u+0]=2097152|u|x[h.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*u+0]=x[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|x[h.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(u){return this._data[3*u+0]>>22}hasWidth(u){return 12582912&this._data[3*u+0]}getFg(u){return this._data[3*u+1]}getBg(u){return this._data[3*u+2]}hasContent(u){return 4194303&this._data[3*u+0]}getCodePoint(u){const x=this._data[3*u+0];return 2097152&x?this._combined[u].charCodeAt(this._combined[u].length-1):2097151&x}isCombined(u){return 2097152&this._data[3*u+0]}getString(u){const x=this._data[3*u+0];return 2097152&x?this._combined[u]:2097151&x?(0,w.stringFromCodePoint)(2097151&x):""}isProtected(u){return 536870912&this._data[3*u+2]}loadCell(u,x){return S=3*u,x.content=this._data[S+0],x.fg=this._data[S+1],x.bg=this._data[S+2],2097152&x.content&&(x.combinedData=this._combined[u]),268435456&x.bg&&(x.extended=this._extendedAttrs[u]),x}setCell(u,x){2097152&x.content&&(this._combined[u]=x.combinedData),268435456&x.bg&&(this._extendedAttrs[u]=x.extended),this._data[3*u+0]=x.content,this._data[3*u+1]=x.fg,this._data[3*u+2]=x.bg}setCellFromCodePoint(u,x,p,g,C,E){268435456&C&&(this._extendedAttrs[u]=E),this._data[3*u+0]=x|p<<22,this._data[3*u+1]=g,this._data[3*u+2]=C}addCodepointToCell(u,x){let p=this._data[3*u+0];2097152&p?this._combined[u]+=(0,w.stringFromCodePoint)(x):(2097151&p?(this._combined[u]=(0,w.stringFromCodePoint)(2097151&p)+(0,w.stringFromCodePoint)(x),p&=-2097152,p|=2097152):p=x|4194304,this._data[3*u+0]=p)}insertCells(u,x,p,g){if((u%=this.length)&&this.getWidth(u-1)===2&&this.setCellFromCodePoint(u-1,0,1,g?.fg||0,g?.bg||0,g?.extended||new m.ExtendedAttrs),x<this.length-u){const C=new v.CellData;for(let E=this.length-u-x-1;E>=0;--E)this.setCell(u+x+E,this.loadCell(u+E,C));for(let E=0;E<x;++E)this.setCell(u+E,p)}else for(let C=u;C<this.length;++C)this.setCell(C,p);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,g?.fg||0,g?.bg||0,g?.extended||new m.ExtendedAttrs)}deleteCells(u,x,p,g){if(u%=this.length,x<this.length-u){const C=new v.CellData;for(let E=0;E<this.length-u-x;++E)this.setCell(u+E,this.loadCell(u+x+E,C));for(let E=this.length-x;E<this.length;++E)this.setCell(E,p)}else for(let C=u;C<this.length;++C)this.setCell(C,p);u&&this.getWidth(u-1)===2&&this.setCellFromCodePoint(u-1,0,1,g?.fg||0,g?.bg||0,g?.extended||new m.ExtendedAttrs),this.getWidth(u)!==0||this.hasContent(u)||this.setCellFromCodePoint(u,0,1,g?.fg||0,g?.bg||0,g?.extended||new m.ExtendedAttrs)}replaceCells(u,x,p,g,C=!1){if(C)for(u&&this.getWidth(u-1)===2&&!this.isProtected(u-1)&&this.setCellFromCodePoint(u-1,0,1,g?.fg||0,g?.bg||0,g?.extended||new m.ExtendedAttrs),x<this.length&&this.getWidth(x-1)===2&&!this.isProtected(x)&&this.setCellFromCodePoint(x,0,1,g?.fg||0,g?.bg||0,g?.extended||new m.ExtendedAttrs);u<x&&u<this.length;)this.isProtected(u)||this.setCell(u,p),u++;else for(u&&this.getWidth(u-1)===2&&this.setCellFromCodePoint(u-1,0,1,g?.fg||0,g?.bg||0,g?.extended||new m.ExtendedAttrs),x<this.length&&this.getWidth(x-1)===2&&this.setCellFromCodePoint(x,0,1,g?.fg||0,g?.bg||0,g?.extended||new m.ExtendedAttrs);u<x&&u<this.length;)this.setCell(u++,p)}resize(u,x){if(u===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const p=3*u;if(u>this.length){if(this._data.buffer.byteLength>=4*p)this._data=new Uint32Array(this._data.buffer,0,p);else{const g=new Uint32Array(p);g.set(this._data),this._data=g}for(let g=this.length;g<u;++g)this.setCell(g,x)}else{this._data=this._data.subarray(0,p);const g=Object.keys(this._combined);for(let E=0;E<g.length;E++){const P=parseInt(g[E],10);P>=u&&delete this._combined[P]}const C=Object.keys(this._extendedAttrs);for(let E=0;E<C.length;E++){const P=parseInt(C[E],10);P>=u&&delete this._extendedAttrs[P]}}return this.length=u,4*p*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const u=new Uint32Array(this._data.length);return u.set(this._data),this._data=u,1}return 0}fill(u,x=!1){if(x)for(let p=0;p<this.length;++p)this.isProtected(p)||this.setCell(p,u);else{this._combined={},this._extendedAttrs={};for(let p=0;p<this.length;++p)this.setCell(p,u)}}copyFrom(u){this.length!==u.length?this._data=new Uint32Array(u._data):this._data.set(u._data),this.length=u.length,this._combined={};for(const x in u._combined)this._combined[x]=u._combined[x];this._extendedAttrs={};for(const x in u._extendedAttrs)this._extendedAttrs[x]=u._extendedAttrs[x];this.isWrapped=u.isWrapped}clone(){const u=new k(0);u._data=new Uint32Array(this._data),u.length=this.length;for(const x in this._combined)u._combined[x]=this._combined[x];for(const x in this._extendedAttrs)u._extendedAttrs[x]=this._extendedAttrs[x];return u.isWrapped=this.isWrapped,u}getTrimmedLength(){for(let u=this.length-1;u>=0;--u)if(4194303&this._data[3*u+0])return u+(this._data[3*u+0]>>22);return 0}getNoBgTrimmedLength(){for(let u=this.length-1;u>=0;--u)if(4194303&this._data[3*u+0]||50331648&this._data[3*u+2])return u+(this._data[3*u+0]>>22);return 0}copyCellsFrom(u,x,p,g,C){const E=u._data;if(C)for(let L=g-1;L>=0;L--){for(let j=0;j<3;j++)this._data[3*(p+L)+j]=E[3*(x+L)+j];268435456&E[3*(x+L)+2]&&(this._extendedAttrs[p+L]=u._extendedAttrs[x+L])}else for(let L=0;L<g;L++){for(let j=0;j<3;j++)this._data[3*(p+L)+j]=E[3*(x+L)+j];268435456&E[3*(x+L)+2]&&(this._extendedAttrs[p+L]=u._extendedAttrs[x+L])}const P=Object.keys(u._combined);for(let L=0;L<P.length;L++){const j=parseInt(P[L],10);j>=x&&(this._combined[j-x+p]=u._combined[j])}}translateToString(u=!1,x=0,p=this.length){u&&(p=Math.min(p,this.getTrimmedLength()));let g="";for(;x<p;){const C=this._data[3*x+0],E=2097151&C;g+=2097152&C?this._combined[x]:E?(0,w.stringFromCodePoint)(E):h.WHITESPACE_CELL_CHAR,x+=C>>22||1}return g}}l.BufferLine=k},4841:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getRangeLength=void 0,l.getRangeLength=function(d,m){if(d.start.y>d.end.y)throw new Error(`Buffer range end (${d.end.x}, ${d.end.y}) cannot be before start (${d.start.x}, ${d.start.y})`);return m*(d.end.y-d.start.y)+(d.end.x-d.start.x+1)}},4634:(y,l)=>{function d(m,v,h){if(v===m.length-1)return m[v].getTrimmedLength();const w=!m[v].hasContent(h-1)&&m[v].getWidth(h-1)===1,S=m[v+1].getWidth(0)===2;return w&&S?h-1:h}Object.defineProperty(l,"__esModule",{value:!0}),l.getWrappedLineTrimmedLength=l.reflowSmallerGetNewLineLengths=l.reflowLargerApplyNewLayout=l.reflowLargerCreateNewLayout=l.reflowLargerGetLinesToRemove=void 0,l.reflowLargerGetLinesToRemove=function(m,v,h,w,S){const k=[];for(let b=0;b<m.length-1;b++){let u=b,x=m.get(++u);if(!x.isWrapped)continue;const p=[m.get(b)];for(;u<m.length&&x.isWrapped;)p.push(x),x=m.get(++u);if(w>=b&&w<u){b+=p.length-1;continue}let g=0,C=d(p,g,v),E=1,P=0;for(;E<p.length;){const j=d(p,E,v),A=j-P,z=h-C,$=Math.min(A,z);p[g].copyCellsFrom(p[E],P,C,$,!1),C+=$,C===h&&(g++,C=0),P+=$,P===j&&(E++,P=0),C===0&&g!==0&&p[g-1].getWidth(h-1)===2&&(p[g].copyCellsFrom(p[g-1],h-1,C++,1,!1),p[g-1].setCell(h-1,S))}p[g].replaceCells(C,h,S);let L=0;for(let j=p.length-1;j>0&&(j>g||p[j].getTrimmedLength()===0);j--)L++;L>0&&(k.push(b+p.length-L),k.push(L)),b+=p.length-1}return k},l.reflowLargerCreateNewLayout=function(m,v){const h=[];let w=0,S=v[w],k=0;for(let b=0;b<m.length;b++)if(S===b){const u=v[++w];m.onDeleteEmitter.fire({index:b-k,amount:u}),b+=u-1,k+=u,S=v[++w]}else h.push(b);return{layout:h,countRemoved:k}},l.reflowLargerApplyNewLayout=function(m,v){const h=[];for(let w=0;w<v.length;w++)h.push(m.get(v[w]));for(let w=0;w<h.length;w++)m.set(w,h[w]);m.length=v.length},l.reflowSmallerGetNewLineLengths=function(m,v,h){const w=[],S=m.map(((x,p)=>d(m,p,v))).reduce(((x,p)=>x+p));let k=0,b=0,u=0;for(;u<S;){if(S-u<h){w.push(S-u);break}k+=h;const x=d(m,b,v);k>x&&(k-=x,b++);const p=m[b].getWidth(k-1)===2;p&&k--;const g=p?h-1:h;w.push(g),u+=g}return w},l.getWrappedLineTrimmedLength=d},5295:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferSet=void 0;const m=d(8460),v=d(844),h=d(9092);class w extends v.Disposable{constructor(k,b){super(),this._optionsService=k,this._bufferService=b,this._onBufferActivate=this.register(new m.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new h.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new h.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(k){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(k),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(k,b){this._normal.resize(k,b),this._alt.resize(k,b),this.setupTabStops(k)}setupTabStops(k){this._normal.setupTabStops(k),this._alt.setupTabStops(k)}}l.BufferSet=w},511:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CellData=void 0;const m=d(482),v=d(643),h=d(3734);class w extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(k){const b=new w;return b.setFromCharData(k),b}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,m.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(k){this.fg=k[v.CHAR_DATA_ATTR_INDEX],this.bg=0;let b=!1;if(k[v.CHAR_DATA_CHAR_INDEX].length>2)b=!0;else if(k[v.CHAR_DATA_CHAR_INDEX].length===2){const u=k[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=u&&u<=56319){const x=k[v.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=x&&x<=57343?this.content=1024*(u-55296)+x-56320+65536|k[v.CHAR_DATA_WIDTH_INDEX]<<22:b=!0}else b=!0}else this.content=k[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|k[v.CHAR_DATA_WIDTH_INDEX]<<22;b&&(this.combinedData=k[v.CHAR_DATA_CHAR_INDEX],this.content=2097152|k[v.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.CellData=w},643:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WHITESPACE_CELL_CODE=l.WHITESPACE_CELL_WIDTH=l.WHITESPACE_CELL_CHAR=l.NULL_CELL_CODE=l.NULL_CELL_WIDTH=l.NULL_CELL_CHAR=l.CHAR_DATA_CODE_INDEX=l.CHAR_DATA_WIDTH_INDEX=l.CHAR_DATA_CHAR_INDEX=l.CHAR_DATA_ATTR_INDEX=l.DEFAULT_EXT=l.DEFAULT_ATTR=l.DEFAULT_COLOR=void 0,l.DEFAULT_COLOR=0,l.DEFAULT_ATTR=256|l.DEFAULT_COLOR<<9,l.DEFAULT_EXT=0,l.CHAR_DATA_ATTR_INDEX=0,l.CHAR_DATA_CHAR_INDEX=1,l.CHAR_DATA_WIDTH_INDEX=2,l.CHAR_DATA_CODE_INDEX=3,l.NULL_CELL_CHAR="",l.NULL_CELL_WIDTH=1,l.NULL_CELL_CODE=0,l.WHITESPACE_CELL_CHAR=" ",l.WHITESPACE_CELL_WIDTH=1,l.WHITESPACE_CELL_CODE=32},4863:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Marker=void 0;const m=d(8460),v=d(844);class h{get id(){return this._id}constructor(S){this.line=S,this.isDisposed=!1,this._disposables=[],this._id=h._nextId++,this._onDispose=this.register(new m.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,v.disposeArray)(this._disposables),this._disposables.length=0)}register(S){return this._disposables.push(S),S}}l.Marker=h,h._nextId=1},7116:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_CHARSET=l.CHARSETS=void 0,l.CHARSETS={},l.DEFAULT_CHARSET=l.CHARSETS.B,l.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},l.CHARSETS.A={"#":""},l.CHARSETS.B=void 0,l.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},l.CHARSETS.C=l.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.E=l.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},l.CHARSETS.H=l.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(y,l)=>{var d,m,v;Object.defineProperty(l,"__esModule",{value:!0}),l.C1_ESCAPED=l.C1=l.C0=void 0,(function(h){h.NUL="\0",h.SOH="",h.STX="",h.ETX="",h.EOT="",h.ENQ="",h.ACK="",h.BEL="\x07",h.BS="\b",h.HT="	",h.LF=`
`,h.VT="\v",h.FF="\f",h.CR="\r",h.SO="",h.SI="",h.DLE="",h.DC1="",h.DC2="",h.DC3="",h.DC4="",h.NAK="",h.SYN="",h.ETB="",h.CAN="",h.EM="",h.SUB="",h.ESC="\x1B",h.FS="",h.GS="",h.RS="",h.US="",h.SP=" ",h.DEL=""})(d||(l.C0=d={})),(function(h){h.PAD="",h.HOP="",h.BPH="",h.NBH="",h.IND="",h.NEL="",h.SSA="",h.ESA="",h.HTS="",h.HTJ="",h.VTS="",h.PLD="",h.PLU="",h.RI="",h.SS2="",h.SS3="",h.DCS="",h.PU1="",h.PU2="",h.STS="",h.CCH="",h.MW="",h.SPA="",h.EPA="",h.SOS="",h.SGCI="",h.SCI="",h.CSI="",h.ST="",h.OSC="",h.PM="",h.APC=""})(m||(l.C1=m={})),(function(h){h.ST=`${d.ESC}\\`})(v||(l.C1_ESCAPED=v={}))},7399:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.evaluateKeyboardEvent=void 0;const m=d(2584),v={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};l.evaluateKeyboardEvent=function(h,w,S,k){const b={type:0,cancel:!1,key:void 0},u=(h.shiftKey?1:0)|(h.altKey?2:0)|(h.ctrlKey?4:0)|(h.metaKey?8:0);switch(h.keyCode){case 0:h.key==="UIKeyInputUpArrow"?b.key=w?m.C0.ESC+"OA":m.C0.ESC+"[A":h.key==="UIKeyInputLeftArrow"?b.key=w?m.C0.ESC+"OD":m.C0.ESC+"[D":h.key==="UIKeyInputRightArrow"?b.key=w?m.C0.ESC+"OC":m.C0.ESC+"[C":h.key==="UIKeyInputDownArrow"&&(b.key=w?m.C0.ESC+"OB":m.C0.ESC+"[B");break;case 8:if(h.altKey){b.key=m.C0.ESC+m.C0.DEL;break}b.key=m.C0.DEL;break;case 9:if(h.shiftKey){b.key=m.C0.ESC+"[Z";break}b.key=m.C0.HT,b.cancel=!0;break;case 13:b.key=h.altKey?m.C0.ESC+m.C0.CR:m.C0.CR,b.cancel=!0;break;case 27:b.key=m.C0.ESC,h.altKey&&(b.key=m.C0.ESC+m.C0.ESC),b.cancel=!0;break;case 37:if(h.metaKey)break;u?(b.key=m.C0.ESC+"[1;"+(u+1)+"D",b.key===m.C0.ESC+"[1;3D"&&(b.key=m.C0.ESC+(S?"b":"[1;5D"))):b.key=w?m.C0.ESC+"OD":m.C0.ESC+"[D";break;case 39:if(h.metaKey)break;u?(b.key=m.C0.ESC+"[1;"+(u+1)+"C",b.key===m.C0.ESC+"[1;3C"&&(b.key=m.C0.ESC+(S?"f":"[1;5C"))):b.key=w?m.C0.ESC+"OC":m.C0.ESC+"[C";break;case 38:if(h.metaKey)break;u?(b.key=m.C0.ESC+"[1;"+(u+1)+"A",S||b.key!==m.C0.ESC+"[1;3A"||(b.key=m.C0.ESC+"[1;5A")):b.key=w?m.C0.ESC+"OA":m.C0.ESC+"[A";break;case 40:if(h.metaKey)break;u?(b.key=m.C0.ESC+"[1;"+(u+1)+"B",S||b.key!==m.C0.ESC+"[1;3B"||(b.key=m.C0.ESC+"[1;5B")):b.key=w?m.C0.ESC+"OB":m.C0.ESC+"[B";break;case 45:h.shiftKey||h.ctrlKey||(b.key=m.C0.ESC+"[2~");break;case 46:b.key=u?m.C0.ESC+"[3;"+(u+1)+"~":m.C0.ESC+"[3~";break;case 36:b.key=u?m.C0.ESC+"[1;"+(u+1)+"H":w?m.C0.ESC+"OH":m.C0.ESC+"[H";break;case 35:b.key=u?m.C0.ESC+"[1;"+(u+1)+"F":w?m.C0.ESC+"OF":m.C0.ESC+"[F";break;case 33:h.shiftKey?b.type=2:h.ctrlKey?b.key=m.C0.ESC+"[5;"+(u+1)+"~":b.key=m.C0.ESC+"[5~";break;case 34:h.shiftKey?b.type=3:h.ctrlKey?b.key=m.C0.ESC+"[6;"+(u+1)+"~":b.key=m.C0.ESC+"[6~";break;case 112:b.key=u?m.C0.ESC+"[1;"+(u+1)+"P":m.C0.ESC+"OP";break;case 113:b.key=u?m.C0.ESC+"[1;"+(u+1)+"Q":m.C0.ESC+"OQ";break;case 114:b.key=u?m.C0.ESC+"[1;"+(u+1)+"R":m.C0.ESC+"OR";break;case 115:b.key=u?m.C0.ESC+"[1;"+(u+1)+"S":m.C0.ESC+"OS";break;case 116:b.key=u?m.C0.ESC+"[15;"+(u+1)+"~":m.C0.ESC+"[15~";break;case 117:b.key=u?m.C0.ESC+"[17;"+(u+1)+"~":m.C0.ESC+"[17~";break;case 118:b.key=u?m.C0.ESC+"[18;"+(u+1)+"~":m.C0.ESC+"[18~";break;case 119:b.key=u?m.C0.ESC+"[19;"+(u+1)+"~":m.C0.ESC+"[19~";break;case 120:b.key=u?m.C0.ESC+"[20;"+(u+1)+"~":m.C0.ESC+"[20~";break;case 121:b.key=u?m.C0.ESC+"[21;"+(u+1)+"~":m.C0.ESC+"[21~";break;case 122:b.key=u?m.C0.ESC+"[23;"+(u+1)+"~":m.C0.ESC+"[23~";break;case 123:b.key=u?m.C0.ESC+"[24;"+(u+1)+"~":m.C0.ESC+"[24~";break;default:if(!h.ctrlKey||h.shiftKey||h.altKey||h.metaKey)if(S&&!k||!h.altKey||h.metaKey)!S||h.altKey||h.ctrlKey||h.shiftKey||!h.metaKey?h.key&&!h.ctrlKey&&!h.altKey&&!h.metaKey&&h.keyCode>=48&&h.key.length===1?b.key=h.key:h.key&&h.ctrlKey&&(h.key==="_"&&(b.key=m.C0.US),h.key==="@"&&(b.key=m.C0.NUL)):h.keyCode===65&&(b.type=1);else{const x=v[h.keyCode],p=x?.[h.shiftKey?1:0];if(p)b.key=m.C0.ESC+p;else if(h.keyCode>=65&&h.keyCode<=90){const g=h.ctrlKey?h.keyCode-64:h.keyCode+32;let C=String.fromCharCode(g);h.shiftKey&&(C=C.toUpperCase()),b.key=m.C0.ESC+C}else if(h.keyCode===32)b.key=m.C0.ESC+(h.ctrlKey?m.C0.NUL:" ");else if(h.key==="Dead"&&h.code.startsWith("Key")){let g=h.code.slice(3,4);h.shiftKey||(g=g.toLowerCase()),b.key=m.C0.ESC+g,b.cancel=!0}}else h.keyCode>=65&&h.keyCode<=90?b.key=String.fromCharCode(h.keyCode-64):h.keyCode===32?b.key=m.C0.NUL:h.keyCode>=51&&h.keyCode<=55?b.key=String.fromCharCode(h.keyCode-51+27):h.keyCode===56?b.key=m.C0.DEL:h.keyCode===219?b.key=m.C0.ESC:h.keyCode===220?b.key=m.C0.FS:h.keyCode===221&&(b.key=m.C0.GS)}return b}},482:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Utf8ToUtf32=l.StringToUtf32=l.utf32ToString=l.stringFromCodePoint=void 0,l.stringFromCodePoint=function(d){return d>65535?(d-=65536,String.fromCharCode(55296+(d>>10))+String.fromCharCode(d%1024+56320)):String.fromCharCode(d)},l.utf32ToString=function(d,m=0,v=d.length){let h="";for(let w=m;w<v;++w){let S=d[w];S>65535?(S-=65536,h+=String.fromCharCode(55296+(S>>10))+String.fromCharCode(S%1024+56320)):h+=String.fromCharCode(S)}return h},l.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(d,m){const v=d.length;if(!v)return 0;let h=0,w=0;if(this._interim){const S=d.charCodeAt(w++);56320<=S&&S<=57343?m[h++]=1024*(this._interim-55296)+S-56320+65536:(m[h++]=this._interim,m[h++]=S),this._interim=0}for(let S=w;S<v;++S){const k=d.charCodeAt(S);if(55296<=k&&k<=56319){if(++S>=v)return this._interim=k,h;const b=d.charCodeAt(S);56320<=b&&b<=57343?m[h++]=1024*(k-55296)+b-56320+65536:(m[h++]=k,m[h++]=b)}else k!==65279&&(m[h++]=k)}return h}},l.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(d,m){const v=d.length;if(!v)return 0;let h,w,S,k,b=0,u=0,x=0;if(this.interim[0]){let C=!1,E=this.interim[0];E&=(224&E)==192?31:(240&E)==224?15:7;let P,L=0;for(;(P=63&this.interim[++L])&&L<4;)E<<=6,E|=P;const j=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,A=j-L;for(;x<A;){if(x>=v)return 0;if(P=d[x++],(192&P)!=128){x--,C=!0;break}this.interim[L++]=P,E<<=6,E|=63&P}C||(j===2?E<128?x--:m[b++]=E:j===3?E<2048||E>=55296&&E<=57343||E===65279||(m[b++]=E):E<65536||E>1114111||(m[b++]=E)),this.interim.fill(0)}const p=v-4;let g=x;for(;g<v;){for(;!(!(g<p)||128&(h=d[g])||128&(w=d[g+1])||128&(S=d[g+2])||128&(k=d[g+3]));)m[b++]=h,m[b++]=w,m[b++]=S,m[b++]=k,g+=4;if(h=d[g++],h<128)m[b++]=h;else if((224&h)==192){if(g>=v)return this.interim[0]=h,b;if(w=d[g++],(192&w)!=128){g--;continue}if(u=(31&h)<<6|63&w,u<128){g--;continue}m[b++]=u}else if((240&h)==224){if(g>=v)return this.interim[0]=h,b;if(w=d[g++],(192&w)!=128){g--;continue}if(g>=v)return this.interim[0]=h,this.interim[1]=w,b;if(S=d[g++],(192&S)!=128){g--;continue}if(u=(15&h)<<12|(63&w)<<6|63&S,u<2048||u>=55296&&u<=57343||u===65279)continue;m[b++]=u}else if((248&h)==240){if(g>=v)return this.interim[0]=h,b;if(w=d[g++],(192&w)!=128){g--;continue}if(g>=v)return this.interim[0]=h,this.interim[1]=w,b;if(S=d[g++],(192&S)!=128){g--;continue}if(g>=v)return this.interim[0]=h,this.interim[1]=w,this.interim[2]=S,b;if(k=d[g++],(192&k)!=128){g--;continue}if(u=(7&h)<<18|(63&w)<<12|(63&S)<<6|63&k,u<65536||u>1114111)continue;m[b++]=u}}return b}}},225:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeV6=void 0;const d=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],m=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let v;l.UnicodeV6=class{constructor(){if(this.version="6",!v){v=new Uint8Array(65536),v.fill(1),v[0]=0,v.fill(0,1,32),v.fill(0,127,160),v.fill(2,4352,4448),v[9001]=2,v[9002]=2,v.fill(2,11904,42192),v[12351]=1,v.fill(2,44032,55204),v.fill(2,63744,64256),v.fill(2,65040,65050),v.fill(2,65072,65136),v.fill(2,65280,65377),v.fill(2,65504,65511);for(let h=0;h<d.length;++h)v.fill(0,d[h][0],d[h][1]+1)}}wcwidth(h){return h<32?0:h<127?1:h<65536?v[h]:(function(w,S){let k,b=0,u=S.length-1;if(w<S[0][0]||w>S[u][1])return!1;for(;u>=b;)if(k=b+u>>1,w>S[k][1])b=k+1;else{if(!(w<S[k][0]))return!0;u=k-1}return!1})(h,m)?0:h>=131072&&h<=196605||h>=196608&&h<=262141?2:1}}},5981:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WriteBuffer=void 0;const m=d(8460),v=d(844);class h extends v.Disposable{constructor(S){super(),this._action=S,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new m.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(S,k){if(k!==void 0&&this._syncCalls>k)return void(this._syncCalls=0);if(this._pendingData+=S.length,this._writeBuffer.push(S),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let b;for(this._isSyncWriting=!0;b=this._writeBuffer.shift();){this._action(b);const u=this._callbacks.shift();u&&u()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(S,k){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=S.length,this._writeBuffer.push(S),this._callbacks.push(k),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=S.length,this._writeBuffer.push(S),this._callbacks.push(k)}_innerWrite(S=0,k=!0){const b=S||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const u=this._writeBuffer[this._bufferOffset],x=this._action(u,k);if(x){const g=C=>Date.now()-b>=12?setTimeout((()=>this._innerWrite(0,C))):this._innerWrite(b,C);return void x.catch((C=>(queueMicrotask((()=>{throw C})),Promise.resolve(!1)))).then(g)}const p=this._callbacks[this._bufferOffset];if(p&&p(),this._bufferOffset++,this._pendingData-=u.length,Date.now()-b>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}l.WriteBuffer=h},5941:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.toRgbString=l.parseColor=void 0;const d=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,m=/^[\da-f]+$/;function v(h,w){const S=h.toString(16),k=S.length<2?"0"+S:S;switch(w){case 4:return S[0];case 8:return k;case 12:return(k+k).slice(0,3);default:return k+k}}l.parseColor=function(h){if(!h)return;let w=h.toLowerCase();if(w.indexOf("rgb:")===0){w=w.slice(4);const S=d.exec(w);if(S){const k=S[1]?15:S[4]?255:S[7]?4095:65535;return[Math.round(parseInt(S[1]||S[4]||S[7]||S[10],16)/k*255),Math.round(parseInt(S[2]||S[5]||S[8]||S[11],16)/k*255),Math.round(parseInt(S[3]||S[6]||S[9]||S[12],16)/k*255)]}}else if(w.indexOf("#")===0&&(w=w.slice(1),m.exec(w)&&[3,6,9,12].includes(w.length))){const S=w.length/3,k=[0,0,0];for(let b=0;b<3;++b){const u=parseInt(w.slice(S*b,S*b+S),16);k[b]=S===1?u<<4:S===2?u:S===3?u>>4:u>>8}return k}},l.toRgbString=function(h,w=16){const[S,k,b]=h;return`rgb:${v(S,w)}/${v(k,w)}/${v(b,w)}`}},5770:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PAYLOAD_LIMIT=void 0,l.PAYLOAD_LIMIT=1e7},6351:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DcsHandler=l.DcsParser=void 0;const m=d(482),v=d(8742),h=d(5770),w=[];l.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=w,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=w}registerHandler(k,b){this._handlers[k]===void 0&&(this._handlers[k]=[]);const u=this._handlers[k];return u.push(b),{dispose:()=>{const x=u.indexOf(b);x!==-1&&u.splice(x,1)}}}clearHandler(k){this._handlers[k]&&delete this._handlers[k]}setHandlerFallback(k){this._handlerFb=k}reset(){if(this._active.length)for(let k=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;k>=0;--k)this._active[k].unhook(!1);this._stack.paused=!1,this._active=w,this._ident=0}hook(k,b){if(this.reset(),this._ident=k,this._active=this._handlers[k]||w,this._active.length)for(let u=this._active.length-1;u>=0;u--)this._active[u].hook(b);else this._handlerFb(this._ident,"HOOK",b)}put(k,b,u){if(this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].put(k,b,u);else this._handlerFb(this._ident,"PUT",(0,m.utf32ToString)(k,b,u))}unhook(k,b=!0){if(this._active.length){let u=!1,x=this._active.length-1,p=!1;if(this._stack.paused&&(x=this._stack.loopPosition-1,u=b,p=this._stack.fallThrough,this._stack.paused=!1),!p&&u===!1){for(;x>=0&&(u=this._active[x].unhook(k),u!==!0);x--)if(u instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!1,u;x--}for(;x>=0;x--)if(u=this._active[x].unhook(!1),u instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!0,u}else this._handlerFb(this._ident,"UNHOOK",k);this._active=w,this._ident=0}};const S=new v.Params;S.addParam(0),l.DcsHandler=class{constructor(k){this._handler=k,this._data="",this._params=S,this._hitLimit=!1}hook(k){this._params=k.length>1||k.params[0]?k.clone():S,this._data="",this._hitLimit=!1}put(k,b,u){this._hitLimit||(this._data+=(0,m.utf32ToString)(k,b,u),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(k){let b=!1;if(this._hitLimit)b=!1;else if(k&&(b=this._handler(this._data,this._params),b instanceof Promise))return b.then((u=>(this._params=S,this._data="",this._hitLimit=!1,u)));return this._params=S,this._data="",this._hitLimit=!1,b}}},2015:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.EscapeSequenceParser=l.VT500_TRANSITION_TABLE=l.TransitionTable=void 0;const m=d(844),v=d(8742),h=d(6242),w=d(6351);class S{constructor(x){this.table=new Uint8Array(x)}setDefault(x,p){this.table.fill(x<<4|p)}add(x,p,g,C){this.table[p<<8|x]=g<<4|C}addMany(x,p,g,C){for(let E=0;E<x.length;E++)this.table[p<<8|x[E]]=g<<4|C}}l.TransitionTable=S;const k=160;l.VT500_TRANSITION_TABLE=(function(){const u=new S(4095),x=Array.apply(null,Array(256)).map(((L,j)=>j)),p=(L,j)=>x.slice(L,j),g=p(32,127),C=p(0,24);C.push(25),C.push.apply(C,p(28,32));const E=p(0,14);let P;for(P in u.setDefault(1,0),u.addMany(g,0,2,0),E)u.addMany([24,26,153,154],P,3,0),u.addMany(p(128,144),P,3,0),u.addMany(p(144,152),P,3,0),u.add(156,P,0,0),u.add(27,P,11,1),u.add(157,P,4,8),u.addMany([152,158,159],P,0,7),u.add(155,P,11,3),u.add(144,P,11,9);return u.addMany(C,0,3,0),u.addMany(C,1,3,1),u.add(127,1,0,1),u.addMany(C,8,0,8),u.addMany(C,3,3,3),u.add(127,3,0,3),u.addMany(C,4,3,4),u.add(127,4,0,4),u.addMany(C,6,3,6),u.addMany(C,5,3,5),u.add(127,5,0,5),u.addMany(C,2,3,2),u.add(127,2,0,2),u.add(93,1,4,8),u.addMany(g,8,5,8),u.add(127,8,5,8),u.addMany([156,27,24,26,7],8,6,0),u.addMany(p(28,32),8,0,8),u.addMany([88,94,95],1,0,7),u.addMany(g,7,0,7),u.addMany(C,7,0,7),u.add(156,7,0,0),u.add(127,7,0,7),u.add(91,1,11,3),u.addMany(p(64,127),3,7,0),u.addMany(p(48,60),3,8,4),u.addMany([60,61,62,63],3,9,4),u.addMany(p(48,60),4,8,4),u.addMany(p(64,127),4,7,0),u.addMany([60,61,62,63],4,0,6),u.addMany(p(32,64),6,0,6),u.add(127,6,0,6),u.addMany(p(64,127),6,0,0),u.addMany(p(32,48),3,9,5),u.addMany(p(32,48),5,9,5),u.addMany(p(48,64),5,0,6),u.addMany(p(64,127),5,7,0),u.addMany(p(32,48),4,9,5),u.addMany(p(32,48),1,9,2),u.addMany(p(32,48),2,9,2),u.addMany(p(48,127),2,10,0),u.addMany(p(48,80),1,10,0),u.addMany(p(81,88),1,10,0),u.addMany([89,90,92],1,10,0),u.addMany(p(96,127),1,10,0),u.add(80,1,11,9),u.addMany(C,9,0,9),u.add(127,9,0,9),u.addMany(p(28,32),9,0,9),u.addMany(p(32,48),9,9,12),u.addMany(p(48,60),9,8,10),u.addMany([60,61,62,63],9,9,10),u.addMany(C,11,0,11),u.addMany(p(32,128),11,0,11),u.addMany(p(28,32),11,0,11),u.addMany(C,10,0,10),u.add(127,10,0,10),u.addMany(p(28,32),10,0,10),u.addMany(p(48,60),10,8,10),u.addMany([60,61,62,63],10,0,11),u.addMany(p(32,48),10,9,12),u.addMany(C,12,0,12),u.add(127,12,0,12),u.addMany(p(28,32),12,0,12),u.addMany(p(32,48),12,9,12),u.addMany(p(48,64),12,0,11),u.addMany(p(64,127),12,12,13),u.addMany(p(64,127),10,12,13),u.addMany(p(64,127),9,12,13),u.addMany(C,13,13,13),u.addMany(g,13,13,13),u.add(127,13,0,13),u.addMany([27,156,24,26],13,14,0),u.add(k,0,2,0),u.add(k,8,5,8),u.add(k,6,0,6),u.add(k,11,0,11),u.add(k,13,13,13),u})();class b extends m.Disposable{constructor(x=l.VT500_TRANSITION_TABLE){super(),this._transitions=x,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new v.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(p,g,C)=>{},this._executeHandlerFb=p=>{},this._csiHandlerFb=(p,g)=>{},this._escHandlerFb=p=>{},this._errorHandlerFb=p=>p,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,m.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new h.OscParser),this._dcsParser=this.register(new w.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(x,p=[64,126]){let g=0;if(x.prefix){if(x.prefix.length>1)throw new Error("only one byte as prefix supported");if(g=x.prefix.charCodeAt(0),g&&60>g||g>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(x.intermediates){if(x.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let E=0;E<x.intermediates.length;++E){const P=x.intermediates.charCodeAt(E);if(32>P||P>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");g<<=8,g|=P}}if(x.final.length!==1)throw new Error("final must be a single byte");const C=x.final.charCodeAt(0);if(p[0]>C||C>p[1])throw new Error(`final must be in range ${p[0]} .. ${p[1]}`);return g<<=8,g|=C,g}identToString(x){const p=[];for(;x;)p.push(String.fromCharCode(255&x)),x>>=8;return p.reverse().join("")}setPrintHandler(x){this._printHandler=x}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(x,p){const g=this._identifier(x,[48,126]);this._escHandlers[g]===void 0&&(this._escHandlers[g]=[]);const C=this._escHandlers[g];return C.push(p),{dispose:()=>{const E=C.indexOf(p);E!==-1&&C.splice(E,1)}}}clearEscHandler(x){this._escHandlers[this._identifier(x,[48,126])]&&delete this._escHandlers[this._identifier(x,[48,126])]}setEscHandlerFallback(x){this._escHandlerFb=x}setExecuteHandler(x,p){this._executeHandlers[x.charCodeAt(0)]=p}clearExecuteHandler(x){this._executeHandlers[x.charCodeAt(0)]&&delete this._executeHandlers[x.charCodeAt(0)]}setExecuteHandlerFallback(x){this._executeHandlerFb=x}registerCsiHandler(x,p){const g=this._identifier(x);this._csiHandlers[g]===void 0&&(this._csiHandlers[g]=[]);const C=this._csiHandlers[g];return C.push(p),{dispose:()=>{const E=C.indexOf(p);E!==-1&&C.splice(E,1)}}}clearCsiHandler(x){this._csiHandlers[this._identifier(x)]&&delete this._csiHandlers[this._identifier(x)]}setCsiHandlerFallback(x){this._csiHandlerFb=x}registerDcsHandler(x,p){return this._dcsParser.registerHandler(this._identifier(x),p)}clearDcsHandler(x){this._dcsParser.clearHandler(this._identifier(x))}setDcsHandlerFallback(x){this._dcsParser.setHandlerFallback(x)}registerOscHandler(x,p){return this._oscParser.registerHandler(x,p)}clearOscHandler(x){this._oscParser.clearHandler(x)}setOscHandlerFallback(x){this._oscParser.setHandlerFallback(x)}setErrorHandler(x){this._errorHandler=x}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(x,p,g,C,E){this._parseStack.state=x,this._parseStack.handlers=p,this._parseStack.handlerPos=g,this._parseStack.transition=C,this._parseStack.chunkPos=E}parse(x,p,g){let C,E=0,P=0,L=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,L=this._parseStack.chunkPos+1;else{if(g===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const j=this._parseStack.handlers;let A=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(g===!1&&A>-1){for(;A>=0&&(C=j[A](this._params),C!==!0);A--)if(C instanceof Promise)return this._parseStack.handlerPos=A,C}this._parseStack.handlers=[];break;case 4:if(g===!1&&A>-1){for(;A>=0&&(C=j[A](),C!==!0);A--)if(C instanceof Promise)return this._parseStack.handlerPos=A,C}this._parseStack.handlers=[];break;case 6:if(E=x[this._parseStack.chunkPos],C=this._dcsParser.unhook(E!==24&&E!==26,g),C)return C;E===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(E=x[this._parseStack.chunkPos],C=this._oscParser.end(E!==24&&E!==26,g),C)return C;E===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,L=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let j=L;j<p;++j){switch(E=x[j],P=this._transitions.table[this.currentState<<8|(E<160?E:k)],P>>4){case 2:for(let I=j+1;;++I){if(I>=p||(E=x[I])<32||E>126&&E<k){this._printHandler(x,j,I),j=I-1;break}if(++I>=p||(E=x[I])<32||E>126&&E<k){this._printHandler(x,j,I),j=I-1;break}if(++I>=p||(E=x[I])<32||E>126&&E<k){this._printHandler(x,j,I),j=I-1;break}if(++I>=p||(E=x[I])<32||E>126&&E<k){this._printHandler(x,j,I),j=I-1;break}}break;case 3:this._executeHandlers[E]?this._executeHandlers[E]():this._executeHandlerFb(E),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:j,code:E,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const A=this._csiHandlers[this._collect<<8|E];let z=A?A.length-1:-1;for(;z>=0&&(C=A[z](this._params),C!==!0);z--)if(C instanceof Promise)return this._preserveStack(3,A,z,P,j),C;z<0&&this._csiHandlerFb(this._collect<<8|E,this._params),this.precedingCodepoint=0;break;case 8:do switch(E){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(E-48)}while(++j<p&&(E=x[j])>47&&E<60);j--;break;case 9:this._collect<<=8,this._collect|=E;break;case 10:const $=this._escHandlers[this._collect<<8|E];let U=$?$.length-1:-1;for(;U>=0&&(C=$[U](),C!==!0);U--)if(C instanceof Promise)return this._preserveStack(4,$,U,P,j),C;U<0&&this._escHandlerFb(this._collect<<8|E),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|E,this._params);break;case 13:for(let I=j+1;;++I)if(I>=p||(E=x[I])===24||E===26||E===27||E>127&&E<k){this._dcsParser.put(x,j,I),j=I-1;break}break;case 14:if(C=this._dcsParser.unhook(E!==24&&E!==26),C)return this._preserveStack(6,[],0,P,j),C;E===27&&(P|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let I=j+1;;I++)if(I>=p||(E=x[I])<32||E>127&&E<k){this._oscParser.put(x,j,I),j=I-1;break}break;case 6:if(C=this._oscParser.end(E!==24&&E!==26),C)return this._preserveStack(5,[],0,P,j),C;E===27&&(P|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&P}}}l.EscapeSequenceParser=b},6242:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OscHandler=l.OscParser=void 0;const m=d(5770),v=d(482),h=[];l.OscParser=class{constructor(){this._state=0,this._active=h,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(w,S){this._handlers[w]===void 0&&(this._handlers[w]=[]);const k=this._handlers[w];return k.push(S),{dispose:()=>{const b=k.indexOf(S);b!==-1&&k.splice(b,1)}}}clearHandler(w){this._handlers[w]&&delete this._handlers[w]}setHandlerFallback(w){this._handlerFb=w}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}reset(){if(this._state===2)for(let w=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;w>=0;--w)this._active[w].end(!1);this._stack.paused=!1,this._active=h,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||h,this._active.length)for(let w=this._active.length-1;w>=0;w--)this._active[w].start();else this._handlerFb(this._id,"START")}_put(w,S,k){if(this._active.length)for(let b=this._active.length-1;b>=0;b--)this._active[b].put(w,S,k);else this._handlerFb(this._id,"PUT",(0,v.utf32ToString)(w,S,k))}start(){this.reset(),this._state=1}put(w,S,k){if(this._state!==3){if(this._state===1)for(;S<k;){const b=w[S++];if(b===59){this._state=2,this._start();break}if(b<48||57<b)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+b-48}this._state===2&&k-S>0&&this._put(w,S,k)}}end(w,S=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let k=!1,b=this._active.length-1,u=!1;if(this._stack.paused&&(b=this._stack.loopPosition-1,k=S,u=this._stack.fallThrough,this._stack.paused=!1),!u&&k===!1){for(;b>=0&&(k=this._active[b].end(w),k!==!0);b--)if(k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!1,k;b--}for(;b>=0;b--)if(k=this._active[b].end(!1),k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!0,k}else this._handlerFb(this._id,"END",w);this._active=h,this._id=-1,this._state=0}}},l.OscHandler=class{constructor(w){this._handler=w,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(w,S,k){this._hitLimit||(this._data+=(0,v.utf32ToString)(w,S,k),this._data.length>m.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(w){let S=!1;if(this._hitLimit)S=!1;else if(w&&(S=this._handler(this._data),S instanceof Promise))return S.then((k=>(this._data="",this._hitLimit=!1,k)));return this._data="",this._hitLimit=!1,S}}},8742:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Params=void 0;const d=2147483647;class m{static fromArray(h){const w=new m;if(!h.length)return w;for(let S=Array.isArray(h[0])?1:0;S<h.length;++S){const k=h[S];if(Array.isArray(k))for(let b=0;b<k.length;++b)w.addSubParam(k[b]);else w.addParam(k)}return w}constructor(h=32,w=32){if(this.maxLength=h,this.maxSubParamsLength=w,w>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(h),this.length=0,this._subParams=new Int32Array(w),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(h),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const h=new m(this.maxLength,this.maxSubParamsLength);return h.params.set(this.params),h.length=this.length,h._subParams.set(this._subParams),h._subParamsLength=this._subParamsLength,h._subParamsIdx.set(this._subParamsIdx),h._rejectDigits=this._rejectDigits,h._rejectSubDigits=this._rejectSubDigits,h._digitIsSub=this._digitIsSub,h}toArray(){const h=[];for(let w=0;w<this.length;++w){h.push(this.params[w]);const S=this._subParamsIdx[w]>>8,k=255&this._subParamsIdx[w];k-S>0&&h.push(Array.prototype.slice.call(this._subParams,S,k))}return h}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(h){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=h>d?d:h}}addSubParam(h){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=h>d?d:h,this._subParamsIdx[this.length-1]++}}hasSubParams(h){return(255&this._subParamsIdx[h])-(this._subParamsIdx[h]>>8)>0}getSubParams(h){const w=this._subParamsIdx[h]>>8,S=255&this._subParamsIdx[h];return S-w>0?this._subParams.subarray(w,S):null}getSubParamsAll(){const h={};for(let w=0;w<this.length;++w){const S=this._subParamsIdx[w]>>8,k=255&this._subParamsIdx[w];k-S>0&&(h[w]=this._subParams.slice(S,k))}return h}addDigit(h){let w;if(this._rejectDigits||!(w=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const S=this._digitIsSub?this._subParams:this.params,k=S[w-1];S[w-1]=~k?Math.min(10*k+h,d):h}}l.Params=m},5741:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AddonManager=void 0,l.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let d=this._addons.length-1;d>=0;d--)this._addons[d].instance.dispose()}loadAddon(d,m){const v={instance:m,dispose:m.dispose,isDisposed:!1};this._addons.push(v),m.dispose=()=>this._wrappedAddonDispose(v),m.activate(d)}_wrappedAddonDispose(d){if(d.isDisposed)return;let m=-1;for(let v=0;v<this._addons.length;v++)if(this._addons[v]===d){m=v;break}if(m===-1)throw new Error("Could not dispose an addon that has not been loaded");d.isDisposed=!0,d.dispose.apply(d.instance),this._addons.splice(m,1)}}},8771:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferApiView=void 0;const m=d(3785),v=d(511);l.BufferApiView=class{constructor(h,w){this._buffer=h,this.type=w}init(h){return this._buffer=h,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(h){const w=this._buffer.lines.get(h);if(w)return new m.BufferLineApiView(w)}getNullCell(){return new v.CellData}}},3785:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLineApiView=void 0;const m=d(511);l.BufferLineApiView=class{constructor(v){this._line=v}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(v,h){if(!(v<0||v>=this._line.length))return h?(this._line.loadCell(v,h),h):this._line.loadCell(v,new m.CellData)}translateToString(v,h,w){return this._line.translateToString(v,h,w)}}},8285:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferNamespaceApi=void 0;const m=d(8771),v=d(8460),h=d(844);class w extends h.Disposable{constructor(k){super(),this._core=k,this._onBufferChange=this.register(new v.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new m.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new m.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}l.BufferNamespaceApi=w},7975:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ParserApi=void 0,l.ParserApi=class{constructor(d){this._core=d}registerCsiHandler(d,m){return this._core.registerCsiHandler(d,(v=>m(v.toArray())))}addCsiHandler(d,m){return this.registerCsiHandler(d,m)}registerDcsHandler(d,m){return this._core.registerDcsHandler(d,((v,h)=>m(v,h.toArray())))}addDcsHandler(d,m){return this.registerDcsHandler(d,m)}registerEscHandler(d,m){return this._core.registerEscHandler(d,m)}addEscHandler(d,m){return this.registerEscHandler(d,m)}registerOscHandler(d,m){return this._core.registerOscHandler(d,m)}addOscHandler(d,m){return this.registerOscHandler(d,m)}}},7090:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeApi=void 0,l.UnicodeApi=class{constructor(d){this._core=d}register(d){this._core.unicodeService.register(d)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(d){this._core.unicodeService.activeVersion=d}}},744:function(y,l,d){var m=this&&this.__decorate||function(u,x,p,g){var C,E=arguments.length,P=E<3?x:g===null?g=Object.getOwnPropertyDescriptor(x,p):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(u,x,p,g);else for(var L=u.length-1;L>=0;L--)(C=u[L])&&(P=(E<3?C(P):E>3?C(x,p,P):C(x,p))||P);return E>3&&P&&Object.defineProperty(x,p,P),P},v=this&&this.__param||function(u,x){return function(p,g){x(p,g,u)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferService=l.MINIMUM_ROWS=l.MINIMUM_COLS=void 0;const h=d(8460),w=d(844),S=d(5295),k=d(2585);l.MINIMUM_COLS=2,l.MINIMUM_ROWS=1;let b=l.BufferService=class extends w.Disposable{get buffer(){return this.buffers.active}constructor(u){super(),this.isUserScrolling=!1,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(u.rawOptions.cols||0,l.MINIMUM_COLS),this.rows=Math.max(u.rawOptions.rows||0,l.MINIMUM_ROWS),this.buffers=this.register(new S.BufferSet(u,this))}resize(u,x){this.cols=u,this.rows=x,this.buffers.resize(u,x),this._onResize.fire({cols:u,rows:x})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(u,x=!1){const p=this.buffer;let g;g=this._cachedBlankLine,g&&g.length===this.cols&&g.getFg(0)===u.fg&&g.getBg(0)===u.bg||(g=p.getBlankLine(u,x),this._cachedBlankLine=g),g.isWrapped=x;const C=p.ybase+p.scrollTop,E=p.ybase+p.scrollBottom;if(p.scrollTop===0){const P=p.lines.isFull;E===p.lines.length-1?P?p.lines.recycle().copyFrom(g):p.lines.push(g.clone()):p.lines.splice(E+1,0,g.clone()),P?this.isUserScrolling&&(p.ydisp=Math.max(p.ydisp-1,0)):(p.ybase++,this.isUserScrolling||p.ydisp++)}else{const P=E-C+1;p.lines.shiftElements(C+1,P-1,-1),p.lines.set(E,g.clone())}this.isUserScrolling||(p.ydisp=p.ybase),this._onScroll.fire(p.ydisp)}scrollLines(u,x,p){const g=this.buffer;if(u<0){if(g.ydisp===0)return;this.isUserScrolling=!0}else u+g.ydisp>=g.ybase&&(this.isUserScrolling=!1);const C=g.ydisp;g.ydisp=Math.max(Math.min(g.ydisp+u,g.ybase),0),C!==g.ydisp&&(x||this._onScroll.fire(g.ydisp))}};l.BufferService=b=m([v(0,k.IOptionsService)],b)},7994:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CharsetService=void 0,l.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(d){this.glevel=d,this.charset=this._charsets[d]}setgCharset(d,m){this._charsets[d]=m,this.glevel===d&&(this.charset=m)}}},1753:function(y,l,d){var m=this&&this.__decorate||function(g,C,E,P){var L,j=arguments.length,A=j<3?C:P===null?P=Object.getOwnPropertyDescriptor(C,E):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(g,C,E,P);else for(var z=g.length-1;z>=0;z--)(L=g[z])&&(A=(j<3?L(A):j>3?L(C,E,A):L(C,E))||A);return j>3&&A&&Object.defineProperty(C,E,A),A},v=this&&this.__param||function(g,C){return function(E,P){C(E,P,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreMouseService=void 0;const h=d(2585),w=d(8460),S=d(844),k={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:g=>g.button!==4&&g.action===1&&(g.ctrl=!1,g.alt=!1,g.shift=!1,!0)},VT200:{events:19,restrict:g=>g.action!==32},DRAG:{events:23,restrict:g=>g.action!==32||g.button!==3},ANY:{events:31,restrict:g=>!0}};function b(g,C){let E=(g.ctrl?16:0)|(g.shift?4:0)|(g.alt?8:0);return g.button===4?(E|=64,E|=g.action):(E|=3&g.button,4&g.button&&(E|=64),8&g.button&&(E|=128),g.action===32?E|=32:g.action!==0||C||(E|=3)),E}const u=String.fromCharCode,x={DEFAULT:g=>{const C=[b(g,!1)+32,g.col+32,g.row+32];return C[0]>255||C[1]>255||C[2]>255?"":`\x1B[M${u(C[0])}${u(C[1])}${u(C[2])}`},SGR:g=>{const C=g.action===0&&g.button!==4?"m":"M";return`\x1B[<${b(g,!0)};${g.col};${g.row}${C}`},SGR_PIXELS:g=>{const C=g.action===0&&g.button!==4?"m":"M";return`\x1B[<${b(g,!0)};${g.x};${g.y}${C}`}};let p=l.CoreMouseService=class extends S.Disposable{constructor(g,C){super(),this._bufferService=g,this._coreService=C,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new w.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const E of Object.keys(k))this.addProtocol(E,k[E]);for(const E of Object.keys(x))this.addEncoding(E,x[E]);this.reset()}addProtocol(g,C){this._protocols[g]=C}addEncoding(g,C){this._encodings[g]=C}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(g){if(!this._protocols[g])throw new Error(`unknown protocol "${g}"`);this._activeProtocol=g,this._onProtocolChange.fire(this._protocols[g].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(g){if(!this._encodings[g])throw new Error(`unknown encoding "${g}"`);this._activeEncoding=g}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(g){if(g.col<0||g.col>=this._bufferService.cols||g.row<0||g.row>=this._bufferService.rows||g.button===4&&g.action===32||g.button===3&&g.action!==32||g.button!==4&&(g.action===2||g.action===3)||(g.col++,g.row++,g.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,g,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(g))return!1;const C=this._encodings[this._activeEncoding](g);return C&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(C):this._coreService.triggerDataEvent(C,!0)),this._lastEvent=g,!0}explainEvents(g){return{down:!!(1&g),up:!!(2&g),drag:!!(4&g),move:!!(8&g),wheel:!!(16&g)}}_equalEvents(g,C,E){if(E){if(g.x!==C.x||g.y!==C.y)return!1}else if(g.col!==C.col||g.row!==C.row)return!1;return g.button===C.button&&g.action===C.action&&g.ctrl===C.ctrl&&g.alt===C.alt&&g.shift===C.shift}};l.CoreMouseService=p=m([v(0,h.IBufferService),v(1,h.ICoreService)],p)},6975:function(y,l,d){var m=this&&this.__decorate||function(p,g,C,E){var P,L=arguments.length,j=L<3?g:E===null?E=Object.getOwnPropertyDescriptor(g,C):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(p,g,C,E);else for(var A=p.length-1;A>=0;A--)(P=p[A])&&(j=(L<3?P(j):L>3?P(g,C,j):P(g,C))||j);return L>3&&j&&Object.defineProperty(g,C,j),j},v=this&&this.__param||function(p,g){return function(C,E){g(C,E,p)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreService=void 0;const h=d(1439),w=d(8460),S=d(844),k=d(2585),b=Object.freeze({insertMode:!1}),u=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let x=l.CoreService=class extends S.Disposable{constructor(p,g,C){super(),this._bufferService=p,this._logService=g,this._optionsService=C,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new w.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new w.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new w.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new w.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,h.clone)(b),this.decPrivateModes=(0,h.clone)(u)}reset(){this.modes=(0,h.clone)(b),this.decPrivateModes=(0,h.clone)(u)}triggerDataEvent(p,g=!1){if(this._optionsService.rawOptions.disableStdin)return;const C=this._bufferService.buffer;g&&this._optionsService.rawOptions.scrollOnUserInput&&C.ybase!==C.ydisp&&this._onRequestScrollToBottom.fire(),g&&this._onUserInput.fire(),this._logService.debug(`sending data "${p}"`,(()=>p.split("").map((E=>E.charCodeAt(0))))),this._onData.fire(p)}triggerBinaryEvent(p){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${p}"`,(()=>p.split("").map((g=>g.charCodeAt(0))))),this._onBinary.fire(p))}};l.CoreService=x=m([v(0,k.IBufferService),v(1,k.ILogService),v(2,k.IOptionsService)],x)},9074:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DecorationService=void 0;const m=d(8055),v=d(8460),h=d(844),w=d(6106);let S=0,k=0;class b extends h.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new w.SortedList((p=>p?.marker.line)),this._onDecorationRegistered=this.register(new v.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new v.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,h.toDisposable)((()=>this.reset())))}registerDecoration(p){if(p.marker.isDisposed)return;const g=new u(p);if(g){const C=g.marker.onDispose((()=>g.dispose()));g.onDispose((()=>{g&&(this._decorations.delete(g)&&this._onDecorationRemoved.fire(g),C.dispose())})),this._decorations.insert(g),this._onDecorationRegistered.fire(g)}return g}reset(){for(const p of this._decorations.values())p.dispose();this._decorations.clear()}*getDecorationsAtCell(p,g,C){var E,P,L;let j=0,A=0;for(const z of this._decorations.getKeyIterator(g))j=(E=z.options.x)!==null&&E!==void 0?E:0,A=j+((P=z.options.width)!==null&&P!==void 0?P:1),p>=j&&p<A&&(!C||((L=z.options.layer)!==null&&L!==void 0?L:"bottom")===C)&&(yield z)}forEachDecorationAtCell(p,g,C,E){this._decorations.forEachByKey(g,(P=>{var L,j,A;S=(L=P.options.x)!==null&&L!==void 0?L:0,k=S+((j=P.options.width)!==null&&j!==void 0?j:1),p>=S&&p<k&&(!C||((A=P.options.layer)!==null&&A!==void 0?A:"bottom")===C)&&E(P)}))}}l.DecorationService=b;class u extends h.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=m.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=m.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(p){super(),this.options=p,this.onRenderEmitter=this.register(new v.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new v.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=p.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.InstantiationService=l.ServiceCollection=void 0;const m=d(2585),v=d(8343);class h{constructor(...S){this._entries=new Map;for(const[k,b]of S)this.set(k,b)}set(S,k){const b=this._entries.get(S);return this._entries.set(S,k),b}forEach(S){for(const[k,b]of this._entries.entries())S(k,b)}has(S){return this._entries.has(S)}get(S){return this._entries.get(S)}}l.ServiceCollection=h,l.InstantiationService=class{constructor(){this._services=new h,this._services.set(m.IInstantiationService,this)}setService(w,S){this._services.set(w,S)}getService(w){return this._services.get(w)}createInstance(w,...S){const k=(0,v.getServiceDependencies)(w).sort(((x,p)=>x.index-p.index)),b=[];for(const x of k){const p=this._services.get(x.id);if(!p)throw new Error(`[createInstance] ${w.name} depends on UNKNOWN service ${x.id}.`);b.push(p)}const u=k.length>0?k[0].index:S.length;if(S.length!==u)throw new Error(`[createInstance] First service dependency of ${w.name} at position ${u+1} conflicts with ${S.length} static arguments`);return new w(...S,...b)}}},7866:function(y,l,d){var m=this&&this.__decorate||function(u,x,p,g){var C,E=arguments.length,P=E<3?x:g===null?g=Object.getOwnPropertyDescriptor(x,p):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(u,x,p,g);else for(var L=u.length-1;L>=0;L--)(C=u[L])&&(P=(E<3?C(P):E>3?C(x,p,P):C(x,p))||P);return E>3&&P&&Object.defineProperty(x,p,P),P},v=this&&this.__param||function(u,x){return function(p,g){x(p,g,u)}};Object.defineProperty(l,"__esModule",{value:!0}),l.traceCall=l.setTraceLogger=l.LogService=void 0;const h=d(844),w=d(2585),S={trace:w.LogLevelEnum.TRACE,debug:w.LogLevelEnum.DEBUG,info:w.LogLevelEnum.INFO,warn:w.LogLevelEnum.WARN,error:w.LogLevelEnum.ERROR,off:w.LogLevelEnum.OFF};let k,b=l.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(u){super(),this._optionsService=u,this._logLevel=w.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),k=this}_updateLogLevel(){this._logLevel=S[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(u){for(let x=0;x<u.length;x++)typeof u[x]=="function"&&(u[x]=u[x]())}_log(u,x,p){this._evalLazyOptionalParams(p),u.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+x,...p)}trace(u,...x){var p,g;this._logLevel<=w.LogLevelEnum.TRACE&&this._log((g=(p=this._optionsService.options.logger)===null||p===void 0?void 0:p.trace.bind(this._optionsService.options.logger))!==null&&g!==void 0?g:console.log,u,x)}debug(u,...x){var p,g;this._logLevel<=w.LogLevelEnum.DEBUG&&this._log((g=(p=this._optionsService.options.logger)===null||p===void 0?void 0:p.debug.bind(this._optionsService.options.logger))!==null&&g!==void 0?g:console.log,u,x)}info(u,...x){var p,g;this._logLevel<=w.LogLevelEnum.INFO&&this._log((g=(p=this._optionsService.options.logger)===null||p===void 0?void 0:p.info.bind(this._optionsService.options.logger))!==null&&g!==void 0?g:console.info,u,x)}warn(u,...x){var p,g;this._logLevel<=w.LogLevelEnum.WARN&&this._log((g=(p=this._optionsService.options.logger)===null||p===void 0?void 0:p.warn.bind(this._optionsService.options.logger))!==null&&g!==void 0?g:console.warn,u,x)}error(u,...x){var p,g;this._logLevel<=w.LogLevelEnum.ERROR&&this._log((g=(p=this._optionsService.options.logger)===null||p===void 0?void 0:p.error.bind(this._optionsService.options.logger))!==null&&g!==void 0?g:console.error,u,x)}};l.LogService=b=m([v(0,w.IOptionsService)],b),l.setTraceLogger=function(u){k=u},l.traceCall=function(u,x,p){if(typeof p.value!="function")throw new Error("not supported");const g=p.value;p.value=function(...C){if(k.logLevel!==w.LogLevelEnum.TRACE)return g.apply(this,C);k.trace(`GlyphRenderer#${g.name}(${C.map((P=>JSON.stringify(P))).join(", ")})`);const E=g.apply(this,C);return k.trace(`GlyphRenderer#${g.name} return`,E),E}}},7302:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OptionsService=l.DEFAULT_OPTIONS=void 0;const m=d(8460),v=d(844),h=d(6114);l.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:h.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const w=["normal","bold","100","200","300","400","500","600","700","800","900"];class S extends v.Disposable{constructor(b){super(),this._onOptionChange=this.register(new m.EventEmitter),this.onOptionChange=this._onOptionChange.event;const u=Object.assign({},l.DEFAULT_OPTIONS);for(const x in b)if(x in u)try{const p=b[x];u[x]=this._sanitizeAndValidateOption(x,p)}catch(p){console.error(p)}this.rawOptions=u,this.options=Object.assign({},u),this._setupOptions()}onSpecificOptionChange(b,u){return this.onOptionChange((x=>{x===b&&u(this.rawOptions[b])}))}onMultipleOptionChange(b,u){return this.onOptionChange((x=>{b.indexOf(x)!==-1&&u()}))}_setupOptions(){const b=x=>{if(!(x in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${x}"`);return this.rawOptions[x]},u=(x,p)=>{if(!(x in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${x}"`);p=this._sanitizeAndValidateOption(x,p),this.rawOptions[x]!==p&&(this.rawOptions[x]=p,this._onOptionChange.fire(x))};for(const x in this.rawOptions){const p={get:b.bind(this,x),set:u.bind(this,x)};Object.defineProperty(this.options,x,p)}}_sanitizeAndValidateOption(b,u){switch(b){case"cursorStyle":if(u||(u=l.DEFAULT_OPTIONS[b]),!(function(x){return x==="block"||x==="underline"||x==="bar"})(u))throw new Error(`"${u}" is not a valid value for ${b}`);break;case"wordSeparator":u||(u=l.DEFAULT_OPTIONS[b]);break;case"fontWeight":case"fontWeightBold":if(typeof u=="number"&&1<=u&&u<=1e3)break;u=w.includes(u)?u:l.DEFAULT_OPTIONS[b];break;case"cursorWidth":u=Math.floor(u);case"lineHeight":case"tabStopWidth":if(u<1)throw new Error(`${b} cannot be less than 1, value: ${u}`);break;case"minimumContrastRatio":u=Math.max(1,Math.min(21,Math.round(10*u)/10));break;case"scrollback":if((u=Math.min(u,4294967295))<0)throw new Error(`${b} cannot be less than 0, value: ${u}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(u<=0)throw new Error(`${b} cannot be less than or equal to 0, value: ${u}`);break;case"rows":case"cols":if(!u&&u!==0)throw new Error(`${b} must be numeric, value: ${u}`);break;case"windowsPty":u=u??{}}return u}}l.OptionsService=S},2660:function(y,l,d){var m=this&&this.__decorate||function(S,k,b,u){var x,p=arguments.length,g=p<3?k:u===null?u=Object.getOwnPropertyDescriptor(k,b):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(S,k,b,u);else for(var C=S.length-1;C>=0;C--)(x=S[C])&&(g=(p<3?x(g):p>3?x(k,b,g):x(k,b))||g);return p>3&&g&&Object.defineProperty(k,b,g),g},v=this&&this.__param||function(S,k){return function(b,u){k(b,u,S)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkService=void 0;const h=d(2585);let w=l.OscLinkService=class{constructor(S){this._bufferService=S,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(S){const k=this._bufferService.buffer;if(S.id===void 0){const C=k.addMarker(k.ybase+k.y),E={data:S,id:this._nextId++,lines:[C]};return C.onDispose((()=>this._removeMarkerFromLink(E,C))),this._dataByLinkId.set(E.id,E),E.id}const b=S,u=this._getEntryIdKey(b),x=this._entriesWithId.get(u);if(x)return this.addLineToLink(x.id,k.ybase+k.y),x.id;const p=k.addMarker(k.ybase+k.y),g={id:this._nextId++,key:this._getEntryIdKey(b),data:b,lines:[p]};return p.onDispose((()=>this._removeMarkerFromLink(g,p))),this._entriesWithId.set(g.key,g),this._dataByLinkId.set(g.id,g),g.id}addLineToLink(S,k){const b=this._dataByLinkId.get(S);if(b&&b.lines.every((u=>u.line!==k))){const u=this._bufferService.buffer.addMarker(k);b.lines.push(u),u.onDispose((()=>this._removeMarkerFromLink(b,u)))}}getLinkData(S){var k;return(k=this._dataByLinkId.get(S))===null||k===void 0?void 0:k.data}_getEntryIdKey(S){return`${S.id};;${S.uri}`}_removeMarkerFromLink(S,k){const b=S.lines.indexOf(k);b!==-1&&(S.lines.splice(b,1),S.lines.length===0&&(S.data.id!==void 0&&this._entriesWithId.delete(S.key),this._dataByLinkId.delete(S.id)))}};l.OscLinkService=w=m([v(0,h.IBufferService)],w)},8343:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createDecorator=l.getServiceDependencies=l.serviceRegistry=void 0;const d="di$target",m="di$dependencies";l.serviceRegistry=new Map,l.getServiceDependencies=function(v){return v[m]||[]},l.createDecorator=function(v){if(l.serviceRegistry.has(v))return l.serviceRegistry.get(v);const h=function(w,S,k){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(b,u,x){u[d]===u?u[m].push({id:b,index:x}):(u[m]=[{id:b,index:x}],u[d]=u)})(h,w,k)};return h.toString=()=>v,l.serviceRegistry.set(v,h),h}},2585:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IDecorationService=l.IUnicodeService=l.IOscLinkService=l.IOptionsService=l.ILogService=l.LogLevelEnum=l.IInstantiationService=l.ICharsetService=l.ICoreService=l.ICoreMouseService=l.IBufferService=void 0;const m=d(8343);var v;l.IBufferService=(0,m.createDecorator)("BufferService"),l.ICoreMouseService=(0,m.createDecorator)("CoreMouseService"),l.ICoreService=(0,m.createDecorator)("CoreService"),l.ICharsetService=(0,m.createDecorator)("CharsetService"),l.IInstantiationService=(0,m.createDecorator)("InstantiationService"),(function(h){h[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF"})(v||(l.LogLevelEnum=v={})),l.ILogService=(0,m.createDecorator)("LogService"),l.IOptionsService=(0,m.createDecorator)("OptionsService"),l.IOscLinkService=(0,m.createDecorator)("OscLinkService"),l.IUnicodeService=(0,m.createDecorator)("UnicodeService"),l.IDecorationService=(0,m.createDecorator)("DecorationService")},1480:(y,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeService=void 0;const m=d(8460),v=d(225);l.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new m.EventEmitter,this.onChange=this._onChange.event;const h=new v.UnicodeV6;this.register(h),this._active=h.version,this._activeProvider=h}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(h){if(!this._providers[h])throw new Error(`unknown Unicode version "${h}"`);this._active=h,this._activeProvider=this._providers[h],this._onChange.fire(h)}register(h){this._providers[h.version]=h}wcwidth(h){return this._activeProvider.wcwidth(h)}getStringCellWidth(h){let w=0;const S=h.length;for(let k=0;k<S;++k){let b=h.charCodeAt(k);if(55296<=b&&b<=56319){if(++k>=S)return w+this.wcwidth(b);const u=h.charCodeAt(k);56320<=u&&u<=57343?b=1024*(b-55296)+u-56320+65536:w+=this.wcwidth(u)}w+=this.wcwidth(b)}return w}}}},o={};function a(y){var l=o[y];if(l!==void 0)return l.exports;var d=o[y]={exports:{}};return n[y].call(d.exports,d,d.exports,a),d.exports}var f={};return(()=>{var y=f;Object.defineProperty(y,"__esModule",{value:!0}),y.Terminal=void 0;const l=a(9042),d=a(3236),m=a(844),v=a(5741),h=a(8285),w=a(7975),S=a(7090),k=["cols","rows"];class b extends m.Disposable{constructor(x){super(),this._core=this.register(new d.Terminal(x)),this._addonManager=this.register(new v.AddonManager),this._publicOptions=Object.assign({},this._core.options);const p=C=>this._core.options[C],g=(C,E)=>{this._checkReadonlyOptions(C),this._core.options[C]=E};for(const C in this._core.options){const E={get:p.bind(this,C),set:g.bind(this,C)};Object.defineProperty(this._publicOptions,C,E)}}_checkReadonlyOptions(x){if(k.includes(x))throw new Error(`Option "${x}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new w.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new S.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new h.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const x=this._core.coreService.decPrivateModes;let p="none";switch(this._core.coreMouseService.activeProtocol){case"X10":p="x10";break;case"VT200":p="vt200";break;case"DRAG":p="drag";break;case"ANY":p="any"}return{applicationCursorKeysMode:x.applicationCursorKeys,applicationKeypadMode:x.applicationKeypad,bracketedPasteMode:x.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:p,originMode:x.origin,reverseWraparoundMode:x.reverseWraparound,sendFocusMode:x.sendFocus,wraparoundMode:x.wraparound}}get options(){return this._publicOptions}set options(x){for(const p in x)this._publicOptions[p]=x[p]}blur(){this._core.blur()}focus(){this._core.focus()}resize(x,p){this._verifyIntegers(x,p),this._core.resize(x,p)}open(x){this._core.open(x)}attachCustomKeyEventHandler(x){this._core.attachCustomKeyEventHandler(x)}registerLinkProvider(x){return this._core.registerLinkProvider(x)}registerCharacterJoiner(x){return this._checkProposedApi(),this._core.registerCharacterJoiner(x)}deregisterCharacterJoiner(x){this._checkProposedApi(),this._core.deregisterCharacterJoiner(x)}registerMarker(x=0){return this._verifyIntegers(x),this._core.registerMarker(x)}registerDecoration(x){var p,g,C;return this._checkProposedApi(),this._verifyPositiveIntegers((p=x.x)!==null&&p!==void 0?p:0,(g=x.width)!==null&&g!==void 0?g:0,(C=x.height)!==null&&C!==void 0?C:0),this._core.registerDecoration(x)}hasSelection(){return this._core.hasSelection()}select(x,p,g){this._verifyIntegers(x,p,g),this._core.select(x,p,g)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(x,p){this._verifyIntegers(x,p),this._core.selectLines(x,p)}dispose(){super.dispose()}scrollLines(x){this._verifyIntegers(x),this._core.scrollLines(x)}scrollPages(x){this._verifyIntegers(x),this._core.scrollPages(x)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(x){this._verifyIntegers(x),this._core.scrollToLine(x)}clear(){this._core.clear()}write(x,p){this._core.write(x,p)}writeln(x,p){this._core.write(x),this._core.write(`\r
`,p)}paste(x){this._core.paste(x)}refresh(x,p){this._verifyIntegers(x,p),this._core.refresh(x,p)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(x){this._addonManager.loadAddon(this,x)}static get strings(){return l}_verifyIntegers(...x){for(const p of x)if(p===1/0||isNaN(p)||p%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...x){for(const p of x)if(p&&(p===1/0||isNaN(p)||p%1!=0||p<0))throw new Error("This API only accepts positive integers")}}y.Terminal=b})(),f})()))})(Nd)),Nd.exports}var YN=QN(),Ed={exports:{}},vv;function XN(){return vv||(vv=1,(function(e,s){(function(n,o){e.exports=o()})(self,(()=>(()=>{var n={};return(()=>{var o=n;Object.defineProperty(o,"__esModule",{value:!0}),o.FitAddon=void 0,o.FitAddon=class{activate(a){this._terminal=a}dispose(){}fit(){const a=this.proposeDimensions();if(!a||!this._terminal||isNaN(a.cols)||isNaN(a.rows))return;const f=this._terminal._core;this._terminal.rows===a.rows&&this._terminal.cols===a.cols||(f._renderService.clear(),this._terminal.resize(a.cols,a.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const a=this._terminal._core,f=a._renderService.dimensions;if(f.css.cell.width===0||f.css.cell.height===0)return;const y=this._terminal.options.scrollback===0?0:a.viewport.scrollBarWidth,l=window.getComputedStyle(this._terminal.element.parentElement),d=parseInt(l.getPropertyValue("height")),m=Math.max(0,parseInt(l.getPropertyValue("width"))),v=window.getComputedStyle(this._terminal.element),h=d-(parseInt(v.getPropertyValue("padding-top"))+parseInt(v.getPropertyValue("padding-bottom"))),w=m-(parseInt(v.getPropertyValue("padding-right"))+parseInt(v.getPropertyValue("padding-left")))-y;return{cols:Math.max(2,Math.floor(w/f.css.cell.width)),rows:Math.max(1,Math.floor(h/f.css.cell.height))}}}})(),n})()))})(Ed)),Ed.exports}var JN=XN(),Rd={exports:{}},xv;function ZN(){return xv||(xv=1,(function(e,s){(function(n,o){e.exports=o()})(self,(()=>(()=>{var n={6:(y,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.LinkComputer=l.WebLinkProvider=void 0,l.WebLinkProvider=class{constructor(m,v,h,w={}){this._terminal=m,this._regex=v,this._handler=h,this._options=w}provideLinks(m,v){const h=d.computeLink(m,this._regex,this._terminal,this._handler);v(this._addCallbacks(h))}_addCallbacks(m){return m.map((v=>(v.leave=this._options.leave,v.hover=(h,w)=>{if(this._options.hover){const{range:S}=v;this._options.hover(h,w,S)}},v)))}};class d{static computeLink(v,h,w,S){const k=new RegExp(h.source,(h.flags||"")+"g"),[b,u]=d._getWindowedLineStrings(v-1,w),x=b.join("");let p;const g=[];for(;p=k.exec(x);){const C=p[0];try{const z=new URL(C),$=decodeURI(z.toString());if(C!==$&&C+"/"!==$)continue}catch{continue}const[E,P]=d._mapStrIdx(w,u,0,p.index),[L,j]=d._mapStrIdx(w,E,P,C.length);if(E===-1||P===-1||L===-1||j===-1)continue;const A={start:{x:P+1,y:E+1},end:{x:j,y:L+1}};g.push({range:A,text:C,activate:S})}return g}static _getWindowedLineStrings(v,h){let w,S=v,k=v,b=0,u="";const x=[];if(w=h.buffer.active.getLine(v)){const p=w.translateToString(!0);if(w.isWrapped&&p[0]!==" "){for(b=0;(w=h.buffer.active.getLine(--S))&&b<2048&&(u=w.translateToString(!0),b+=u.length,x.push(u),w.isWrapped&&u.indexOf(" ")===-1););x.reverse()}for(x.push(p),b=0;(w=h.buffer.active.getLine(++k))&&w.isWrapped&&b<2048&&(u=w.translateToString(!0),b+=u.length,x.push(u),u.indexOf(" ")===-1););}return[x,S]}static _mapStrIdx(v,h,w,S){const k=v.buffer.active,b=k.getNullCell();let u=w;for(;S;){const x=k.getLine(h);if(!x)return[-1,-1];for(let p=u;p<x.length;++p){x.getCell(p,b);const g=b.getChars();if(b.getWidth()&&(S-=g.length||1,p===x.length-1&&g==="")){const C=k.getLine(h+1);C&&C.isWrapped&&(C.getCell(0,b),b.getWidth()===2&&(S+=1))}if(S<0)return[h,p]}h++,u=0}return[h,u]}}l.LinkComputer=d}},o={};function a(y){var l=o[y];if(l!==void 0)return l.exports;var d=o[y]={exports:{}};return n[y](d,d.exports,a),d.exports}var f={};return(()=>{var y=f;Object.defineProperty(y,"__esModule",{value:!0}),y.WebLinksAddon=void 0;const l=a(6),d=/https?:[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function m(v,h){const w=window.open();if(w){try{w.opener=null}catch{}w.location.href=h}else console.warn("Opening link blocked as opener could not be cleared")}y.WebLinksAddon=class{constructor(v=m,h={}){this._handler=v,this._options=h}activate(v){this._terminal=v;const h=this._options,w=h.urlRegex||d;this._linkProvider=this._terminal.registerLinkProvider(new l.WebLinkProvider(this._terminal,w,this._handler,h))}dispose(){var v;(v=this._linkProvider)===null||v===void 0||v.dispose()}}})(),f})()))})(Rd)),Rd.exports}var eE=ZN();const tE=[{id:"whoami",name:"Current User",description:"Display the username running the implant",command:"whoami",icon:hr,category:"info",os:"all"},{id:"hostname",name:"Hostname",description:"Display the machine hostname",command:"hostname",icon:qs,category:"info",os:"all"},{id:"pwd",name:"Current Directory",description:"Display current working directory path",command:"pwd",icon:Il,category:"info",os:"linux"},{id:"cd",name:"Current Directory (Windows)",description:"Display current working directory path",command:"cd",icon:Il,category:"info",os:"windows"},{id:"ifconfig",name:"Network Config (Linux/Mac)",description:"Display network configuration",command:"ifconfig",icon:Gr,category:"network",os:"linux"},{id:"ipconfig",name:"Network Config (Windows)",description:"Display network configuration",command:"ipconfig",icon:Gr,category:"network",os:"windows"},{id:"netstat",name:"Network Connections",description:"List active network connections",command:"netstat -an",icon:Gr,category:"network",os:"all"},{id:"arp",name:"ARP Table",description:"View ARP table (devices on LAN)",command:"arp -a",icon:Gr,category:"network",os:"all"},{id:"ls",name:"List Files (Linux)",description:"List files in current directory",command:"ls -la",icon:Zr,category:"files",os:"linux"},{id:"dir",name:"List Files (Windows)",description:"List files in current directory",command:"dir",icon:Zr,category:"files",os:"windows"},{id:"ps",name:"List Processes (Linux)",description:"Display running processes",command:"ps aux",icon:rs,category:"process",os:"linux"},{id:"tasklist",name:"List Processes (Windows)",description:"Display running processes",command:"tasklist",icon:rs,category:"process",os:"windows"},{id:"uname",name:"System Info (Linux)",description:"Display kernel and OS information",command:"uname -a",icon:Ns,category:"system",os:"linux"},{id:"systeminfo",name:"System Info (Windows)",description:"Display detailed system information",command:"systeminfo",icon:Ns,category:"system",os:"windows"},{id:"env",name:"Environment Variables",description:"Display environment variables",command:"env",icon:sh,category:"system",os:"linux"},{id:"set",name:"Environment Variables (Windows)",description:"Display environment variables",command:"set",icon:sh,category:"system",os:"windows"}],sE=[{id:"all",name:"All",icon:gs},{id:"info",name:"Info",icon:qs},{id:"network",name:"Network",icon:Gr},{id:"files",name:"Files",icon:Zr},{id:"process",name:"Process",icon:rs},{id:"system",name:"System",icon:Ns}];function rE({os:e,onSelectCommand:s,onClose:n}){const[o,a]=R.useState(""),[f,y]=R.useState("all"),l=e?.toLowerCase().includes("windows")?"windows":"linux",d=tE.filter(m=>{if(m.os!=="all"&&m.os!==l||f!=="all"&&m.category!==f)return!1;if(o){const v=o.toLowerCase();return m.name.toLowerCase().includes(v)||m.description.toLowerCase().includes(v)||m.command.toLowerCase().includes(v)}return!0});return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-20",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:n}),r.jsxs("div",{className:"relative w-full max-w-2xl mx-4 bg-card rounded-xl shadow-2xl border overflow-hidden animate-in slide-in-from-top-4 fade-in duration-200",children:[r.jsxs("div",{className:"flex items-center gap-3 p-4 border-b",children:[r.jsx(On,{className:"h-5 w-5 text-muted-foreground"}),r.jsx(Pe,{placeholder:"Search commands...",value:o,onChange:m=>a(m.target.value),className:"border-0 focus-visible:ring-0 p-0 h-auto text-lg",autoFocus:!0}),r.jsx(Z,{variant:"ghost",size:"icon",onClick:n,children:r.jsx(Lt,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"flex gap-1 p-2 border-b overflow-x-auto",children:sE.map(m=>r.jsxs(Z,{variant:f===m.id?"secondary":"ghost",size:"sm",onClick:()=>y(m.id),className:"flex-shrink-0",children:[r.jsx(m.icon,{className:"h-4 w-4 mr-1"}),m.name]},m.id))}),r.jsx("div",{className:"max-h-96 overflow-auto p-2",children:d.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No matching commands found"}):r.jsx("div",{className:"space-y-1",children:d.map(m=>r.jsxs("button",{onClick:()=>{s(m.command),n()},className:"w-full flex items-start gap-3 p-3 rounded-lg hover:bg-muted transition-colors text-left",children:[r.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:r.jsx(m.icon,{className:"h-4 w-4 text-primary"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:m.name}),r.jsx("code",{className:"text-xs px-1.5 py-0.5 bg-muted rounded",children:m.command})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:m.description})]})]},m.id))})}),r.jsxs("div",{className:"p-3 border-t bg-muted/30 text-xs text-muted-foreground text-center",children:["Click a command to execute  OS: ",l==="windows"?"Windows":"Linux/Mac"]})]})]})}function nE({onClick:e,className:s}){return r.jsxs(Z,{variant:"outline",size:"sm",onClick:e,className:ce("gap-2",s),children:[r.jsx(gs,{className:"h-4 w-4"}),"Common Commands",r.jsx("kbd",{className:"ml-2 px-1.5 py-0.5 text-xs bg-muted rounded",children:"K"})]})}function iE({sessionId:e,sessionName:s,os:n}){const o=R.useRef(null),a=R.useRef(null),f=R.useRef(null),y=R.useRef(""),l=R.useRef([]),d=R.useRef(-1),[m,v]=R.useState(!1),[h,w]=R.useState([]),[S,k]=R.useState(-1),[b,u]=R.useState([]),[x,p]=R.useState(!1),{toast:g}=Ve();R.useEffect(()=>{l.current=h},[h]),R.useEffect(()=>{d.current=S},[S]);const C=Se({mutationFn:({command:I})=>yt.shell(e,I),onSuccess:I=>{const W=a.current;W&&(I.output&&I.output.split(`
`).forEach(V=>{W.writeln(V),u(G=>[...G,V])}),I.stderr&&W.writeln(`\x1B[31m${I.stderr}\x1B[0m`),L())},onError:I=>{const W=a.current;W&&(W.writeln(`\x1B[31mError: ${I.message||"Command failed"}\x1B[0m`),L())}}),E=R.useRef(C);R.useEffect(()=>{E.current=C},[C]);const P=R.useCallback(()=>n?.toLowerCase()==="windows"?`\x1B[36m${s||"session"}>\x1B[0m `:`\x1B[32m${s||"session"}\x1B[0m:\x1B[34m~\x1B[0m$ `,[n,s]),L=R.useCallback(()=>{const I=a.current;I&&I.write(`\r
`+P())},[P]),j=R.useCallback(I=>{const W=a.current;W&&(W.write(I+`\r
`),w(J=>[...J.filter(G=>G!==I),I].slice(-100)),k(-1),C.mutate({command:I}))},[C]);R.useEffect(()=>{if(!o.current)return;const I=new YN.Terminal({cursorBlink:!0,cursorStyle:"block",fontSize:14,fontFamily:'Menlo, Monaco, "Courier New", monospace',theme:{background:"#1a1b26",foreground:"#c0caf5",cursor:"#c0caf5",cursorAccent:"#1a1b26",selectionBackground:"#33467c",black:"#15161e",red:"#f7768e",green:"#9ece6a",yellow:"#e0af68",blue:"#7aa2f7",magenta:"#bb9af7",cyan:"#7dcfff",white:"#a9b1d6",brightBlack:"#414868",brightRed:"#f7768e",brightGreen:"#9ece6a",brightYellow:"#e0af68",brightBlue:"#7aa2f7",brightMagenta:"#bb9af7",brightCyan:"#7dcfff",brightWhite:"#c0caf5"},allowProposedApi:!0}),W=new JN.FitAddon,J=new eE.WebLinksAddon;I.loadAddon(W),I.loadAddon(J),I.open(o.current),W.fit(),I.writeln("\x1B[1;36m"),I.writeln("           SliverUI Interactive Terminal                "),I.writeln("\x1B[0m"),I.writeln(""),I.writeln(`\x1B[33mSession:\x1B[0m ${s||e}`),I.writeln(`\x1B[33mOS:\x1B[0m ${n||"unknown"}`),I.writeln(""),I.writeln("\x1B[90mType a command and press Enter to execute.\x1B[0m"),I.writeln("\x1B[90mUse / to navigate command history.\x1B[0m"),I.writeln("\x1B[90mPress Ctrl+K to open the command palette.\x1B[0m"),I.writeln(""),I.write(P()),a.current=I,f.current=W;const V=()=>{W.fit()};window.addEventListener("resize",V),I.onKey(({key:D,domEvent:M})=>{const H=!M.altKey&&!M.ctrlKey&&!M.metaKey;if(M.key==="Enter"){const O=y.current.trim();I.write(`\r
`),O?(w(K=>[...K.filter(ae=>ae!==O),O].slice(-100)),k(-1),O==="clear"?(I.clear(),I.write(P())):O==="history"?(l.current.forEach((K,re)=>{I.writeln(`  ${re+1}  ${K}`)}),I.write(P())):O==="help"?(I.writeln("\x1B[1mAvailable Commands:\x1B[0m"),I.writeln("  clear    - Clear the screen"),I.writeln("  history  - View command history"),I.writeln("  help     - Show this help"),I.writeln(""),I.writeln("\x1B[1mKeyboard Shortcuts:\x1B[0m"),I.writeln("  Ctrl+K   - Open command palette"),I.writeln("  Ctrl+L   - Clear screen"),I.writeln("  Ctrl+C   - Cancel current input"),I.writeln(""),I.writeln("\x1B[90mOther commands will be sent to the session.\x1B[0m"),I.write(P())):E.current.mutate({command:O})):I.write(P()),y.current=""}else if(M.key==="Backspace")y.current.length>0&&(y.current=y.current.slice(0,-1),I.write("\b \b"));else if(M.key==="ArrowUp"){const O=l.current;if(O.length>0){const K=d.current,re=K===-1?O.length-1:Math.max(0,K-1);k(re),d.current=re;const ae=O[re];for(;y.current.length>0;)I.write("\b \b"),y.current=y.current.slice(0,-1);y.current=ae,I.write(ae)}}else if(M.key==="ArrowDown"){const O=l.current,K=d.current;if(K!==-1){const re=K>=O.length-1?-1:K+1;for(;y.current.length>0;)I.write("\b \b"),y.current=y.current.slice(0,-1);if(re===-1)k(-1),d.current=-1;else{k(re),d.current=re;const ae=O[re];y.current=ae,I.write(ae)}}}else M.ctrlKey&&M.key==="c"?(I.write(`^C\r
`),y.current="",I.write(P())):M.ctrlKey&&M.key==="l"?(I.clear(),I.write(P())):M.ctrlKey&&M.key==="k"?(M.preventDefault(),p(!0)):H&&(y.current+=D,I.write(D))});const G=D=>{(D.ctrlKey||D.metaKey)&&D.key==="k"&&(D.preventDefault(),p(!0))};return window.addEventListener("keydown",G),()=>{window.removeEventListener("resize",V),window.removeEventListener("keydown",G),I.dispose()}},[e,s,n,P]);const A=()=>{const I=b.join(`
`);navigator.clipboard.writeText(I),g({title:"Output copied to clipboard"})},z=()=>{const I=b.join(`
`),W=new Blob([I],{type:"text/plain"}),J=URL.createObjectURL(W),V=document.createElement("a");V.href=J,V.download=`terminal_${s||e}_${new Date().toISOString()}.txt`,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(J)},$=()=>{const I=a.current;I&&(I.clear(),I.write(P())),u([])},U=()=>{v(!m),setTimeout(()=>{f.current?.fit()},100)};return r.jsxs("div",{className:`flex flex-col ${m?"fixed inset-0 z-50 bg-background":"h-full"}`,children:[x&&r.jsx(rE,{os:n,onSelectCommand:j,onClose:()=>p(!1)}),r.jsxs("div",{className:"flex items-center gap-2 p-2 border-b bg-[#1a1b26]",children:[r.jsx(gs,{className:"h-4 w-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-400 font-mono",children:s||e}),r.jsx("div",{className:"flex-1"}),r.jsx(nE,{onClick:()=>p(!0)}),r.jsx("div",{className:"h-4 w-px bg-gray-700 mx-2"}),r.jsx(Z,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:A,title:"Copy output",children:r.jsx(Xr,{className:"h-4 w-4 text-gray-400"})}),r.jsx(Z,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:z,title:"Download output",children:r.jsx(qt,{className:"h-4 w-4 text-gray-400"})}),r.jsx(Z,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:$,title:"Clear screen",children:r.jsx(ht,{className:"h-4 w-4 text-gray-400"})}),r.jsx(Z,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:U,title:"Fullscreen",children:m?r.jsx(M2,{className:"h-4 w-4 text-gray-400"}):r.jsx(Jx,{className:"h-4 w-4 text-gray-400"})})]}),r.jsx("div",{ref:o,className:"flex-1 p-2 bg-[#1a1b26]"}),r.jsxs("div",{className:"flex items-center px-2 py-1 border-t bg-[#1a1b26] text-xs text-gray-500",children:[r.jsx("span",{children:C.isPending?"Executing...":"Ready"}),r.jsx("div",{className:"flex-1"}),r.jsxs("span",{children:["History: ",h.length," commands"]}),r.jsx("span",{className:"mx-2",children:""}),r.jsx("span",{children:"Ctrl+K: Command Palette"})]})]})}function oE({sessionId:e,initialPath:s,onClose:n}){const[o,a]=R.useState(s||"/"),[f,y]=R.useState([]),[l,d]=R.useState(""),[m,v]=R.useState(!1),[h,w]=R.useState(null),[S,k]=R.useState(null),b=R.useRef(null),{toast:u}=Ve();Kt();const{data:x,isLoading:p,refetch:g}=Je({queryKey:["files",e,o],queryFn:()=>yt.files(e,o),enabled:!!e}),C=Se({mutationFn:async M=>({blob:await yt.download(e,M),filename:M.split("/").pop()?.split("\\").pop()||"download"}),onSuccess:({blob:M,filename:H})=>{const O=window.URL.createObjectURL(M),K=document.createElement("a");K.href=O,K.download=H,document.body.appendChild(K),K.click(),window.URL.revokeObjectURL(O),document.body.removeChild(K),u({title:"File downloaded successfully"})},onError:M=>{u({variant:"destructive",title:"Download failed",description:M.message})}}),E=Se({mutationFn:async({file:M,remotePath:H})=>{w({file:M.name,progress:0});const O=await yt.upload(e,H,M);return w(null),O},onSuccess:()=>{u({title:"File uploaded successfully"}),g()},onError:M=>{w(null),u({variant:"destructive",title:"Upload failed",description:M.message})}}),P=Se({mutationFn:M=>yt.mkdir(e,M),onSuccess:()=>{u({title:"Directory created"}),v(!1),d(""),g()},onError:M=>{u({variant:"destructive",title:"Failed to create directory",description:M.message})}}),L=Se({mutationFn:M=>yt.deleteFile(e,M),onSuccess:()=>{u({title:"Deleted successfully"}),k(null),y([]),g()},onError:M=>{u({variant:"destructive",title:"Delete failed",description:M.message})}}),j=(M,H)=>{if(H)return r.jsx(Wg,{className:"h-5 w-5 text-yellow-500"});switch(M.split(".").pop()?.toLowerCase()){case"txt":case"log":case"md":case"cfg":case"conf":case"ini":return r.jsx(Zr,{className:"h-5 w-5 text-gray-400"});case"png":case"jpg":case"jpeg":case"gif":case"bmp":case"ico":return r.jsx(C2,{className:"h-5 w-5 text-purple-400"});case"js":case"ts":case"py":case"go":case"rs":case"c":case"cpp":case"h":case"java":case"php":case"rb":case"sh":case"ps1":case"bat":return r.jsx(S2,{className:"h-5 w-5 text-green-400"});case"zip":case"tar":case"gz":case"rar":case"7z":case"xz":return r.jsx(b2,{className:"h-5 w-5 text-orange-400"});default:return r.jsx(j2,{className:"h-5 w-5 text-gray-400"})}},A=M=>{a(M),y([])},z=()=>{const M=o.includes("\\")||o.match(/^[A-Z]:/i),H=o.split(/[/\\]/).filter(Boolean);H.pop(),A(M?H.length>0?H.join("\\"):"C:\\":"/"+H.join("/")||"/")},$=M=>{if(M.is_dir){const O=o.includes("\\")||o.match(/^[A-Z]:/i)?"\\":"/",K=o.endsWith(O)||o==="/"?`${o}${M.name}`:`${o}${O}${M.name}`;A(K)}else y(H=>H.includes(M.name)?H.filter(O=>O!==M.name):[...H,M.name])},U=M=>{const O=o.includes("\\")||o.match(/^[A-Z]:/i)?"\\":"/",K=o.endsWith(O)||o==="/"?`${o}${M}`:`${o}${O}${M}`;C.mutate(K)},I=M=>{const H=M.target.files;if(!H||H.length===0)return;const O=H[0],re=o.includes("\\")||o.match(/^[A-Z]:/i)?"\\":"/",ae=o.endsWith(re)||o==="/"?`${o}${O.name}`:`${o}${re}${O.name}`;E.mutate({file:O,remotePath:ae}),b.current&&(b.current.value="")},W=()=>{if(!l.trim())return;const H=o.includes("\\")||o.match(/^[A-Z]:/i)?"\\":"/",O=o.endsWith(H)||o==="/"?`${o}${l}`:`${o}${H}${l}`;P.mutate(O)},J=M=>{const O=o.includes("\\")||o.match(/^[A-Z]:/i)?"\\":"/",K=o.endsWith(O)||o==="/"?`${o}${M}`:`${o}${O}${M}`;L.mutate(K)},V=o.split(/[/\\]/).filter(Boolean),D=[...x?.files||[]].sort((M,H)=>M.is_dir&&!H.is_dir?-1:!M.is_dir&&H.is_dir?1:M.name.localeCompare(H.name));return r.jsxs("div",{className:"flex flex-col h-full bg-card",children:[r.jsx("input",{ref:b,type:"file",className:"hidden",onChange:I}),r.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[r.jsx(Z,{variant:"ghost",size:"icon",onClick:z,title:"Go up",children:r.jsx(f2,{className:"h-4 w-4"})}),r.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>A(s||"/"),title:"Home",children:r.jsx(qg,{className:"h-4 w-4"})}),r.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>g(),title:"Refresh",children:r.jsx(vs,{className:"h-4 w-4"})}),r.jsx("div",{className:"h-6 w-px bg-border mx-2"}),r.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>b.current?.click(),disabled:E.isPending,title:"Upload file",children:r.jsx(q2,{className:"h-4 w-4"})}),r.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>v(!m),title:"New folder",children:r.jsx($g,{className:"h-4 w-4"})}),f.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"h-6 w-px bg-border mx-2"}),r.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>f.forEach(M=>U(M)),disabled:C.isPending,children:[r.jsx(qt,{className:"h-4 w-4 mr-1"}),"Download (",f.length,")"]}),r.jsxs(Z,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive",onClick:()=>k(f[0]),children:[r.jsx(ht,{className:"h-4 w-4 mr-1"}),"Delete"]})]}),r.jsx("div",{className:"flex-1"}),n&&r.jsx(Z,{variant:"ghost",size:"sm",onClick:n,children:"Close"})]}),h&&r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-500/10 border-b border-blue-500/20",children:[r.jsx(Te,{className:"h-4 w-4 animate-spin text-blue-500"}),r.jsxs("span",{className:"text-sm",children:["Uploading: ",h.file]})]}),r.jsxs("div",{className:"flex items-center gap-1 px-3 py-2 bg-muted/50 text-sm overflow-x-auto",children:[r.jsx("button",{onClick:()=>A(s||"/"),className:"hover:text-primary flex items-center",children:r.jsx(qg,{className:"h-4 w-4"})}),V.map((M,H)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx(nn,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("button",{onClick:()=>{const K=o.includes("\\")||o.match(/^[A-Z]:/i)?V.slice(0,H+1).join("\\"):"/"+V.slice(0,H+1).join("/");A(K)},className:"hover:text-primary px-1",children:M})]},H))]}),m&&r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted/30 border-b",children:[r.jsx($g,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(Pe,{placeholder:"New folder name",value:l,onChange:M=>d(M.target.value),className:"h-8",autoFocus:!0,onKeyDown:M=>{M.key==="Enter"&&W(),M.key==="Escape"&&(v(!1),d(""))}}),r.jsx(Z,{size:"sm",onClick:W,disabled:!l||P.isPending,children:P.isPending?r.jsx(Te,{className:"h-4 w-4 animate-spin"}):r.jsx(Ho,{className:"h-4 w-4"})}),r.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>{v(!1),d("")},children:r.jsx(Lt,{className:"h-4 w-4"})})]}),S&&r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-red-500/10 border-b border-red-500/20",children:[r.jsx(Nn,{className:"h-4 w-4 text-red-500"}),r.jsxs("span",{className:"text-sm",children:["Delete ",f.length," item(s)?"]}),r.jsx("div",{className:"flex-1"}),r.jsx(Z,{size:"sm",variant:"destructive",onClick:()=>f.forEach(M=>J(M)),disabled:L.isPending,children:L.isPending?r.jsx(Te,{className:"h-4 w-4 animate-spin"}):"Confirm Delete"}),r.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>k(null),children:"Cancel"})]}),r.jsx("div",{className:"flex-1 overflow-auto",children:p?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx(Te,{className:"h-6 w-6 animate-spin"})}):D.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-muted-foreground",children:[r.jsx(Wg,{className:"h-12 w-12 mb-2 opacity-50"}),r.jsx("p",{children:"Empty directory"}),r.jsx("p",{className:"text-xs mt-1",children:"Drag and drop files or click Upload"})]}):r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-muted/50 sticky top-0",children:r.jsxs("tr",{className:"text-left text-sm",children:[r.jsx("th",{className:"p-2 font-medium",children:"Name"}),r.jsx("th",{className:"p-2 font-medium w-24",children:"Size"}),r.jsx("th",{className:"p-2 font-medium w-40",children:"Modified"}),r.jsx("th",{className:"p-2 font-medium w-28",children:"Actions"})]})}),r.jsx("tbody",{children:D.map(M=>r.jsxs("tr",{className:ce("hover:bg-muted/50 cursor-pointer border-b border-border/50",f.includes(M.name)&&"bg-primary/10"),onClick:()=>$(M),children:[r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[j(M.name,M.is_dir),r.jsx("span",{className:ce(M.is_dir&&"font-medium"),children:M.name})]})}),r.jsx("td",{className:"p-2 text-sm text-muted-foreground",children:M.is_dir?"-":cy(M.size)}),r.jsx("td",{className:"p-2 text-sm text-muted-foreground",children:M.mod_time?Fl(M.mod_time):"-"}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:"flex items-center gap-1",children:[!M.is_dir&&r.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:H=>{H.stopPropagation(),U(M.name)},disabled:C.isPending,title:"Download",children:r.jsx(qt,{className:"h-4 w-4"})}),r.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:H=>{H.stopPropagation(),y([M.name]),k(M.name)},title:"Delete",children:r.jsx(ht,{className:"h-4 w-4"})})]})})]},M.name))})]})}),r.jsxs("div",{className:"px-3 py-2 border-t text-sm text-muted-foreground bg-muted/30 flex items-center justify-between",children:[r.jsxs("span",{children:[D.length," items",f.length>0&&`  ${f.length} selected`]}),r.jsx("span",{className:"text-xs",children:o})]})]})}function aE({sessionId:e,sessionPid:s}){const[n,o]=R.useState(""),[a,f]=R.useState("pid"),[y,l]=R.useState("asc"),[d,m]=R.useState(null),v=Kt(),{toast:h}=Ve(),{data:w,isLoading:S,refetch:k}=Je({queryKey:["processes",e],queryFn:()=>yt.processes(e),enabled:!!e}),b=Se({mutationFn:E=>yt.killProcess(e,E),onSuccess:()=>{v.invalidateQueries({queryKey:["processes",e]}),h({title:"Process killed"}),m(null)},onError:()=>{h({variant:"destructive",title:"Failed to kill process"})}}),u=E=>{a===E?l(y==="asc"?"desc":"asc"):(f(E),l("asc"))},x=w?.processes||[],p=x.filter(E=>{if(!n)return!0;const P=n.toLowerCase();return E.executable.toLowerCase().includes(P)||E.owner.toLowerCase().includes(P)||E.pid.toString().includes(n)}).sort((E,P)=>{let L=0;switch(a){case"pid":L=E.pid-P.pid;break;case"executable":L=E.executable.localeCompare(P.executable);break;case"owner":L=E.owner.localeCompare(P.owner);break}return y==="asc"?L:-L}),g=E=>x.filter(P=>P.ppid===E),C=({field:E,children:P})=>r.jsx("th",{className:"p-2 font-medium cursor-pointer hover:bg-muted/50 select-none",onClick:()=>u(E),children:r.jsxs("div",{className:"flex items-center gap-1",children:[P,a===E&&r.jsx(Gx,{className:ce("h-3 w-3",y==="desc"&&"rotate-180")})]})});return r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[r.jsxs("div",{className:"relative flex-1 max-w-xs",children:[r.jsx(On,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Pe,{placeholder:"Search processes...",value:n,onChange:E=>o(E.target.value),className:"pl-8 h-9"})]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>k(),children:[r.jsx(vs,{className:"h-4 w-4 mr-1"}),"Refresh"]}),d&&d!==s&&r.jsxs(Z,{variant:"destructive",size:"sm",onClick:()=>b.mutate(d),disabled:b.isPending,children:[b.isPending?r.jsx(Te,{className:"h-4 w-4 mr-1 animate-spin"}):r.jsx(No,{className:"h-4 w-4 mr-1"}),"Kill PID ",d]}),r.jsx("div",{className:"flex-1"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[p.length," of ",x.length," processes"]})]}),r.jsxs("div",{className:"flex-1 overflow-auto",children:[S?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx(Te,{className:"h-6 w-6 animate-spin"})}):r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-muted/50 sticky top-0",children:r.jsxs("tr",{className:"text-left",children:[r.jsxs(C,{field:"pid",children:[r.jsx(k2,{className:"h-3 w-3"})," PID"]}),r.jsx("th",{className:"p-2 font-medium",children:"PPID"}),r.jsxs(C,{field:"executable",children:[r.jsx(rs,{className:"h-3 w-3"})," Process"]}),r.jsxs(C,{field:"owner",children:[r.jsx(hr,{className:"h-3 w-3"})," Owner"]}),r.jsx("th",{className:"p-2 font-medium",children:"Arch"}),r.jsx("th",{className:"p-2 font-medium w-20",children:"Actions"})]})}),r.jsx("tbody",{children:p.map(E=>{const P=E.pid===s,L=d===E.pid;return r.jsxs("tr",{className:ce("border-b border-border/50 cursor-pointer transition-colors",P&&"bg-green-500/10",L&&!P&&"bg-primary/10",!P&&!L&&"hover:bg-muted/50"),onClick:()=>m(E.pid),children:[r.jsx("td",{className:"p-2 font-mono",children:r.jsxs("div",{className:"flex items-center gap-2",children:[P&&r.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-green-500 text-white rounded",children:"IMPLANT"}),E.pid]})}),r.jsx("td",{className:"p-2 font-mono text-muted-foreground",children:E.ppid}),r.jsx("td",{className:"p-2",children:r.jsx("span",{className:ce(P&&"font-medium text-green-600"),children:E.executable||"(unknown)"})}),r.jsx("td",{className:"p-2 text-muted-foreground",children:E.owner}),r.jsx("td",{className:"p-2",children:r.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-muted rounded",children:E.architecture})}),r.jsx("td",{className:"p-2",children:!P&&r.jsx(Z,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:j=>{j.stopPropagation(),b.mutate(E.pid)},disabled:b.isPending,children:r.jsx(No,{className:"h-4 w-4 text-destructive"})})})]},E.pid)})})]}),!S&&p.length===0&&r.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-muted-foreground",children:[r.jsx(rs,{className:"h-12 w-12 mb-2 opacity-30"}),r.jsx("p",{children:"No processes found"})]})]}),d&&r.jsx("div",{className:"border-t p-3 bg-muted/30",children:(()=>{const E=x.find(L=>L.pid===d);if(!E)return null;const P=g(d);return r.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"PID:"}),r.jsx("p",{className:"font-mono",children:E.pid})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Parent PID:"}),r.jsx("p",{className:"font-mono",children:E.ppid})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Executable:"}),r.jsx("p",{className:"truncate",children:E.executable})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Child Processes:"}),r.jsx("p",{children:P.length})]})]})})()})]})}function lE({sessionId:e,sessionName:s}){const[n,o]=R.useState([]),[a,f]=R.useState(null),[y,l]=R.useState(!1),{toast:d}=Ve(),m=ms(w=>w.accessToken),v=Se({mutationFn:async()=>{const w=await fetch(`/api/v1/sessions/${e}/screenshot`,{headers:{Authorization:`Bearer ${m}`}});if(!w.ok)throw new Error("Screenshot failed");const S=await w.blob();return new Promise(k=>{const b=new FileReader;b.onloadend=()=>k(b.result),b.readAsDataURL(S)})},onSuccess:w=>{const S={id:Date.now().toString(),data:w,timestamp:new Date};o(k=>[S,...k].slice(0,10)),f(S),d({title:"Screenshot captured"})},onError:()=>{d({variant:"destructive",title:"Failed to capture screenshot"})}}),h=w=>{const S=document.createElement("a");S.href=w.data,S.download=`screenshot_${s||e}_${w.timestamp.toISOString()}.png`,document.body.appendChild(S),S.click(),document.body.removeChild(S)};return r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[r.jsxs(Z,{onClick:()=>v.mutate(),disabled:v.isPending,children:[v.isPending?r.jsx(Te,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(ar,{className:"h-4 w-4 mr-2"}),"Capture"]}),a&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"h-6 w-px bg-border mx-2"}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>h(a),children:[r.jsx(qt,{className:"h-4 w-4 mr-1"}),"Download"]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>l(!0),children:[r.jsx(Jx,{className:"h-4 w-4 mr-1"}),"Fullscreen"]})]}),r.jsx("div",{className:"flex-1"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.length," screenshot",n.length!==1?"s":""]})]}),r.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[r.jsx("div",{className:"w-32 border-r overflow-y-auto p-2 space-y-2",children:n.length===0?r.jsx("div",{className:"text-center text-muted-foreground text-xs py-4",children:"No screenshots yet"}):n.map(w=>r.jsx("button",{onClick:()=>f(w),className:ce("w-full aspect-video rounded border overflow-hidden transition-all",a?.id===w.id?"ring-2 ring-primary":"hover:ring-1 ring-border"),children:r.jsx("img",{src:w.data,alt:"Screenshot thumbnail",className:"w-full h-full object-cover"})},w.id))}),r.jsx("div",{className:"flex-1 flex items-center justify-center bg-black/50 p-4",children:a?r.jsxs("div",{className:"relative max-w-full max-h-full",children:[r.jsx("img",{src:a.data,alt:"Screenshot",className:"max-w-full max-h-[calc(100vh-300px)] object-contain rounded shadow-lg"}),r.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[r.jsx(xt,{className:"h-3 w-3"}),a.timestamp.toLocaleTimeString()]})]}):r.jsxs("div",{className:"text-center text-muted-foreground",children:[r.jsx(ar,{className:"h-16 w-16 mx-auto mb-4 opacity-30"}),r.jsx("p",{children:'Click "Capture" to take a screenshot'})]})})]}),y&&a&&r.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex items-center justify-center",onClick:()=>l(!1),children:[r.jsx(Z,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 text-white hover:bg-white/20",onClick:()=>l(!1),children:r.jsx(Lt,{className:"h-6 w-6"})}),r.jsx("img",{src:a.data,alt:"Screenshot fullscreen",className:"max-w-full max-h-full object-contain"})]})]})}function cE({sessionId:e,sessionName:s}){const[n,o]=R.useState(!1),[a,f]=R.useState("socks5"),[y,l]=R.useState("127.0.0.1"),[d,m]=R.useState("1080"),[v,h]=R.useState("127.0.0.1"),[w,S]=R.useState(""),[k,b]=R.useState(""),[u,x]=R.useState(""),p=Kt(),{toast:g}=Ve(),{data:C,isLoading:E,refetch:P}=Je({queryKey:["pivots",e],queryFn:()=>yt.listPivots(e),enabled:!!e,refetchInterval:1e4}),L=Se({mutationFn:({host:M,port:H})=>yt.startSocks(e,M,H),onSuccess:M=>{p.invalidateQueries({queryKey:["pivots",e]}),g({title:`SOCKS5 proxy started on ${M.host}:${M.port}`}),o(!1),$()},onError:M=>{g({variant:"destructive",title:"Failed to start SOCKS proxy",description:M.response?.data?.detail||M.message})}}),j=Se({mutationFn:M=>yt.stopSocks(e,M),onSuccess:()=>{p.invalidateQueries({queryKey:["pivots",e]}),g({title:"SOCKS proxy stopped"})},onError:M=>{g({variant:"destructive",title:"Failed to stop SOCKS proxy",description:M.response?.data?.detail||M.message})}}),A=Se({mutationFn:M=>yt.startPortfwd(e,M.remoteHost,M.remotePort,M.localHost,M.localPort),onSuccess:M=>{p.invalidateQueries({queryKey:["pivots",e]}),g({title:"Port forward started",description:`${M.local_host}:${M.local_port} -> ${M.remote_host}:${M.remote_port}`}),o(!1),$()},onError:M=>{g({variant:"destructive",title:"Failed to start port forward",description:M.response?.data?.detail||M.message})}}),z=Se({mutationFn:M=>yt.stopPortfwd(e,M),onSuccess:()=>{p.invalidateQueries({queryKey:["pivots",e]}),g({title:"Port forward stopped"})},onError:M=>{g({variant:"destructive",title:"Failed to stop port forward",description:M.response?.data?.detail||M.message})}}),$=()=>{l("127.0.0.1"),m("1080"),h("127.0.0.1"),S(""),b(""),x("")},U=()=>{a==="socks5"?L.mutate({host:y,port:parseInt(d)||1080}):A.mutate({remoteHost:k,remotePort:parseInt(u),localHost:v,localPort:parseInt(w)||0})},I=M=>{const H=parseInt(M.id);M.type==="socks5"?j.mutate(H):z.mutate(H)},W=M=>{navigator.clipboard.writeText(M),g({title:"Copied to clipboard"})},J=C?.pivots||[],V=J.filter(M=>M.type==="socks5"),G=J.filter(M=>M.type==="portfwd"),D=L.isPending||A.isPending||j.isPending||z.isPending;return r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[r.jsx(Gr,{className:"h-5 w-5"}),r.jsx("h3",{className:"font-medium",children:"Pivoting"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[J.length," active tunnel",J.length!==1?"s":""]}),r.jsx("div",{className:"flex-1"}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>P(),children:[r.jsx(vs,{className:"h-4 w-4 mr-1"}),"Refresh"]}),r.jsxs(Z,{size:"sm",onClick:()=>o(!n),children:[r.jsx(lr,{className:"h-4 w-4 mr-1"}),"New Tunnel"]})]}),n&&r.jsxs("div",{className:"p-4 border-b bg-muted/30 space-y-4",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Z,{size:"sm",variant:a==="socks5"?"default":"outline",onClick:()=>f("socks5"),children:[r.jsx(Ns,{className:"h-4 w-4 mr-1"}),"SOCKS5 Proxy"]}),r.jsxs(Z,{size:"sm",variant:a==="portfwd"?"default":"outline",onClick:()=>f("portfwd"),children:[r.jsx(ul,{className:"h-4 w-4 mr-1"}),"Port Forward"]})]}),a==="socks5"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a SOCKS5 proxy on your local machine that tunnels through this session."}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Bind Host"}),r.jsx(Pe,{value:y,onChange:M=>l(M.target.value),placeholder:"127.0.0.1",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Bind Port"}),r.jsx(Pe,{value:d,onChange:M=>m(M.target.value),placeholder:"1080",type:"number",className:"mt-1"})]})]}),r.jsxs("div",{className:"p-3 rounded bg-blue-500/10 border border-blue-500/20 text-sm",children:[r.jsx("p",{className:"font-medium text-blue-600 dark:text-blue-400",children:"Usage:"}),r.jsxs("code",{className:"text-xs",children:["curl --socks5 ",y,":",d," http://internal-host/"]}),r.jsx("br",{}),r.jsx("code",{className:"text-xs",children:"proxychains -q nmap -sT internal-host"})]})]}),a==="portfwd"&&r.jsxs("div",{className:"space-y-3",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Forward a local port to a remote host through this session."}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Local Host"}),r.jsx(Pe,{value:v,onChange:M=>h(M.target.value),placeholder:"127.0.0.1",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Local Port"}),r.jsx(Pe,{value:w,onChange:M=>S(M.target.value),placeholder:"Auto-assign",type:"number",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Remote Host"}),r.jsx(Pe,{value:k,onChange:M=>b(M.target.value),placeholder:"192.168.1.100",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Remote Port"}),r.jsx(Pe,{value:u,onChange:M=>x(M.target.value),placeholder:"22",type:"number",className:"mt-1"})]})]}),k&&u&&r.jsxs("div",{className:"p-3 rounded bg-blue-500/10 border border-blue-500/20 text-sm",children:[r.jsx("p",{className:"font-medium text-blue-600 dark:text-blue-400",children:"After starting:"}),r.jsxs("code",{className:"text-xs",children:["ssh user@",v," -p ",w||"[auto]"," # connects to ",k,":",u]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Z,{onClick:U,disabled:D||a==="portfwd"&&(!k||!u),children:[D?r.jsx(Te,{className:"h-4 w-4 mr-1 animate-spin"}):r.jsx(lr,{className:"h-4 w-4 mr-1"}),"Start Tunnel"]}),r.jsx(Z,{variant:"outline",onClick:()=>o(!1),children:"Cancel"})]})]}),r.jsx("div",{className:"flex-1 overflow-auto p-4 space-y-6",children:E?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx(Te,{className:"h-6 w-6 animate-spin"})}):J.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-muted-foreground",children:[r.jsx(Gr,{className:"h-12 w-12 mb-2 opacity-30"}),r.jsx("p",{children:"No active tunnels"}),r.jsx("p",{className:"text-sm",children:"Create a SOCKS proxy or port forward to pivot through this session"})]}):r.jsxs(r.Fragment,{children:[V.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[r.jsx(Ns,{className:"h-4 w-4"}),"SOCKS5 Proxies"]}),r.jsx("div",{className:"space-y-2",children:V.map(M=>r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card",children:[r.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:r.jsx(Ns,{className:"h-5 w-5 text-purple-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"font-medium",children:[M.host,":",M.port]}),r.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-green-500/20 text-green-600",children:"Active"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["SOCKS5 proxy  Tunnel ID: ",M.id]})]}),r.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>W(`socks5://${M.host}:${M.port}`),title:"Copy proxy URL",children:r.jsx(Xr,{className:"h-4 w-4"})}),r.jsx(Z,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>I(M),disabled:D,title:"Stop proxy",children:r.jsx(ht,{className:"h-4 w-4"})})]},M.id))})]}),G.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[r.jsx(ul,{className:"h-4 w-4"}),"Port Forwards"]}),r.jsx("div",{className:"space-y-2",children:G.map(M=>r.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border bg-card",children:[r.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:r.jsx(ul,{className:"h-5 w-5 text-blue-500"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"font-mono text-sm",children:[M.local_host,":",M.local_port]}),r.jsx(ul,{className:"h-4 w-4 text-muted-foreground"}),r.jsxs("span",{className:"font-mono text-sm",children:[M.remote_host,":",M.remote_port]}),r.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-green-500/20 text-green-600",children:"Active"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Port forward  Tunnel ID: ",M.id]})]}),r.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>W(`${M.local_host}:${M.local_port} -> ${M.remote_host}:${M.remote_port}`),title:"Copy",children:r.jsx(Xr,{className:"h-4 w-4"})}),r.jsx(Z,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>I(M),disabled:D,title:"Stop forward",children:r.jsx(ht,{className:"h-4 w-4"})})]},M.id))})]})]})}),r.jsx("div",{className:"p-3 border-t bg-muted/30 text-xs text-muted-foreground",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Tip:"})," Use SOCKS proxy to route tools through the session. Use port forwards for specific services."]})})]})}const dh=R.forwardRef(({className:e,...s},n)=>r.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s}));dh.displayName="Textarea";const uE=Ah("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function wi({className:e,variant:s,...n}){return r.jsx("div",{className:ce(uE({variant:s}),e),...n})}var dE=Xl[" useId ".trim().toString()]||(()=>{}),hE=0;function bi(e){const[s,n]=R.useState(dE());return ur(()=>{n(o=>o??String(hE++))},[e]),s?`radix-${s}`:""}var Pd="focusScope.autoFocusOnMount",Td="focusScope.autoFocusOnUnmount",yv={bubbles:!1,cancelable:!0},fE="FocusScope",Kh=R.forwardRef((e,s)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:f,...y}=e,[l,d]=R.useState(null),m=is(a),v=is(f),h=R.useRef(null),w=ft(s,b=>d(b)),S=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(o){let b=function(g){if(S.paused||!l)return;const C=g.target;l.contains(C)?h.current=C:Kr(h.current,{select:!0})},u=function(g){if(S.paused||!l)return;const C=g.relatedTarget;C!==null&&(l.contains(C)||Kr(h.current,{select:!0}))},x=function(g){if(document.activeElement===document.body)for(const E of g)E.removedNodes.length>0&&Kr(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",u);const p=new MutationObserver(x);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",u),p.disconnect()}}},[o,l,S.paused]),R.useEffect(()=>{if(l){wv.add(S);const b=document.activeElement;if(!l.contains(b)){const x=new CustomEvent(Pd,yv);l.addEventListener(Pd,m),l.dispatchEvent(x),x.defaultPrevented||(mE(yE(zy(l)),{select:!0}),document.activeElement===b&&Kr(l))}return()=>{l.removeEventListener(Pd,m),setTimeout(()=>{const x=new CustomEvent(Td,yv);l.addEventListener(Td,v),l.dispatchEvent(x),x.defaultPrevented||Kr(b??document.body,{select:!0}),l.removeEventListener(Td,v),wv.remove(S)},0)}}},[l,m,v,S]);const k=R.useCallback(b=>{if(!n&&!o||S.paused)return;const u=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,x=document.activeElement;if(u&&x){const p=b.currentTarget,[g,C]=pE(p);g&&C?!b.shiftKey&&x===C?(b.preventDefault(),n&&Kr(g,{select:!0})):b.shiftKey&&x===g&&(b.preventDefault(),n&&Kr(C,{select:!0})):x===p&&b.preventDefault()}},[n,o,S.paused]);return r.jsx(qe.div,{tabIndex:-1,...y,ref:w,onKeyDown:k})});Kh.displayName=fE;function mE(e,{select:s=!1}={}){const n=document.activeElement;for(const o of e)if(Kr(o,{select:s}),document.activeElement!==n)return}function pE(e){const s=zy(e),n=_v(s,e),o=_v(s.reverse(),e);return[n,o]}function zy(e){const s=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function _v(e,s){for(const n of e)if(!gE(n,{upTo:s}))return n}function gE(e,{upTo:s}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(s!==void 0&&e===s)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function vE(e){return e instanceof HTMLInputElement&&"select"in e}function Kr(e,{select:s=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&vE(e)&&s&&e.select()}}var wv=xE();function xE(){let e=[];return{add(s){const n=e[0];s!==n&&n?.pause(),e=bv(e,s),e.unshift(s)},remove(s){e=bv(e,s),e[0]?.resume()}}}function bv(e,s){const n=[...e],o=n.indexOf(s);return o!==-1&&n.splice(o,1),n}function yE(e){return e.filter(s=>s.tagName!=="A")}var Dd=0;function Uy(){R.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Sv()),document.body.insertAdjacentElement("beforeend",e[1]??Sv()),Dd++,()=>{Dd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Dd--}},[])}function Sv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Hs=function(){return Hs=Object.assign||function(s){for(var n,o=1,a=arguments.length;o<a;o++){n=arguments[o];for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(s[f]=n[f])}return s},Hs.apply(this,arguments)};function $y(e,s){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&s.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)s.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n}function _E(e,s,n){if(n||arguments.length===2)for(var o=0,a=s.length,f;o<a;o++)(f||!(o in s))&&(f||(f=Array.prototype.slice.call(s,0,o)),f[o]=s[o]);return e.concat(f||Array.prototype.slice.call(s))}var Nl="right-scroll-bar-position",El="width-before-scroll-bar",wE="with-scroll-bars-hidden",bE="--removed-body-scroll-bar-size";function Md(e,s){return typeof e=="function"?e(s):e&&(e.current=s),e}function SE(e,s){var n=R.useState(function(){return{value:e,callback:s,facade:{get current(){return n.value},set current(o){var a=n.value;a!==o&&(n.value=o,n.callback(o,a))}}}})[0];return n.callback=s,n.facade}var CE=typeof window<"u"?R.useLayoutEffect:R.useEffect,Cv=new WeakMap;function jE(e,s){var n=SE(null,function(o){return e.forEach(function(a){return Md(a,o)})});return CE(function(){var o=Cv.get(n);if(o){var a=new Set(o),f=new Set(e),y=n.current;a.forEach(function(l){f.has(l)||Md(l,null)}),f.forEach(function(l){a.has(l)||Md(l,y)})}Cv.set(n,e)},[e]),n}function kE(e){return e}function NE(e,s){s===void 0&&(s=kE);var n=[],o=!1,a={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(f){var y=s(f,o);return n.push(y),function(){n=n.filter(function(l){return l!==y})}},assignSyncMedium:function(f){for(o=!0;n.length;){var y=n;n=[],y.forEach(f)}n={push:function(l){return f(l)},filter:function(){return n}}},assignMedium:function(f){o=!0;var y=[];if(n.length){var l=n;n=[],l.forEach(f),y=n}var d=function(){var v=y;y=[],v.forEach(f)},m=function(){return Promise.resolve().then(d)};m(),n={push:function(v){y.push(v),m()},filter:function(v){return y=y.filter(v),n}}}};return a}function EE(e){e===void 0&&(e={});var s=NE(null);return s.options=Hs({async:!0,ssr:!1},e),s}var Wy=function(e){var s=e.sideCar,n=$y(e,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=s.read();if(!o)throw new Error("Sidecar medium not found");return R.createElement(o,Hs({},n))};Wy.isSideCarExport=!0;function RE(e,s){return e.useMedium(s),Wy}var qy=EE(),Ld=function(){},dc=R.forwardRef(function(e,s){var n=R.useRef(null),o=R.useState({onScrollCapture:Ld,onWheelCapture:Ld,onTouchMoveCapture:Ld}),a=o[0],f=o[1],y=e.forwardProps,l=e.children,d=e.className,m=e.removeScrollBar,v=e.enabled,h=e.shards,w=e.sideCar,S=e.noRelative,k=e.noIsolation,b=e.inert,u=e.allowPinchZoom,x=e.as,p=x===void 0?"div":x,g=e.gapMode,C=$y(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=w,P=jE([n,s]),L=Hs(Hs({},C),a);return R.createElement(R.Fragment,null,v&&R.createElement(E,{sideCar:qy,removeScrollBar:m,shards:h,noRelative:S,noIsolation:k,inert:b,setCallbacks:f,allowPinchZoom:!!u,lockRef:n,gapMode:g}),y?R.cloneElement(R.Children.only(l),Hs(Hs({},L),{ref:P})):R.createElement(p,Hs({},L,{className:d,ref:P}),l))});dc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dc.classNames={fullWidth:El,zeroRight:Nl};var PE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function TE(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var s=PE();return s&&e.setAttribute("nonce",s),e}function DE(e,s){e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}function ME(e){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(e)}var LE=function(){var e=0,s=null;return{add:function(n){e==0&&(s=TE())&&(DE(s,n),ME(s)),e++},remove:function(){e--,!e&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},AE=function(){var e=LE();return function(s,n){R.useEffect(function(){return e.add(s),function(){e.remove()}},[s&&n])}},Ky=function(){var e=AE(),s=function(n){var o=n.styles,a=n.dynamic;return e(o,a),null};return s},OE={left:0,top:0,right:0,gap:0},Ad=function(e){return parseInt(e||"",10)||0},IE=function(e){var s=window.getComputedStyle(document.body),n=s[e==="padding"?"paddingLeft":"marginLeft"],o=s[e==="padding"?"paddingTop":"marginTop"],a=s[e==="padding"?"paddingRight":"marginRight"];return[Ad(n),Ad(o),Ad(a)]},FE=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return OE;var s=IE(e),n=document.documentElement.clientWidth,o=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,o-n+s[2]-s[0])}},BE=Ky(),Si="data-scroll-locked",HE=function(e,s,n,o){var a=e.left,f=e.top,y=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(wE,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(l,"px ").concat(o,`;
  }
  body[`).concat(Si,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(o,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(f,`px;
    padding-right: `).concat(y,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(o,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nl,` {
    right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(El,` {
    margin-right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(Nl," .").concat(Nl,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(El," .").concat(El,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Si,`] {
    `).concat(bE,": ").concat(l,`px;
  }
`)},jv=function(){var e=parseInt(document.body.getAttribute(Si)||"0",10);return isFinite(e)?e:0},zE=function(){R.useEffect(function(){return document.body.setAttribute(Si,(jv()+1).toString()),function(){var e=jv()-1;e<=0?document.body.removeAttribute(Si):document.body.setAttribute(Si,e.toString())}},[])},UE=function(e){var s=e.noRelative,n=e.noImportant,o=e.gapMode,a=o===void 0?"margin":o;zE();var f=R.useMemo(function(){return FE(a)},[a]);return R.createElement(BE,{styles:HE(f,!s,a,n?"":"!important")})},hh=!1;if(typeof window<"u")try{var fl=Object.defineProperty({},"passive",{get:function(){return hh=!0,!0}});window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{hh=!1}var di=hh?{passive:!1}:!1,$E=function(e){return e.tagName==="TEXTAREA"},Vy=function(e,s){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[s]!=="hidden"&&!(n.overflowY===n.overflowX&&!$E(e)&&n[s]==="visible")},WE=function(e){return Vy(e,"overflowY")},qE=function(e){return Vy(e,"overflowX")},kv=function(e,s){var n=s.ownerDocument,o=s;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var a=Gy(e,o);if(a){var f=Qy(e,o),y=f[1],l=f[2];if(y>l)return!0}o=o.parentNode}while(o&&o!==n.body);return!1},KE=function(e){var s=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[s,n,o]},VE=function(e){var s=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[s,n,o]},Gy=function(e,s){return e==="v"?WE(s):qE(s)},Qy=function(e,s){return e==="v"?KE(s):VE(s)},GE=function(e,s){return e==="h"&&s==="rtl"?-1:1},QE=function(e,s,n,o,a){var f=GE(e,window.getComputedStyle(s).direction),y=f*o,l=n.target,d=s.contains(l),m=!1,v=y>0,h=0,w=0;do{if(!l)break;var S=Qy(e,l),k=S[0],b=S[1],u=S[2],x=b-u-f*k;(k||x)&&Gy(e,l)&&(h+=x,w+=k);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!d&&l!==document.body||d&&(s.contains(l)||s===l));return(v&&Math.abs(h)<1||!v&&Math.abs(w)<1)&&(m=!0),m},ml=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Nv=function(e){return[e.deltaX,e.deltaY]},Ev=function(e){return e&&"current"in e?e.current:e},YE=function(e,s){return e[0]===s[0]&&e[1]===s[1]},XE=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},JE=0,hi=[];function ZE(e){var s=R.useRef([]),n=R.useRef([0,0]),o=R.useRef(),a=R.useState(JE++)[0],f=R.useState(Ky)[0],y=R.useRef(e);R.useEffect(function(){y.current=e},[e]),R.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var b=_E([e.lockRef.current],(e.shards||[]).map(Ev),!0).filter(Boolean);return b.forEach(function(u){return u.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(u){return u.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=R.useCallback(function(b,u){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!y.current.allowPinchZoom;var x=ml(b),p=n.current,g="deltaX"in b?b.deltaX:p[0]-x[0],C="deltaY"in b?b.deltaY:p[1]-x[1],E,P=b.target,L=Math.abs(g)>Math.abs(C)?"h":"v";if("touches"in b&&L==="h"&&P.type==="range")return!1;var j=window.getSelection(),A=j&&j.anchorNode,z=A?A===P||A.contains(P):!1;if(z)return!1;var $=kv(L,P);if(!$)return!0;if($?E=L:(E=L==="v"?"h":"v",$=kv(L,P)),!$)return!1;if(!o.current&&"changedTouches"in b&&(g||C)&&(o.current=E),!E)return!0;var U=o.current||E;return QE(U,u,b,U==="h"?g:C)},[]),d=R.useCallback(function(b){var u=b;if(!(!hi.length||hi[hi.length-1]!==f)){var x="deltaY"in u?Nv(u):ml(u),p=s.current.filter(function(E){return E.name===u.type&&(E.target===u.target||u.target===E.shadowParent)&&YE(E.delta,x)})[0];if(p&&p.should){u.cancelable&&u.preventDefault();return}if(!p){var g=(y.current.shards||[]).map(Ev).filter(Boolean).filter(function(E){return E.contains(u.target)}),C=g.length>0?l(u,g[0]):!y.current.noIsolation;C&&u.cancelable&&u.preventDefault()}}},[]),m=R.useCallback(function(b,u,x,p){var g={name:b,delta:u,target:x,should:p,shadowParent:e4(x)};s.current.push(g),setTimeout(function(){s.current=s.current.filter(function(C){return C!==g})},1)},[]),v=R.useCallback(function(b){n.current=ml(b),o.current=void 0},[]),h=R.useCallback(function(b){m(b.type,Nv(b),b.target,l(b,e.lockRef.current))},[]),w=R.useCallback(function(b){m(b.type,ml(b),b.target,l(b,e.lockRef.current))},[]);R.useEffect(function(){return hi.push(f),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:w}),document.addEventListener("wheel",d,di),document.addEventListener("touchmove",d,di),document.addEventListener("touchstart",v,di),function(){hi=hi.filter(function(b){return b!==f}),document.removeEventListener("wheel",d,di),document.removeEventListener("touchmove",d,di),document.removeEventListener("touchstart",v,di)}},[]);var S=e.removeScrollBar,k=e.inert;return R.createElement(R.Fragment,null,k?R.createElement(f,{styles:XE(a)}):null,S?R.createElement(UE,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function e4(e){for(var s=null;e!==null;)e instanceof ShadowRoot&&(s=e.host,e=e.host),e=e.parentNode;return s}const t4=RE(qy,ZE);var Vh=R.forwardRef(function(e,s){return R.createElement(dc,Hs({},e,{ref:s,sideCar:t4}))});Vh.classNames=dc.classNames;var s4=function(e){if(typeof document>"u")return null;var s=Array.isArray(e)?e[0]:e;return s.ownerDocument.body},fi=new WeakMap,pl=new WeakMap,gl={},Od=0,Yy=function(e){return e&&(e.host||Yy(e.parentNode))},r4=function(e,s){return s.map(function(n){if(e.contains(n))return n;var o=Yy(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},n4=function(e,s,n,o){var a=r4(s,Array.isArray(e)?e:[e]);gl[n]||(gl[n]=new WeakMap);var f=gl[n],y=[],l=new Set,d=new Set(a),m=function(h){!h||l.has(h)||(l.add(h),m(h.parentNode))};a.forEach(m);var v=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(w){if(l.has(w))v(w);else try{var S=w.getAttribute(o),k=S!==null&&S!=="false",b=(fi.get(w)||0)+1,u=(f.get(w)||0)+1;fi.set(w,b),f.set(w,u),y.push(w),b===1&&k&&pl.set(w,!0),u===1&&w.setAttribute(n,"true"),k||w.setAttribute(o,"true")}catch(x){console.error("aria-hidden: cannot operate on ",w,x)}})};return v(s),l.clear(),Od++,function(){y.forEach(function(h){var w=fi.get(h)-1,S=f.get(h)-1;fi.set(h,w),f.set(h,S),w||(pl.has(h)||h.removeAttribute(o),pl.delete(h)),S||h.removeAttribute(n)}),Od--,Od||(fi=new WeakMap,fi=new WeakMap,pl=new WeakMap,gl={})}},Xy=function(e,s,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),a=s4(e);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live], script"))),n4(o,a,n,"aria-hidden")):function(){return null}};function i4(e){const s=o4(e),n=R.forwardRef((o,a)=>{const{children:f,...y}=o,l=R.Children.toArray(f),d=l.find(l4);if(d){const m=d.props.children,v=l.map(h=>h===d?R.Children.count(m)>1?R.Children.only(null):R.isValidElement(m)?m.props.children:null:h);return r.jsx(s,{...y,ref:a,children:R.isValidElement(m)?R.cloneElement(m,void 0,v):null})}return r.jsx(s,{...y,ref:a,children:f})});return n.displayName=`${e}.Slot`,n}function o4(e){const s=R.forwardRef((n,o)=>{const{children:a,...f}=n;if(R.isValidElement(a)){const y=u4(a),l=c4(f,a.props);return a.type!==R.Fragment&&(l.ref=o?rn(o,y):y),R.cloneElement(a,l)}return R.Children.count(a)>1?R.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var a4=Symbol("radix.slottable");function l4(e){return R.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===a4}function c4(e,s){const n={...s};for(const o in s){const a=e[o],f=s[o];/^on[A-Z]/.test(o)?a&&f?n[o]=(...l)=>{const d=f(...l);return a(...l),d}:a&&(n[o]=a):o==="style"?n[o]={...a,...f}:o==="className"&&(n[o]=[a,f].filter(Boolean).join(" "))}return{...e,...n}}function u4(e){let s=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?e.ref:(s=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var hc="Dialog",[Jy]=An(hc),[d4,Ts]=Jy(hc),Zy=e=>{const{__scopeDialog:s,children:n,open:o,defaultOpen:a,onOpenChange:f,modal:y=!0}=e,l=R.useRef(null),d=R.useRef(null),[m,v]=nc({prop:o,defaultProp:a??!1,onChange:f,caller:hc});return r.jsx(d4,{scope:s,triggerRef:l,contentRef:d,contentId:bi(),titleId:bi(),descriptionId:bi(),open:m,onOpenChange:v,onOpenToggle:R.useCallback(()=>v(h=>!h),[v]),modal:y,children:n})};Zy.displayName=hc;var e_="DialogTrigger",t_=R.forwardRef((e,s)=>{const{__scopeDialog:n,...o}=e,a=Ts(e_,n),f=ft(s,a.triggerRef);return r.jsx(qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Yh(a.open),...o,ref:f,onClick:ke(e.onClick,a.onOpenToggle)})});t_.displayName=e_;var Gh="DialogPortal",[h4,s_]=Jy(Gh,{forceMount:void 0}),r_=e=>{const{__scopeDialog:s,forceMount:n,children:o,container:a}=e,f=Ts(Gh,s);return r.jsx(h4,{scope:s,forceMount:n,children:R.Children.map(o,y=>r.jsx(vr,{present:n||f.open,children:r.jsx(rc,{asChild:!0,container:a,children:y})}))})};r_.displayName=Gh;var zl="DialogOverlay",n_=R.forwardRef((e,s)=>{const n=s_(zl,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,f=Ts(zl,e.__scopeDialog);return f.modal?r.jsx(vr,{present:o||f.open,children:r.jsx(m4,{...a,ref:s})}):null});n_.displayName=zl;var f4=i4("DialogOverlay.RemoveScroll"),m4=R.forwardRef((e,s)=>{const{__scopeDialog:n,...o}=e,a=Ts(zl,n);return r.jsx(Vh,{as:f4,allowPinchZoom:!0,shards:[a.contentRef],children:r.jsx(qe.div,{"data-state":Yh(a.open),...o,ref:s,style:{pointerEvents:"auto",...o.style}})})}),Mn="DialogContent",i_=R.forwardRef((e,s)=>{const n=s_(Mn,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,f=Ts(Mn,e.__scopeDialog);return r.jsx(vr,{present:o||f.open,children:f.modal?r.jsx(p4,{...a,ref:s}):r.jsx(g4,{...a,ref:s})})});i_.displayName=Mn;var p4=R.forwardRef((e,s)=>{const n=Ts(Mn,e.__scopeDialog),o=R.useRef(null),a=ft(s,n.contentRef,o);return R.useEffect(()=>{const f=o.current;if(f)return Xy(f)},[]),r.jsx(o_,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,f=>{f.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,f=>{const y=f.detail.originalEvent,l=y.button===0&&y.ctrlKey===!0;(y.button===2||l)&&f.preventDefault()}),onFocusOutside:ke(e.onFocusOutside,f=>f.preventDefault())})}),g4=R.forwardRef((e,s)=>{const n=Ts(Mn,e.__scopeDialog),o=R.useRef(!1),a=R.useRef(!1);return r.jsx(o_,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:f=>{e.onCloseAutoFocus?.(f),f.defaultPrevented||(o.current||n.triggerRef.current?.focus(),f.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:f=>{e.onInteractOutside?.(f),f.defaultPrevented||(o.current=!0,f.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const y=f.target;n.triggerRef.current?.contains(y)&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&a.current&&f.preventDefault()}})}),o_=R.forwardRef((e,s)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:f,...y}=e,l=Ts(Mn,n),d=R.useRef(null),m=ft(s,d);return Uy(),r.jsxs(r.Fragment,{children:[r.jsx(Kh,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:f,children:r.jsx(sc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Yh(l.open),...y,ref:m,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(v4,{titleId:l.titleId}),r.jsx(y4,{contentRef:d,descriptionId:l.descriptionId})]})]})}),Qh="DialogTitle",a_=R.forwardRef((e,s)=>{const{__scopeDialog:n,...o}=e,a=Ts(Qh,n);return r.jsx(qe.h2,{id:a.titleId,...o,ref:s})});a_.displayName=Qh;var l_="DialogDescription",c_=R.forwardRef((e,s)=>{const{__scopeDialog:n,...o}=e,a=Ts(l_,n);return r.jsx(qe.p,{id:a.descriptionId,...o,ref:s})});c_.displayName=l_;var u_="DialogClose",d_=R.forwardRef((e,s)=>{const{__scopeDialog:n,...o}=e,a=Ts(u_,n);return r.jsx(qe.button,{type:"button",...o,ref:s,onClick:ke(e.onClick,()=>a.onOpenChange(!1))})});d_.displayName=u_;function Yh(e){return e?"open":"closed"}var h_="DialogTitleWarning",[QD,f_]=fC(h_,{contentName:Mn,titleName:Qh,docsSlug:"dialog"}),v4=({titleId:e})=>{const s=f_(h_),n=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return R.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},x4="DialogDescriptionWarning",y4=({contentRef:e,descriptionId:s})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${f_(x4).contentName}}.`;return R.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(o))},[o,e,s]),null},_4=Zy,w4=t_,b4=r_,m_=n_,p_=i_,g_=a_,v_=c_,S4=d_;const x_=_4,y_=w4,C4=b4,__=R.forwardRef(({className:e,...s},n)=>r.jsx(m_,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));__.displayName=m_.displayName;const Xh=R.forwardRef(({className:e,children:s,...n},o)=>r.jsxs(C4,{children:[r.jsx(__,{}),r.jsxs(p_,{ref:o,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[s,r.jsxs(S4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(Lt,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xh.displayName=p_.displayName;const Jh=({className:e,...s})=>r.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});Jh.displayName="DialogHeader";const Zh=R.forwardRef(({className:e,...s},n)=>r.jsx(g_,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",e),...s}));Zh.displayName=g_.displayName;const j4=R.forwardRef(({className:e,...s},n)=>r.jsx(v_,{ref:n,className:ce("text-sm text-muted-foreground",e),...s}));j4.displayName=v_.displayName;var k4=R.createContext(void 0);function w_(e){const s=R.useContext(k4);return e||s||"ltr"}const N4=["top","right","bottom","left"],en=Math.min,ss=Math.max,Ul=Math.round,vl=Math.floor,Ws=e=>({x:e,y:e}),E4={left:"right",right:"left",bottom:"top",top:"bottom"},R4={start:"end",end:"start"};function fh(e,s,n){return ss(e,en(s,n))}function fr(e,s){return typeof e=="function"?e(s):e}function mr(e){return e.split("-")[0]}function Ai(e){return e.split("-")[1]}function ef(e){return e==="x"?"y":"x"}function tf(e){return e==="y"?"height":"width"}const P4=new Set(["top","bottom"]);function $s(e){return P4.has(mr(e))?"y":"x"}function sf(e){return ef($s(e))}function T4(e,s,n){n===void 0&&(n=!1);const o=Ai(e),a=sf(e),f=tf(a);let y=a==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return s.reference[f]>s.floating[f]&&(y=$l(y)),[y,$l(y)]}function D4(e){const s=$l(e);return[mh(e),s,mh(s)]}function mh(e){return e.replace(/start|end/g,s=>R4[s])}const Rv=["left","right"],Pv=["right","left"],M4=["top","bottom"],L4=["bottom","top"];function A4(e,s,n){switch(e){case"top":case"bottom":return n?s?Pv:Rv:s?Rv:Pv;case"left":case"right":return s?M4:L4;default:return[]}}function O4(e,s,n,o){const a=Ai(e);let f=A4(mr(e),n==="start",o);return a&&(f=f.map(y=>y+"-"+a),s&&(f=f.concat(f.map(mh)))),f}function $l(e){return e.replace(/left|right|bottom|top/g,s=>E4[s])}function I4(e){return{top:0,right:0,bottom:0,left:0,...e}}function b_(e){return typeof e!="number"?I4(e):{top:e,right:e,bottom:e,left:e}}function Wl(e){const{x:s,y:n,width:o,height:a}=e;return{width:o,height:a,top:n,left:s,right:s+o,bottom:n+a,x:s,y:n}}function Tv(e,s,n){let{reference:o,floating:a}=e;const f=$s(s),y=sf(s),l=tf(y),d=mr(s),m=f==="y",v=o.x+o.width/2-a.width/2,h=o.y+o.height/2-a.height/2,w=o[l]/2-a[l]/2;let S;switch(d){case"top":S={x:v,y:o.y-a.height};break;case"bottom":S={x:v,y:o.y+o.height};break;case"right":S={x:o.x+o.width,y:h};break;case"left":S={x:o.x-a.width,y:h};break;default:S={x:o.x,y:o.y}}switch(Ai(s)){case"start":S[y]-=w*(n&&m?-1:1);break;case"end":S[y]+=w*(n&&m?-1:1);break}return S}async function F4(e,s){var n;s===void 0&&(s={});const{x:o,y:a,platform:f,rects:y,elements:l,strategy:d}=e,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:h="floating",altBoundary:w=!1,padding:S=0}=fr(s,e),k=b_(S),u=l[w?h==="floating"?"reference":"floating":h],x=Wl(await f.getClippingRect({element:(n=await(f.isElement==null?void 0:f.isElement(u)))==null||n?u:u.contextElement||await(f.getDocumentElement==null?void 0:f.getDocumentElement(l.floating)),boundary:m,rootBoundary:v,strategy:d})),p=h==="floating"?{x:o,y:a,width:y.floating.width,height:y.floating.height}:y.reference,g=await(f.getOffsetParent==null?void 0:f.getOffsetParent(l.floating)),C=await(f.isElement==null?void 0:f.isElement(g))?await(f.getScale==null?void 0:f.getScale(g))||{x:1,y:1}:{x:1,y:1},E=Wl(f.convertOffsetParentRelativeRectToViewportRelativeRect?await f.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:g,strategy:d}):p);return{top:(x.top-E.top+k.top)/C.y,bottom:(E.bottom-x.bottom+k.bottom)/C.y,left:(x.left-E.left+k.left)/C.x,right:(E.right-x.right+k.right)/C.x}}const B4=async(e,s,n)=>{const{placement:o="bottom",strategy:a="absolute",middleware:f=[],platform:y}=n,l=f.filter(Boolean),d=await(y.isRTL==null?void 0:y.isRTL(s));let m=await y.getElementRects({reference:e,floating:s,strategy:a}),{x:v,y:h}=Tv(m,o,d),w=o,S={},k=0;for(let u=0;u<l.length;u++){var b;const{name:x,fn:p}=l[u],{x:g,y:C,data:E,reset:P}=await p({x:v,y:h,initialPlacement:o,placement:w,strategy:a,middlewareData:S,rects:m,platform:{...y,detectOverflow:(b=y.detectOverflow)!=null?b:F4},elements:{reference:e,floating:s}});v=g??v,h=C??h,S={...S,[x]:{...S[x],...E}},P&&k<=50&&(k++,typeof P=="object"&&(P.placement&&(w=P.placement),P.rects&&(m=P.rects===!0?await y.getElementRects({reference:e,floating:s,strategy:a}):P.rects),{x:v,y:h}=Tv(m,w,d)),u=-1)}return{x:v,y:h,placement:w,strategy:a,middlewareData:S}},H4=e=>({name:"arrow",options:e,async fn(s){const{x:n,y:o,placement:a,rects:f,platform:y,elements:l,middlewareData:d}=s,{element:m,padding:v=0}=fr(e,s)||{};if(m==null)return{};const h=b_(v),w={x:n,y:o},S=sf(a),k=tf(S),b=await y.getDimensions(m),u=S==="y",x=u?"top":"left",p=u?"bottom":"right",g=u?"clientHeight":"clientWidth",C=f.reference[k]+f.reference[S]-w[S]-f.floating[k],E=w[S]-f.reference[S],P=await(y.getOffsetParent==null?void 0:y.getOffsetParent(m));let L=P?P[g]:0;(!L||!await(y.isElement==null?void 0:y.isElement(P)))&&(L=l.floating[g]||f.floating[k]);const j=C/2-E/2,A=L/2-b[k]/2-1,z=en(h[x],A),$=en(h[p],A),U=z,I=L-b[k]-$,W=L/2-b[k]/2+j,J=fh(U,W,I),V=!d.arrow&&Ai(a)!=null&&W!==J&&f.reference[k]/2-(W<U?z:$)-b[k]/2<0,G=V?W<U?W-U:W-I:0;return{[S]:w[S]+G,data:{[S]:J,centerOffset:W-J-G,...V&&{alignmentOffset:G}},reset:V}}}),z4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(s){var n,o;const{placement:a,middlewareData:f,rects:y,initialPlacement:l,platform:d,elements:m}=s,{mainAxis:v=!0,crossAxis:h=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:b=!0,...u}=fr(e,s);if((n=f.arrow)!=null&&n.alignmentOffset)return{};const x=mr(a),p=$s(l),g=mr(l)===l,C=await(d.isRTL==null?void 0:d.isRTL(m.floating)),E=w||(g||!b?[$l(l)]:D4(l)),P=k!=="none";!w&&P&&E.push(...O4(l,b,k,C));const L=[l,...E],j=await d.detectOverflow(s,u),A=[];let z=((o=f.flip)==null?void 0:o.overflows)||[];if(v&&A.push(j[x]),h){const W=T4(a,y,C);A.push(j[W[0]],j[W[1]])}if(z=[...z,{placement:a,overflows:A}],!A.every(W=>W<=0)){var $,U;const W=((($=f.flip)==null?void 0:$.index)||0)+1,J=L[W];if(J&&(!(h==="alignment"?p!==$s(J):!1)||z.every(D=>$s(D.placement)===p?D.overflows[0]>0:!0)))return{data:{index:W,overflows:z},reset:{placement:J}};let V=(U=z.filter(G=>G.overflows[0]<=0).sort((G,D)=>G.overflows[1]-D.overflows[1])[0])==null?void 0:U.placement;if(!V)switch(S){case"bestFit":{var I;const G=(I=z.filter(D=>{if(P){const M=$s(D.placement);return M===p||M==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(M=>M>0).reduce((M,H)=>M+H,0)]).sort((D,M)=>D[1]-M[1])[0])==null?void 0:I[0];G&&(V=G);break}case"initialPlacement":V=l;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function Dv(e,s){return{top:e.top-s.height,right:e.right-s.width,bottom:e.bottom-s.height,left:e.left-s.width}}function Mv(e){return N4.some(s=>e[s]>=0)}const U4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(s){const{rects:n,platform:o}=s,{strategy:a="referenceHidden",...f}=fr(e,s);switch(a){case"referenceHidden":{const y=await o.detectOverflow(s,{...f,elementContext:"reference"}),l=Dv(y,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Mv(l)}}}case"escaped":{const y=await o.detectOverflow(s,{...f,altBoundary:!0}),l=Dv(y,n.floating);return{data:{escapedOffsets:l,escaped:Mv(l)}}}default:return{}}}}},S_=new Set(["left","top"]);async function $4(e,s){const{placement:n,platform:o,elements:a}=e,f=await(o.isRTL==null?void 0:o.isRTL(a.floating)),y=mr(n),l=Ai(n),d=$s(n)==="y",m=S_.has(y)?-1:1,v=f&&d?-1:1,h=fr(s,e);let{mainAxis:w,crossAxis:S,alignmentAxis:k}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof k=="number"&&(S=l==="end"?k*-1:k),d?{x:S*v,y:w*m}:{x:w*m,y:S*v}}const W4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(s){var n,o;const{x:a,y:f,placement:y,middlewareData:l}=s,d=await $4(s,e);return y===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:a+d.x,y:f+d.y,data:{...d,placement:y}}}}},q4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(s){const{x:n,y:o,placement:a,platform:f}=s,{mainAxis:y=!0,crossAxis:l=!1,limiter:d={fn:x=>{let{x:p,y:g}=x;return{x:p,y:g}}},...m}=fr(e,s),v={x:n,y:o},h=await f.detectOverflow(s,m),w=$s(mr(a)),S=ef(w);let k=v[S],b=v[w];if(y){const x=S==="y"?"top":"left",p=S==="y"?"bottom":"right",g=k+h[x],C=k-h[p];k=fh(g,k,C)}if(l){const x=w==="y"?"top":"left",p=w==="y"?"bottom":"right",g=b+h[x],C=b-h[p];b=fh(g,b,C)}const u=d.fn({...s,[S]:k,[w]:b});return{...u,data:{x:u.x-n,y:u.y-o,enabled:{[S]:y,[w]:l}}}}}},K4=function(e){return e===void 0&&(e={}),{options:e,fn(s){const{x:n,y:o,placement:a,rects:f,middlewareData:y}=s,{offset:l=0,mainAxis:d=!0,crossAxis:m=!0}=fr(e,s),v={x:n,y:o},h=$s(a),w=ef(h);let S=v[w],k=v[h];const b=fr(l,s),u=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(d){const g=w==="y"?"height":"width",C=f.reference[w]-f.floating[g]+u.mainAxis,E=f.reference[w]+f.reference[g]-u.mainAxis;S<C?S=C:S>E&&(S=E)}if(m){var x,p;const g=w==="y"?"width":"height",C=S_.has(mr(a)),E=f.reference[h]-f.floating[g]+(C&&((x=y.offset)==null?void 0:x[h])||0)+(C?0:u.crossAxis),P=f.reference[h]+f.reference[g]+(C?0:((p=y.offset)==null?void 0:p[h])||0)-(C?u.crossAxis:0);k<E?k=E:k>P&&(k=P)}return{[w]:S,[h]:k}}}},V4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(s){var n,o;const{placement:a,rects:f,platform:y,elements:l}=s,{apply:d=()=>{},...m}=fr(e,s),v=await y.detectOverflow(s,m),h=mr(a),w=Ai(a),S=$s(a)==="y",{width:k,height:b}=f.floating;let u,x;h==="top"||h==="bottom"?(u=h,x=w===(await(y.isRTL==null?void 0:y.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,u=w==="end"?"top":"bottom");const p=b-v.top-v.bottom,g=k-v.left-v.right,C=en(b-v[u],p),E=en(k-v[x],g),P=!s.middlewareData.shift;let L=C,j=E;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(j=g),(o=s.middlewareData.shift)!=null&&o.enabled.y&&(L=p),P&&!w){const z=ss(v.left,0),$=ss(v.right,0),U=ss(v.top,0),I=ss(v.bottom,0);S?j=k-2*(z!==0||$!==0?z+$:ss(v.left,v.right)):L=b-2*(U!==0||I!==0?U+I:ss(v.top,v.bottom))}await d({...s,availableWidth:j,availableHeight:L});const A=await y.getDimensions(l.floating);return k!==A.width||b!==A.height?{reset:{rects:!0}}:{}}}};function fc(){return typeof window<"u"}function Oi(e){return C_(e)?(e.nodeName||"").toLowerCase():"#document"}function ns(e){var s;return(e==null||(s=e.ownerDocument)==null?void 0:s.defaultView)||window}function Vs(e){var s;return(s=(C_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:s.documentElement}function C_(e){return fc()?e instanceof Node||e instanceof ns(e).Node:!1}function Es(e){return fc()?e instanceof Element||e instanceof ns(e).Element:!1}function Ks(e){return fc()?e instanceof HTMLElement||e instanceof ns(e).HTMLElement:!1}function Lv(e){return!fc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ns(e).ShadowRoot}const G4=new Set(["inline","contents"]);function Vo(e){const{overflow:s,overflowX:n,overflowY:o,display:a}=Rs(e);return/auto|scroll|overlay|hidden|clip/.test(s+o+n)&&!G4.has(a)}const Q4=new Set(["table","td","th"]);function Y4(e){return Q4.has(Oi(e))}const X4=[":popover-open",":modal"];function mc(e){return X4.some(s=>{try{return e.matches(s)}catch{return!1}})}const J4=["transform","translate","scale","rotate","perspective"],Z4=["transform","translate","scale","rotate","perspective","filter"],eR=["paint","layout","strict","content"];function rf(e){const s=nf(),n=Es(e)?Rs(e):e;return J4.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!s&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!s&&(n.filter?n.filter!=="none":!1)||Z4.some(o=>(n.willChange||"").includes(o))||eR.some(o=>(n.contain||"").includes(o))}function tR(e){let s=tn(e);for(;Ks(s)&&!Ei(s);){if(rf(s))return s;if(mc(s))return null;s=tn(s)}return null}function nf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sR=new Set(["html","body","#document"]);function Ei(e){return sR.has(Oi(e))}function Rs(e){return ns(e).getComputedStyle(e)}function pc(e){return Es(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function tn(e){if(Oi(e)==="html")return e;const s=e.assignedSlot||e.parentNode||Lv(e)&&e.host||Vs(e);return Lv(s)?s.host:s}function j_(e){const s=tn(e);return Ei(s)?e.ownerDocument?e.ownerDocument.body:e.body:Ks(s)&&Vo(s)?s:j_(s)}function Mo(e,s,n){var o;s===void 0&&(s=[]),n===void 0&&(n=!0);const a=j_(e),f=a===((o=e.ownerDocument)==null?void 0:o.body),y=ns(a);if(f){const l=ph(y);return s.concat(y,y.visualViewport||[],Vo(a)?a:[],l&&n?Mo(l):[])}return s.concat(a,Mo(a,[],n))}function ph(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function k_(e){const s=Rs(e);let n=parseFloat(s.width)||0,o=parseFloat(s.height)||0;const a=Ks(e),f=a?e.offsetWidth:n,y=a?e.offsetHeight:o,l=Ul(n)!==f||Ul(o)!==y;return l&&(n=f,o=y),{width:n,height:o,$:l}}function of(e){return Es(e)?e:e.contextElement}function Ci(e){const s=of(e);if(!Ks(s))return Ws(1);const n=s.getBoundingClientRect(),{width:o,height:a,$:f}=k_(s);let y=(f?Ul(n.width):n.width)/o,l=(f?Ul(n.height):n.height)/a;return(!y||!Number.isFinite(y))&&(y=1),(!l||!Number.isFinite(l))&&(l=1),{x:y,y:l}}const rR=Ws(0);function N_(e){const s=ns(e);return!nf()||!s.visualViewport?rR:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function nR(e,s,n){return s===void 0&&(s=!1),!n||s&&n!==ns(e)?!1:s}function Ln(e,s,n,o){s===void 0&&(s=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),f=of(e);let y=Ws(1);s&&(o?Es(o)&&(y=Ci(o)):y=Ci(e));const l=nR(f,n,o)?N_(f):Ws(0);let d=(a.left+l.x)/y.x,m=(a.top+l.y)/y.y,v=a.width/y.x,h=a.height/y.y;if(f){const w=ns(f),S=o&&Es(o)?ns(o):o;let k=w,b=ph(k);for(;b&&o&&S!==k;){const u=Ci(b),x=b.getBoundingClientRect(),p=Rs(b),g=x.left+(b.clientLeft+parseFloat(p.paddingLeft))*u.x,C=x.top+(b.clientTop+parseFloat(p.paddingTop))*u.y;d*=u.x,m*=u.y,v*=u.x,h*=u.y,d+=g,m+=C,k=ns(b),b=ph(k)}}return Wl({width:v,height:h,x:d,y:m})}function gc(e,s){const n=pc(e).scrollLeft;return s?s.left+n:Ln(Vs(e)).left+n}function E_(e,s){const n=e.getBoundingClientRect(),o=n.left+s.scrollLeft-gc(e,n),a=n.top+s.scrollTop;return{x:o,y:a}}function iR(e){let{elements:s,rect:n,offsetParent:o,strategy:a}=e;const f=a==="fixed",y=Vs(o),l=s?mc(s.floating):!1;if(o===y||l&&f)return n;let d={scrollLeft:0,scrollTop:0},m=Ws(1);const v=Ws(0),h=Ks(o);if((h||!h&&!f)&&((Oi(o)!=="body"||Vo(y))&&(d=pc(o)),Ks(o))){const S=Ln(o);m=Ci(o),v.x=S.x+o.clientLeft,v.y=S.y+o.clientTop}const w=y&&!h&&!f?E_(y,d):Ws(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-d.scrollLeft*m.x+v.x+w.x,y:n.y*m.y-d.scrollTop*m.y+v.y+w.y}}function oR(e){return Array.from(e.getClientRects())}function aR(e){const s=Vs(e),n=pc(e),o=e.ownerDocument.body,a=ss(s.scrollWidth,s.clientWidth,o.scrollWidth,o.clientWidth),f=ss(s.scrollHeight,s.clientHeight,o.scrollHeight,o.clientHeight);let y=-n.scrollLeft+gc(e);const l=-n.scrollTop;return Rs(o).direction==="rtl"&&(y+=ss(s.clientWidth,o.clientWidth)-a),{width:a,height:f,x:y,y:l}}const Av=25;function lR(e,s){const n=ns(e),o=Vs(e),a=n.visualViewport;let f=o.clientWidth,y=o.clientHeight,l=0,d=0;if(a){f=a.width,y=a.height;const v=nf();(!v||v&&s==="fixed")&&(l=a.offsetLeft,d=a.offsetTop)}const m=gc(o);if(m<=0){const v=o.ownerDocument,h=v.body,w=getComputedStyle(h),S=v.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,k=Math.abs(o.clientWidth-h.clientWidth-S);k<=Av&&(f-=k)}else m<=Av&&(f+=m);return{width:f,height:y,x:l,y:d}}const cR=new Set(["absolute","fixed"]);function uR(e,s){const n=Ln(e,!0,s==="fixed"),o=n.top+e.clientTop,a=n.left+e.clientLeft,f=Ks(e)?Ci(e):Ws(1),y=e.clientWidth*f.x,l=e.clientHeight*f.y,d=a*f.x,m=o*f.y;return{width:y,height:l,x:d,y:m}}function Ov(e,s,n){let o;if(s==="viewport")o=lR(e,n);else if(s==="document")o=aR(Vs(e));else if(Es(s))o=uR(s,n);else{const a=N_(e);o={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return Wl(o)}function R_(e,s){const n=tn(e);return n===s||!Es(n)||Ei(n)?!1:Rs(n).position==="fixed"||R_(n,s)}function dR(e,s){const n=s.get(e);if(n)return n;let o=Mo(e,[],!1).filter(l=>Es(l)&&Oi(l)!=="body"),a=null;const f=Rs(e).position==="fixed";let y=f?tn(e):e;for(;Es(y)&&!Ei(y);){const l=Rs(y),d=rf(y);!d&&l.position==="fixed"&&(a=null),(f?!d&&!a:!d&&l.position==="static"&&!!a&&cR.has(a.position)||Vo(y)&&!d&&R_(e,y))?o=o.filter(v=>v!==y):a=l,y=tn(y)}return s.set(e,o),o}function hR(e){let{element:s,boundary:n,rootBoundary:o,strategy:a}=e;const y=[...n==="clippingAncestors"?mc(s)?[]:dR(s,this._c):[].concat(n),o],l=y[0],d=y.reduce((m,v)=>{const h=Ov(s,v,a);return m.top=ss(h.top,m.top),m.right=en(h.right,m.right),m.bottom=en(h.bottom,m.bottom),m.left=ss(h.left,m.left),m},Ov(s,l,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function fR(e){const{width:s,height:n}=k_(e);return{width:s,height:n}}function mR(e,s,n){const o=Ks(s),a=Vs(s),f=n==="fixed",y=Ln(e,!0,f,s);let l={scrollLeft:0,scrollTop:0};const d=Ws(0);function m(){d.x=gc(a)}if(o||!o&&!f)if((Oi(s)!=="body"||Vo(a))&&(l=pc(s)),o){const S=Ln(s,!0,f,s);d.x=S.x+s.clientLeft,d.y=S.y+s.clientTop}else a&&m();f&&!o&&a&&m();const v=a&&!o&&!f?E_(a,l):Ws(0),h=y.left+l.scrollLeft-d.x-v.x,w=y.top+l.scrollTop-d.y-v.y;return{x:h,y:w,width:y.width,height:y.height}}function Id(e){return Rs(e).position==="static"}function Iv(e,s){if(!Ks(e)||Rs(e).position==="fixed")return null;if(s)return s(e);let n=e.offsetParent;return Vs(e)===n&&(n=n.ownerDocument.body),n}function P_(e,s){const n=ns(e);if(mc(e))return n;if(!Ks(e)){let a=tn(e);for(;a&&!Ei(a);){if(Es(a)&&!Id(a))return a;a=tn(a)}return n}let o=Iv(e,s);for(;o&&Y4(o)&&Id(o);)o=Iv(o,s);return o&&Ei(o)&&Id(o)&&!rf(o)?n:o||tR(e)||n}const pR=async function(e){const s=this.getOffsetParent||P_,n=this.getDimensions,o=await n(e.floating);return{reference:mR(e.reference,await s(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function gR(e){return Rs(e).direction==="rtl"}const vR={convertOffsetParentRelativeRectToViewportRelativeRect:iR,getDocumentElement:Vs,getClippingRect:hR,getOffsetParent:P_,getElementRects:pR,getClientRects:oR,getDimensions:fR,getScale:Ci,isElement:Es,isRTL:gR};function T_(e,s){return e.x===s.x&&e.y===s.y&&e.width===s.width&&e.height===s.height}function xR(e,s){let n=null,o;const a=Vs(e);function f(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function y(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),f();const m=e.getBoundingClientRect(),{left:v,top:h,width:w,height:S}=m;if(l||s(),!w||!S)return;const k=vl(h),b=vl(a.clientWidth-(v+w)),u=vl(a.clientHeight-(h+S)),x=vl(v),g={rootMargin:-k+"px "+-b+"px "+-u+"px "+-x+"px",threshold:ss(0,en(1,d))||1};let C=!0;function E(P){const L=P[0].intersectionRatio;if(L!==d){if(!C)return y();L?y(!1,L):o=setTimeout(()=>{y(!1,1e-7)},1e3)}L===1&&!T_(m,e.getBoundingClientRect())&&y(),C=!1}try{n=new IntersectionObserver(E,{...g,root:a.ownerDocument})}catch{n=new IntersectionObserver(E,g)}n.observe(e)}return y(!0),f}function yR(e,s,n,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:f=!0,elementResize:y=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=o,m=of(e),v=a||f?[...m?Mo(m):[],...Mo(s)]:[];v.forEach(x=>{a&&x.addEventListener("scroll",n,{passive:!0}),f&&x.addEventListener("resize",n)});const h=m&&l?xR(m,n):null;let w=-1,S=null;y&&(S=new ResizeObserver(x=>{let[p]=x;p&&p.target===m&&S&&(S.unobserve(s),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var g;(g=S)==null||g.observe(s)})),n()}),m&&!d&&S.observe(m),S.observe(s));let k,b=d?Ln(e):null;d&&u();function u(){const x=Ln(e);b&&!T_(b,x)&&n(),b=x,k=requestAnimationFrame(u)}return n(),()=>{var x;v.forEach(p=>{a&&p.removeEventListener("scroll",n),f&&p.removeEventListener("resize",n)}),h?.(),(x=S)==null||x.disconnect(),S=null,d&&cancelAnimationFrame(k)}}const _R=W4,wR=q4,bR=z4,SR=V4,CR=U4,Fv=H4,jR=K4,kR=(e,s,n)=>{const o=new Map,a={platform:vR,...n},f={...a.platform,_c:o};return B4(e,s,{...a,platform:f})};var NR=typeof document<"u",ER=function(){},Rl=NR?R.useLayoutEffect:ER;function ql(e,s){if(e===s)return!0;if(typeof e!=typeof s)return!1;if(typeof e=="function"&&e.toString()===s.toString())return!0;let n,o,a;if(e&&s&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==s.length)return!1;for(o=n;o--!==0;)if(!ql(e[o],s[o]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(s).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(s,a[o]))return!1;for(o=n;o--!==0;){const f=a[o];if(!(f==="_owner"&&e.$$typeof)&&!ql(e[f],s[f]))return!1}return!0}return e!==e&&s!==s}function D_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Bv(e,s){const n=D_(e);return Math.round(s*n)/n}function Fd(e){const s=R.useRef(e);return Rl(()=>{s.current=e}),s}function RR(e){e===void 0&&(e={});const{placement:s="bottom",strategy:n="absolute",middleware:o=[],platform:a,elements:{reference:f,floating:y}={},transform:l=!0,whileElementsMounted:d,open:m}=e,[v,h]=R.useState({x:0,y:0,strategy:n,placement:s,middlewareData:{},isPositioned:!1}),[w,S]=R.useState(o);ql(w,o)||S(o);const[k,b]=R.useState(null),[u,x]=R.useState(null),p=R.useCallback(D=>{D!==P.current&&(P.current=D,b(D))},[]),g=R.useCallback(D=>{D!==L.current&&(L.current=D,x(D))},[]),C=f||k,E=y||u,P=R.useRef(null),L=R.useRef(null),j=R.useRef(v),A=d!=null,z=Fd(d),$=Fd(a),U=Fd(m),I=R.useCallback(()=>{if(!P.current||!L.current)return;const D={placement:s,strategy:n,middleware:w};$.current&&(D.platform=$.current),kR(P.current,L.current,D).then(M=>{const H={...M,isPositioned:U.current!==!1};W.current&&!ql(j.current,H)&&(j.current=H,Jl.flushSync(()=>{h(H)}))})},[w,s,n,$,U]);Rl(()=>{m===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[m]);const W=R.useRef(!1);Rl(()=>(W.current=!0,()=>{W.current=!1}),[]),Rl(()=>{if(C&&(P.current=C),E&&(L.current=E),C&&E){if(z.current)return z.current(C,E,I);I()}},[C,E,I,z,A]);const J=R.useMemo(()=>({reference:P,floating:L,setReference:p,setFloating:g}),[p,g]),V=R.useMemo(()=>({reference:C,floating:E}),[C,E]),G=R.useMemo(()=>{const D={position:n,left:0,top:0};if(!V.floating)return D;const M=Bv(V.floating,v.x),H=Bv(V.floating,v.y);return l?{...D,transform:"translate("+M+"px, "+H+"px)",...D_(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:H}},[n,l,V.floating,v.x,v.y]);return R.useMemo(()=>({...v,update:I,refs:J,elements:V,floatingStyles:G}),[v,I,J,V,G])}const PR=e=>{function s(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:o,padding:a}=typeof e=="function"?e(n):e;return o&&s(o)?o.current!=null?Fv({element:o.current,padding:a}).fn(n):{}:o?Fv({element:o,padding:a}).fn(n):{}}}},TR=(e,s)=>({..._R(e),options:[e,s]}),DR=(e,s)=>({...wR(e),options:[e,s]}),MR=(e,s)=>({...jR(e),options:[e,s]}),LR=(e,s)=>({...bR(e),options:[e,s]}),AR=(e,s)=>({...SR(e),options:[e,s]}),OR=(e,s)=>({...CR(e),options:[e,s]}),IR=(e,s)=>({...PR(e),options:[e,s]});var FR="Arrow",M_=R.forwardRef((e,s)=>{const{children:n,width:o=10,height:a=5,...f}=e;return r.jsx(qe.svg,{...f,ref:s,width:o,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});M_.displayName=FR;var BR=M_;function HR(e){const[s,n]=R.useState(void 0);return ur(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const f=a[0];let y,l;if("borderBoxSize"in f){const d=f.borderBoxSize,m=Array.isArray(d)?d[0]:d;y=m.inlineSize,l=m.blockSize}else y=e.offsetWidth,l=e.offsetHeight;n({width:y,height:l})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else n(void 0)},[e]),s}var af="Popper",[L_,A_]=An(af),[zR,O_]=L_(af),I_=e=>{const{__scopePopper:s,children:n}=e,[o,a]=R.useState(null);return r.jsx(zR,{scope:s,anchor:o,onAnchorChange:a,children:n})};I_.displayName=af;var F_="PopperAnchor",B_=R.forwardRef((e,s)=>{const{__scopePopper:n,virtualRef:o,...a}=e,f=O_(F_,n),y=R.useRef(null),l=ft(s,y),d=R.useRef(null);return R.useEffect(()=>{const m=d.current;d.current=o?.current||y.current,m!==d.current&&f.onAnchorChange(d.current)}),o?null:r.jsx(qe.div,{...a,ref:l})});B_.displayName=F_;var lf="PopperContent",[UR,$R]=L_(lf),H_=R.forwardRef((e,s)=>{const{__scopePopper:n,side:o="bottom",sideOffset:a=0,align:f="center",alignOffset:y=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:h="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:k,...b}=e,u=O_(lf,n),[x,p]=R.useState(null),g=ft(s,B=>p(B)),[C,E]=R.useState(null),P=HR(C),L=P?.width??0,j=P?.height??0,A=o+(f!=="center"?"-"+f:""),z=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},$=Array.isArray(m)?m:[m],U=$.length>0,I={padding:z,boundary:$.filter(qR),altBoundary:U},{refs:W,floatingStyles:J,placement:V,isPositioned:G,middlewareData:D}=RR({strategy:"fixed",placement:A,whileElementsMounted:(...B)=>yR(...B,{animationFrame:S==="always"}),elements:{reference:u.anchor},middleware:[TR({mainAxis:a+j,alignmentAxis:y}),d&&DR({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?MR():void 0,...I}),d&&LR({...I}),AR({...I,apply:({elements:B,rects:X,availableWidth:ie,availableHeight:oe})=>{const{width:Ne,height:ge}=X.reference,Le=B.floating.style;Le.setProperty("--radix-popper-available-width",`${ie}px`),Le.setProperty("--radix-popper-available-height",`${oe}px`),Le.setProperty("--radix-popper-anchor-width",`${Ne}px`),Le.setProperty("--radix-popper-anchor-height",`${ge}px`)}}),C&&IR({element:C,padding:l}),KR({arrowWidth:L,arrowHeight:j}),w&&OR({strategy:"referenceHidden",...I})]}),[M,H]=$_(V),O=is(k);ur(()=>{G&&O?.()},[G,O]);const K=D.arrow?.x,re=D.arrow?.y,ae=D.arrow?.centerOffset!==0,[he,ye]=R.useState();return ur(()=>{x&&ye(window.getComputedStyle(x).zIndex)},[x]),r.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:G?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[D.transformOrigin?.x,D.transformOrigin?.y].join(" "),...D.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(UR,{scope:n,placedSide:M,onArrowChange:E,arrowX:K,arrowY:re,shouldHideArrow:ae,children:r.jsx(qe.div,{"data-side":M,"data-align":H,...b,ref:g,style:{...b.style,animation:G?void 0:"none"}})})})});H_.displayName=lf;var z_="PopperArrow",WR={top:"bottom",right:"left",bottom:"top",left:"right"},U_=R.forwardRef(function(s,n){const{__scopePopper:o,...a}=s,f=$R(z_,o),y=WR[f.placedSide];return r.jsx("span",{ref:f.onArrowChange,style:{position:"absolute",left:f.arrowX,top:f.arrowY,[y]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[f.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[f.placedSide],visibility:f.shouldHideArrow?"hidden":void 0},children:r.jsx(BR,{...a,ref:n,style:{...a.style,display:"block"}})})});U_.displayName=z_;function qR(e){return e!==null}var KR=e=>({name:"transformOrigin",options:e,fn(s){const{placement:n,rects:o,middlewareData:a}=s,y=a.arrow?.centerOffset!==0,l=y?0:e.arrowWidth,d=y?0:e.arrowHeight,[m,v]=$_(n),h={start:"0%",center:"50%",end:"100%"}[v],w=(a.arrow?.x??0)+l/2,S=(a.arrow?.y??0)+d/2;let k="",b="";return m==="bottom"?(k=y?h:`${w}px`,b=`${-d}px`):m==="top"?(k=y?h:`${w}px`,b=`${o.floating.height+d}px`):m==="right"?(k=`${-d}px`,b=y?h:`${S}px`):m==="left"&&(k=`${o.floating.width+d}px`,b=y?h:`${S}px`),{data:{x:k,y:b}}}});function $_(e){const[s,n="center"]=e.split("-");return[s,n]}var VR=I_,GR=B_,QR=H_,YR=U_,Bd="rovingFocusGroup.onEntryFocus",XR={bubbles:!1,cancelable:!0},Go="RovingFocusGroup",[gh,W_,JR]=Rh(Go),[ZR,q_]=An(Go,[JR]),[eP,tP]=ZR(Go),K_=R.forwardRef((e,s)=>r.jsx(gh.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(gh.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(sP,{...e,ref:s})})}));K_.displayName=Go;var sP=R.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:a=!1,dir:f,currentTabStopId:y,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,...h}=e,w=R.useRef(null),S=ft(s,w),k=w_(f),[b,u]=nc({prop:y,defaultProp:l??null,onChange:d,caller:Go}),[x,p]=R.useState(!1),g=is(m),C=W_(n),E=R.useRef(!1),[P,L]=R.useState(0);return R.useEffect(()=>{const j=w.current;if(j)return j.addEventListener(Bd,g),()=>j.removeEventListener(Bd,g)},[g]),r.jsx(eP,{scope:n,orientation:o,dir:k,loop:a,currentTabStopId:b,onItemFocus:R.useCallback(j=>u(j),[u]),onItemShiftTab:R.useCallback(()=>p(!0),[]),onFocusableItemAdd:R.useCallback(()=>L(j=>j+1),[]),onFocusableItemRemove:R.useCallback(()=>L(j=>j-1),[]),children:r.jsx(qe.div,{tabIndex:x||P===0?-1:0,"data-orientation":o,...h,ref:S,style:{outline:"none",...e.style},onMouseDown:ke(e.onMouseDown,()=>{E.current=!0}),onFocus:ke(e.onFocus,j=>{const A=!E.current;if(j.target===j.currentTarget&&A&&!x){const z=new CustomEvent(Bd,XR);if(j.currentTarget.dispatchEvent(z),!z.defaultPrevented){const $=C().filter(V=>V.focusable),U=$.find(V=>V.active),I=$.find(V=>V.id===b),J=[U,I,...$].filter(Boolean).map(V=>V.ref.current);Q_(J,v)}}E.current=!1}),onBlur:ke(e.onBlur,()=>p(!1))})})}),V_="RovingFocusGroupItem",G_=R.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:a=!1,tabStopId:f,children:y,...l}=e,d=bi(),m=f||d,v=tP(V_,n),h=v.currentTabStopId===m,w=W_(n),{onFocusableItemAdd:S,onFocusableItemRemove:k,currentTabStopId:b}=v;return R.useEffect(()=>{if(o)return S(),()=>k()},[o,S,k]),r.jsx(gh.ItemSlot,{scope:n,id:m,focusable:o,active:a,children:r.jsx(qe.span,{tabIndex:h?0:-1,"data-orientation":v.orientation,...l,ref:s,onMouseDown:ke(e.onMouseDown,u=>{o?v.onItemFocus(m):u.preventDefault()}),onFocus:ke(e.onFocus,()=>v.onItemFocus(m)),onKeyDown:ke(e.onKeyDown,u=>{if(u.key==="Tab"&&u.shiftKey){v.onItemShiftTab();return}if(u.target!==u.currentTarget)return;const x=iP(u,v.orientation,v.dir);if(x!==void 0){if(u.metaKey||u.ctrlKey||u.altKey||u.shiftKey)return;u.preventDefault();let g=w().filter(C=>C.focusable).map(C=>C.ref.current);if(x==="last")g.reverse();else if(x==="prev"||x==="next"){x==="prev"&&g.reverse();const C=g.indexOf(u.currentTarget);g=v.loop?oP(g,C+1):g.slice(C+1)}setTimeout(()=>Q_(g))}}),children:typeof y=="function"?y({isCurrentTabStop:h,hasTabStop:b!=null}):y})})});G_.displayName=V_;var rP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nP(e,s){return s!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function iP(e,s,n){const o=nP(e.key,n);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return rP[o]}function Q_(e,s=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:s}),document.activeElement!==n))return}function oP(e,s){return e.map((n,o)=>e[(s+o)%e.length])}var aP=K_,lP=G_;function cP(e){const s=uP(e),n=R.forwardRef((o,a)=>{const{children:f,...y}=o,l=R.Children.toArray(f),d=l.find(hP);if(d){const m=d.props.children,v=l.map(h=>h===d?R.Children.count(m)>1?R.Children.only(null):R.isValidElement(m)?m.props.children:null:h);return r.jsx(s,{...y,ref:a,children:R.isValidElement(m)?R.cloneElement(m,void 0,v):null})}return r.jsx(s,{...y,ref:a,children:f})});return n.displayName=`${e}.Slot`,n}function uP(e){const s=R.forwardRef((n,o)=>{const{children:a,...f}=n;if(R.isValidElement(a)){const y=mP(a),l=fP(f,a.props);return a.type!==R.Fragment&&(l.ref=o?rn(o,y):y),R.cloneElement(a,l)}return R.Children.count(a)>1?R.Children.only(null):null});return s.displayName=`${e}.SlotClone`,s}var dP=Symbol("radix.slottable");function hP(e){return R.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dP}function fP(e,s){const n={...s};for(const o in s){const a=e[o],f=s[o];/^on[A-Z]/.test(o)?a&&f?n[o]=(...l)=>{const d=f(...l);return a(...l),d}:a&&(n[o]=a):o==="style"?n[o]={...a,...f}:o==="className"&&(n[o]=[a,f].filter(Boolean).join(" "))}return{...e,...n}}function mP(e){let s=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning;return n?e.ref:(s=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=s&&"isReactWarning"in s&&s.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vh=["Enter"," "],pP=["ArrowDown","PageUp","Home"],Y_=["ArrowUp","PageDown","End"],gP=[...pP,...Y_],vP={ltr:[...vh,"ArrowRight"],rtl:[...vh,"ArrowLeft"]},xP={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Qo="Menu",[Lo,yP,_P]=Rh(Qo),[In,X_]=An(Qo,[_P,A_,q_]),vc=A_(),J_=q_(),[wP,Fn]=In(Qo),[bP,Yo]=In(Qo),Z_=e=>{const{__scopeMenu:s,open:n=!1,children:o,dir:a,onOpenChange:f,modal:y=!0}=e,l=vc(s),[d,m]=R.useState(null),v=R.useRef(!1),h=is(f),w=w_(a);return R.useEffect(()=>{const S=()=>{v.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>v.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),r.jsx(VR,{...l,children:r.jsx(wP,{scope:s,open:n,onOpenChange:h,content:d,onContentChange:m,children:r.jsx(bP,{scope:s,onClose:R.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:v,dir:w,modal:y,children:o})})})};Z_.displayName=Qo;var SP="MenuAnchor",cf=R.forwardRef((e,s)=>{const{__scopeMenu:n,...o}=e,a=vc(n);return r.jsx(GR,{...a,...o,ref:s})});cf.displayName=SP;var uf="MenuPortal",[CP,e0]=In(uf,{forceMount:void 0}),t0=e=>{const{__scopeMenu:s,forceMount:n,children:o,container:a}=e,f=Fn(uf,s);return r.jsx(CP,{scope:s,forceMount:n,children:r.jsx(vr,{present:n||f.open,children:r.jsx(rc,{asChild:!0,container:a,children:o})})})};t0.displayName=uf;var ps="MenuContent",[jP,df]=In(ps),s0=R.forwardRef((e,s)=>{const n=e0(ps,e.__scopeMenu),{forceMount:o=n.forceMount,...a}=e,f=Fn(ps,e.__scopeMenu),y=Yo(ps,e.__scopeMenu);return r.jsx(Lo.Provider,{scope:e.__scopeMenu,children:r.jsx(vr,{present:o||f.open,children:r.jsx(Lo.Slot,{scope:e.__scopeMenu,children:y.modal?r.jsx(kP,{...a,ref:s}):r.jsx(NP,{...a,ref:s})})})})}),kP=R.forwardRef((e,s)=>{const n=Fn(ps,e.__scopeMenu),o=R.useRef(null),a=ft(s,o);return R.useEffect(()=>{const f=o.current;if(f)return Xy(f)},[]),r.jsx(hf,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ke(e.onFocusOutside,f=>f.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),NP=R.forwardRef((e,s)=>{const n=Fn(ps,e.__scopeMenu);return r.jsx(hf,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),EP=cP("MenuContent.ScrollLock"),hf=R.forwardRef((e,s)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:a,onOpenAutoFocus:f,onCloseAutoFocus:y,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:h,onInteractOutside:w,onDismiss:S,disableOutsideScroll:k,...b}=e,u=Fn(ps,n),x=Yo(ps,n),p=vc(n),g=J_(n),C=yP(n),[E,P]=R.useState(null),L=R.useRef(null),j=ft(s,L,u.onContentChange),A=R.useRef(0),z=R.useRef(""),$=R.useRef(0),U=R.useRef(null),I=R.useRef("right"),W=R.useRef(0),J=k?Vh:R.Fragment,V=k?{as:EP,allowPinchZoom:!0}:void 0,G=M=>{const H=z.current+M,O=C().filter(B=>!B.disabled),K=document.activeElement,re=O.find(B=>B.ref.current===K)?.textValue,ae=O.map(B=>B.textValue),he=HP(ae,H,re),ye=O.find(B=>B.textValue===he)?.ref.current;(function B(X){z.current=X,window.clearTimeout(A.current),X!==""&&(A.current=window.setTimeout(()=>B(""),1e3))})(H),ye&&setTimeout(()=>ye.focus())};R.useEffect(()=>()=>window.clearTimeout(A.current),[]),Uy();const D=R.useCallback(M=>I.current===U.current?.side&&UP(M,U.current?.area),[]);return r.jsx(jP,{scope:n,searchRef:z,onItemEnter:R.useCallback(M=>{D(M)&&M.preventDefault()},[D]),onItemLeave:R.useCallback(M=>{D(M)||(L.current?.focus(),P(null))},[D]),onTriggerLeave:R.useCallback(M=>{D(M)&&M.preventDefault()},[D]),pointerGraceTimerRef:$,onPointerGraceIntentChange:R.useCallback(M=>{U.current=M},[]),children:r.jsx(J,{...V,children:r.jsx(Kh,{asChild:!0,trapped:a,onMountAutoFocus:ke(f,M=>{M.preventDefault(),L.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:y,children:r.jsx(sc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:m,onPointerDownOutside:v,onFocusOutside:h,onInteractOutside:w,onDismiss:S,children:r.jsx(aP,{asChild:!0,...g,dir:x.dir,orientation:"vertical",loop:o,currentTabStopId:E,onCurrentTabStopIdChange:P,onEntryFocus:ke(d,M=>{x.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(QR,{role:"menu","aria-orientation":"vertical","data-state":x0(u.open),"data-radix-menu-content":"",dir:x.dir,...p,...b,ref:j,style:{outline:"none",...b.style},onKeyDown:ke(b.onKeyDown,M=>{const O=M.target.closest("[data-radix-menu-content]")===M.currentTarget,K=M.ctrlKey||M.altKey||M.metaKey,re=M.key.length===1;O&&(M.key==="Tab"&&M.preventDefault(),!K&&re&&G(M.key));const ae=L.current;if(M.target!==ae||!gP.includes(M.key))return;M.preventDefault();const ye=C().filter(B=>!B.disabled).map(B=>B.ref.current);Y_.includes(M.key)&&ye.reverse(),FP(ye)}),onBlur:ke(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(A.current),z.current="")}),onPointerMove:ke(e.onPointerMove,Ao(M=>{const H=M.target,O=W.current!==M.clientX;if(M.currentTarget.contains(H)&&O){const K=M.clientX>W.current?"right":"left";I.current=K,W.current=M.clientX}}))})})})})})})});s0.displayName=ps;var RP="MenuGroup",ff=R.forwardRef((e,s)=>{const{__scopeMenu:n,...o}=e;return r.jsx(qe.div,{role:"group",...o,ref:s})});ff.displayName=RP;var PP="MenuLabel",r0=R.forwardRef((e,s)=>{const{__scopeMenu:n,...o}=e;return r.jsx(qe.div,{...o,ref:s})});r0.displayName=PP;var Kl="MenuItem",Hv="menu.itemSelect",xc=R.forwardRef((e,s)=>{const{disabled:n=!1,onSelect:o,...a}=e,f=R.useRef(null),y=Yo(Kl,e.__scopeMenu),l=df(Kl,e.__scopeMenu),d=ft(s,f),m=R.useRef(!1),v=()=>{const h=f.current;if(!n&&h){const w=new CustomEvent(Hv,{bubbles:!0,cancelable:!0});h.addEventListener(Hv,S=>o?.(S),{once:!0}),Ph(h,w),w.defaultPrevented?m.current=!1:y.onClose()}};return r.jsx(n0,{...a,ref:d,disabled:n,onClick:ke(e.onClick,v),onPointerDown:h=>{e.onPointerDown?.(h),m.current=!0},onPointerUp:ke(e.onPointerUp,h=>{m.current||h.currentTarget?.click()}),onKeyDown:ke(e.onKeyDown,h=>{const w=l.searchRef.current!=="";n||w&&h.key===" "||vh.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});xc.displayName=Kl;var n0=R.forwardRef((e,s)=>{const{__scopeMenu:n,disabled:o=!1,textValue:a,...f}=e,y=df(Kl,n),l=J_(n),d=R.useRef(null),m=ft(s,d),[v,h]=R.useState(!1),[w,S]=R.useState("");return R.useEffect(()=>{const k=d.current;k&&S((k.textContent??"").trim())},[f.children]),r.jsx(Lo.ItemSlot,{scope:n,disabled:o,textValue:a??w,children:r.jsx(lP,{asChild:!0,...l,focusable:!o,children:r.jsx(qe.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...f,ref:m,onPointerMove:ke(e.onPointerMove,Ao(k=>{o?y.onItemLeave(k):(y.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(e.onPointerLeave,Ao(k=>y.onItemLeave(k))),onFocus:ke(e.onFocus,()=>h(!0)),onBlur:ke(e.onBlur,()=>h(!1))})})})}),TP="MenuCheckboxItem",i0=R.forwardRef((e,s)=>{const{checked:n=!1,onCheckedChange:o,...a}=e;return r.jsx(u0,{scope:e.__scopeMenu,checked:n,children:r.jsx(xc,{role:"menuitemcheckbox","aria-checked":Vl(n)?"mixed":n,...a,ref:s,"data-state":pf(n),onSelect:ke(a.onSelect,()=>o?.(Vl(n)?!0:!n),{checkForDefaultPrevented:!1})})})});i0.displayName=TP;var o0="MenuRadioGroup",[DP,MP]=In(o0,{value:void 0,onValueChange:()=>{}}),a0=R.forwardRef((e,s)=>{const{value:n,onValueChange:o,...a}=e,f=is(o);return r.jsx(DP,{scope:e.__scopeMenu,value:n,onValueChange:f,children:r.jsx(ff,{...a,ref:s})})});a0.displayName=o0;var l0="MenuRadioItem",c0=R.forwardRef((e,s)=>{const{value:n,...o}=e,a=MP(l0,e.__scopeMenu),f=n===a.value;return r.jsx(u0,{scope:e.__scopeMenu,checked:f,children:r.jsx(xc,{role:"menuitemradio","aria-checked":f,...o,ref:s,"data-state":pf(f),onSelect:ke(o.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});c0.displayName=l0;var mf="MenuItemIndicator",[u0,LP]=In(mf,{checked:!1}),d0=R.forwardRef((e,s)=>{const{__scopeMenu:n,forceMount:o,...a}=e,f=LP(mf,n);return r.jsx(vr,{present:o||Vl(f.checked)||f.checked===!0,children:r.jsx(qe.span,{...a,ref:s,"data-state":pf(f.checked)})})});d0.displayName=mf;var AP="MenuSeparator",h0=R.forwardRef((e,s)=>{const{__scopeMenu:n,...o}=e;return r.jsx(qe.div,{role:"separator","aria-orientation":"horizontal",...o,ref:s})});h0.displayName=AP;var OP="MenuArrow",f0=R.forwardRef((e,s)=>{const{__scopeMenu:n,...o}=e,a=vc(n);return r.jsx(YR,{...a,...o,ref:s})});f0.displayName=OP;var IP="MenuSub",[YD,m0]=In(IP),ko="MenuSubTrigger",p0=R.forwardRef((e,s)=>{const n=Fn(ko,e.__scopeMenu),o=Yo(ko,e.__scopeMenu),a=m0(ko,e.__scopeMenu),f=df(ko,e.__scopeMenu),y=R.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=f,m={__scopeMenu:e.__scopeMenu},v=R.useCallback(()=>{y.current&&window.clearTimeout(y.current),y.current=null},[]);return R.useEffect(()=>v,[v]),R.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),d(null)}},[l,d]),r.jsx(cf,{asChild:!0,...m,children:r.jsx(n0,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":x0(n.open),...e,ref:rn(s,a.onTriggerChange),onClick:h=>{e.onClick?.(h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ke(e.onPointerMove,Ao(h=>{f.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!y.current&&(f.onPointerGraceIntentChange(null),y.current=window.setTimeout(()=>{n.onOpenChange(!0),v()},100))})),onPointerLeave:ke(e.onPointerLeave,Ao(h=>{v();const w=n.content?.getBoundingClientRect();if(w){const S=n.content?.dataset.side,k=S==="right",b=k?-5:5,u=w[k?"left":"right"],x=w[k?"right":"left"];f.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:u,y:w.top},{x,y:w.top},{x,y:w.bottom},{x:u,y:w.bottom}],side:S}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>f.onPointerGraceIntentChange(null),300)}else{if(f.onTriggerLeave(h),h.defaultPrevented)return;f.onPointerGraceIntentChange(null)}})),onKeyDown:ke(e.onKeyDown,h=>{const w=f.searchRef.current!=="";e.disabled||w&&h.key===" "||vP[o.dir].includes(h.key)&&(n.onOpenChange(!0),n.content?.focus(),h.preventDefault())})})})});p0.displayName=ko;var g0="MenuSubContent",v0=R.forwardRef((e,s)=>{const n=e0(ps,e.__scopeMenu),{forceMount:o=n.forceMount,...a}=e,f=Fn(ps,e.__scopeMenu),y=Yo(ps,e.__scopeMenu),l=m0(g0,e.__scopeMenu),d=R.useRef(null),m=ft(s,d);return r.jsx(Lo.Provider,{scope:e.__scopeMenu,children:r.jsx(vr,{present:o||f.open,children:r.jsx(Lo.Slot,{scope:e.__scopeMenu,children:r.jsx(hf,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:m,align:"start",side:y.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{y.isUsingKeyboardRef.current&&d.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:ke(e.onFocusOutside,v=>{v.target!==l.trigger&&f.onOpenChange(!1)}),onEscapeKeyDown:ke(e.onEscapeKeyDown,v=>{y.onClose(),v.preventDefault()}),onKeyDown:ke(e.onKeyDown,v=>{const h=v.currentTarget.contains(v.target),w=xP[y.dir].includes(v.key);h&&w&&(f.onOpenChange(!1),l.trigger?.focus(),v.preventDefault())})})})})})});v0.displayName=g0;function x0(e){return e?"open":"closed"}function Vl(e){return e==="indeterminate"}function pf(e){return Vl(e)?"indeterminate":e?"checked":"unchecked"}function FP(e){const s=document.activeElement;for(const n of e)if(n===s||(n.focus(),document.activeElement!==s))return}function BP(e,s){return e.map((n,o)=>e[(s+o)%e.length])}function HP(e,s,n){const a=s.length>1&&Array.from(s).every(m=>m===s[0])?s[0]:s,f=n?e.indexOf(n):-1;let y=BP(e,Math.max(f,0));a.length===1&&(y=y.filter(m=>m!==n));const d=y.find(m=>m.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function zP(e,s){const{x:n,y:o}=e;let a=!1;for(let f=0,y=s.length-1;f<s.length;y=f++){const l=s[f],d=s[y],m=l.x,v=l.y,h=d.x,w=d.y;v>o!=w>o&&n<(h-m)*(o-v)/(w-v)+m&&(a=!a)}return a}function UP(e,s){if(!s)return!1;const n={x:e.clientX,y:e.clientY};return zP(n,s)}function Ao(e){return s=>s.pointerType==="mouse"?e(s):void 0}var $P=Z_,WP=cf,qP=t0,KP=s0,VP=ff,GP=r0,QP=xc,YP=i0,XP=a0,JP=c0,ZP=d0,eT=h0,tT=f0,sT=p0,rT=v0,yc="DropdownMenu",[nT]=An(yc,[X_]),At=X_(),[iT,y0]=nT(yc),_0=e=>{const{__scopeDropdownMenu:s,children:n,dir:o,open:a,defaultOpen:f,onOpenChange:y,modal:l=!0}=e,d=At(s),m=R.useRef(null),[v,h]=nc({prop:a,defaultProp:f??!1,onChange:y,caller:yc});return r.jsx(iT,{scope:s,triggerId:bi(),triggerRef:m,contentId:bi(),open:v,onOpenChange:h,onOpenToggle:R.useCallback(()=>h(w=>!w),[h]),modal:l,children:r.jsx($P,{...d,open:v,onOpenChange:h,dir:o,modal:l,children:n})})};_0.displayName=yc;var w0="DropdownMenuTrigger",b0=R.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,disabled:o=!1,...a}=e,f=y0(w0,n),y=At(n);return r.jsx(WP,{asChild:!0,...y,children:r.jsx(qe.button,{type:"button",id:f.triggerId,"aria-haspopup":"menu","aria-expanded":f.open,"aria-controls":f.open?f.contentId:void 0,"data-state":f.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...a,ref:rn(s,f.triggerRef),onPointerDown:ke(e.onPointerDown,l=>{!o&&l.button===0&&l.ctrlKey===!1&&(f.onOpenToggle(),f.open||l.preventDefault())}),onKeyDown:ke(e.onKeyDown,l=>{o||(["Enter"," "].includes(l.key)&&f.onOpenToggle(),l.key==="ArrowDown"&&f.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});b0.displayName=w0;var oT="DropdownMenuPortal",S0=e=>{const{__scopeDropdownMenu:s,...n}=e,o=At(s);return r.jsx(qP,{...o,...n})};S0.displayName=oT;var C0="DropdownMenuContent",j0=R.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...o}=e,a=y0(C0,n),f=At(n),y=R.useRef(!1);return r.jsx(KP,{id:a.contentId,"aria-labelledby":a.triggerId,...f,...o,ref:s,onCloseAutoFocus:ke(e.onCloseAutoFocus,l=>{y.current||a.triggerRef.current?.focus(),y.current=!1,l.preventDefault()}),onInteractOutside:ke(e.onInteractOutside,l=>{const d=l.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,v=d.button===2||m;(!a.modal||v)&&(y.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});j0.displayName=C0;var aT="DropdownMenuGroup",lT=R.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...o}=e,a=At(n);return r.jsx(VP,{...a,...o,ref:s})});lT.displayName=aT;var cT="DropdownMenuLabel",k0=R.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...o}=e,a=At(n);return r.jsx(GP,{...a,...o,ref:s})});k0.displayName=cT;var uT="DropdownMenuItem",N0=R.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...o}=e,a=At(n);return r.jsx(QP,{...a,...o,ref:s})});N0.displayName=uT;var dT="DropdownMenuCheckboxItem",E0=R.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...o}=e,a=At(n);return r.jsx(YP,{...a,...o,ref:s})});E0.displayName=dT;var hT="DropdownMenuRadioGroup",fT=R.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...o}=e,a=At(n);return r.jsx(XP,{...a,...o,ref:s})});fT.displayName=hT;var mT="DropdownMenuRadioItem",R0=R.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...o}=e,a=At(n);return r.jsx(JP,{...a,...o,ref:s})});R0.displayName=mT;var pT="DropdownMenuItemIndicator",P0=R.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...o}=e,a=At(n);return r.jsx(ZP,{...a,...o,ref:s})});P0.displayName=pT;var gT="DropdownMenuSeparator",T0=R.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...o}=e,a=At(n);return r.jsx(eT,{...a,...o,ref:s})});T0.displayName=gT;var vT="DropdownMenuArrow",xT=R.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...o}=e,a=At(n);return r.jsx(tT,{...a,...o,ref:s})});xT.displayName=vT;var yT="DropdownMenuSubTrigger",D0=R.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...o}=e,a=At(n);return r.jsx(sT,{...a,...o,ref:s})});D0.displayName=yT;var _T="DropdownMenuSubContent",M0=R.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...o}=e,a=At(n);return r.jsx(rT,{...a,...o,ref:s,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});M0.displayName=_T;var wT=_0,bT=b0,ST=S0,L0=j0,A0=k0,O0=N0,I0=E0,F0=R0,B0=P0,H0=T0,z0=D0,U0=M0;const zv=wT,Uv=bT,CT=R.forwardRef(({className:e,inset:s,children:n,...o},a)=>r.jsxs(z0,{ref:a,className:ce("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...o,children:[n,r.jsx(nn,{className:"ml-auto h-4 w-4"})]}));CT.displayName=z0.displayName;const jT=R.forwardRef(({className:e,...s},n)=>r.jsx(U0,{ref:n,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));jT.displayName=U0.displayName;const xh=R.forwardRef(({className:e,sideOffset:s=4,...n},o)=>r.jsx(ST,{children:r.jsx(L0,{ref:o,sideOffset:s,className:ce("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));xh.displayName=L0.displayName;const yh=R.forwardRef(({className:e,inset:s,...n},o)=>r.jsx(O0,{ref:o,className:ce("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...n}));yh.displayName=O0.displayName;const kT=R.forwardRef(({className:e,children:s,checked:n,...o},a)=>r.jsxs(I0,{ref:a,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...o,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(B0,{children:r.jsx(Ho,{className:"h-4 w-4"})})}),s]}));kT.displayName=I0.displayName;const NT=R.forwardRef(({className:e,children:s,...n},o)=>r.jsxs(F0,{ref:o,className:ce("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(B0,{children:r.jsx(_2,{className:"h-2 w-2 fill-current"})})}),s]}));NT.displayName=F0.displayName;const ET=R.forwardRef(({className:e,inset:s,...n},o)=>r.jsx(A0,{ref:o,className:ce("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...n}));ET.displayName=A0.displayName;const RT=R.forwardRef(({className:e,...s},n)=>r.jsx(H0,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",e),...s}));RT.displayName=H0.displayName;function We(e){const s=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&s==="[object Date]"?new e.constructor(+e):typeof e=="number"||s==="[object Number]"||typeof e=="string"||s==="[object String]"?new Date(e):new Date(NaN)}function sn(e,s){return e instanceof Date?new e.constructor(s):new Date(s)}const $0=6048e5,PT=864e5,xl=43200,$v=1440;let TT={};function Xo(){return TT}function Oo(e,s){const n=Xo(),o=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=We(e),f=a.getDay(),y=(f<o?7:0)+f-o;return a.setDate(a.getDate()-y),a.setHours(0,0,0,0),a}function Gl(e){return Oo(e,{weekStartsOn:1})}function W0(e){const s=We(e),n=s.getFullYear(),o=sn(e,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const a=Gl(o),f=sn(e,0);f.setFullYear(n,0,4),f.setHours(0,0,0,0);const y=Gl(f);return s.getTime()>=a.getTime()?n+1:s.getTime()>=y.getTime()?n:n-1}function Wv(e){const s=We(e);return s.setHours(0,0,0,0),s}function Ql(e){const s=We(e),n=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return n.setUTCFullYear(s.getFullYear()),+e-+n}function DT(e,s){const n=Wv(e),o=Wv(s),a=+n-Ql(n),f=+o-Ql(o);return Math.round((a-f)/PT)}function MT(e){const s=W0(e),n=sn(e,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),Gl(n)}function Pl(e,s){const n=We(e),o=We(s),a=n.getTime()-o.getTime();return a<0?-1:a>0?1:a}function LT(e){return sn(e,Date.now())}function AT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function OT(e){if(!AT(e)&&typeof e!="number")return!1;const s=We(e);return!isNaN(Number(s))}function IT(e,s){const n=We(e),o=We(s),a=n.getFullYear()-o.getFullYear(),f=n.getMonth()-o.getMonth();return a*12+f}function FT(e){return s=>{const o=(e?Math[e]:Math.trunc)(s);return o===0?0:o}}function BT(e,s){return+We(e)-+We(s)}function HT(e){const s=We(e);return s.setHours(23,59,59,999),s}function zT(e){const s=We(e),n=s.getMonth();return s.setFullYear(s.getFullYear(),n+1,0),s.setHours(23,59,59,999),s}function UT(e){const s=We(e);return+HT(s)==+zT(s)}function $T(e,s){const n=We(e),o=We(s),a=Pl(n,o),f=Math.abs(IT(n,o));let y;if(f<1)y=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*f);let l=Pl(n,o)===-a;UT(We(e))&&f===1&&Pl(e,o)===1&&(l=!1),y=a*(f-Number(l))}return y===0?0:y}function WT(e,s,n){const o=BT(e,s)/1e3;return FT(n?.roundingMethod)(o)}function qT(e){const s=We(e),n=sn(e,0);return n.setFullYear(s.getFullYear(),0,1),n.setHours(0,0,0,0),n}const KT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},VT=(e,s,n)=>{let o;const a=KT[e];return typeof a=="string"?o=a:s===1?o=a.one:o=a.other.replace("{{count}}",s.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function Hd(e){return(s={})=>{const n=s.width?String(s.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const GT={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},QT={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YT={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XT={date:Hd({formats:GT,defaultWidth:"full"}),time:Hd({formats:QT,defaultWidth:"full"}),dateTime:Hd({formats:YT,defaultWidth:"full"})},JT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ZT=(e,s,n,o)=>JT[e];function Co(e){return(s,n)=>{const o=n?.context?String(n.context):"standalone";let a;if(o==="formatting"&&e.formattingValues){const y=e.defaultFormattingWidth||e.defaultWidth,l=n?.width?String(n.width):y;a=e.formattingValues[l]||e.formattingValues[y]}else{const y=e.defaultWidth,l=n?.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[y]}const f=e.argumentCallback?e.argumentCallback(s):s;return a[f]}}const e3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},t3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},s3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},r3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},n3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},i3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},o3=(e,s)=>{const n=Number(e),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},a3={ordinalNumber:o3,era:Co({values:e3,defaultWidth:"wide"}),quarter:Co({values:t3,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Co({values:s3,defaultWidth:"wide"}),day:Co({values:r3,defaultWidth:"wide"}),dayPeriod:Co({values:n3,defaultWidth:"wide",formattingValues:i3,defaultFormattingWidth:"wide"})};function jo(e){return(s,n={})=>{const o=n.width,a=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],f=s.match(a);if(!f)return null;const y=f[0],l=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?c3(l,h=>h.test(y)):l3(l,h=>h.test(y));let m;m=e.valueCallback?e.valueCallback(d):d,m=n.valueCallback?n.valueCallback(m):m;const v=s.slice(y.length);return{value:m,rest:v}}}function l3(e,s){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&s(e[n]))return n}function c3(e,s){for(let n=0;n<e.length;n++)if(s(e[n]))return n}function u3(e){return(s,n={})=>{const o=s.match(e.matchPattern);if(!o)return null;const a=o[0],f=s.match(e.parsePattern);if(!f)return null;let y=e.valueCallback?e.valueCallback(f[0]):f[0];y=n.valueCallback?n.valueCallback(y):y;const l=s.slice(a.length);return{value:y,rest:l}}}const d3=/^(\d+)(th|st|nd|rd)?/i,h3=/\d+/i,f3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},m3={any:[/^b/i,/^(a|c)/i]},p3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},g3={any:[/1/i,/2/i,/3/i,/4/i]},v3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},x3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},y3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},w3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},b3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},S3={ordinalNumber:u3({matchPattern:d3,parsePattern:h3,valueCallback:e=>parseInt(e,10)}),era:jo({matchPatterns:f3,defaultMatchWidth:"wide",parsePatterns:m3,defaultParseWidth:"any"}),quarter:jo({matchPatterns:p3,defaultMatchWidth:"wide",parsePatterns:g3,defaultParseWidth:"any",valueCallback:e=>e+1}),month:jo({matchPatterns:v3,defaultMatchWidth:"wide",parsePatterns:x3,defaultParseWidth:"any"}),day:jo({matchPatterns:y3,defaultMatchWidth:"wide",parsePatterns:_3,defaultParseWidth:"any"}),dayPeriod:jo({matchPatterns:w3,defaultMatchWidth:"any",parsePatterns:b3,defaultParseWidth:"any"})},q0={code:"en-US",formatDistance:VT,formatLong:XT,formatRelative:ZT,localize:a3,match:S3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function C3(e){const s=We(e);return DT(s,qT(s))+1}function j3(e){const s=We(e),n=+Gl(s)-+MT(s);return Math.round(n/$0)+1}function K0(e,s){const n=We(e),o=n.getFullYear(),a=Xo(),f=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,y=sn(e,0);y.setFullYear(o+1,0,f),y.setHours(0,0,0,0);const l=Oo(y,s),d=sn(e,0);d.setFullYear(o,0,f),d.setHours(0,0,0,0);const m=Oo(d,s);return n.getTime()>=l.getTime()?o+1:n.getTime()>=m.getTime()?o:o-1}function k3(e,s){const n=Xo(),o=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=K0(e,s),f=sn(e,0);return f.setFullYear(a,0,o),f.setHours(0,0,0,0),Oo(f,s)}function N3(e,s){const n=We(e),o=+Oo(n,s)-+k3(n,s);return Math.round(o/$0)+1}function $e(e,s){const n=e<0?"-":"",o=Math.abs(e).toString().padStart(s,"0");return n+o}const $r={y(e,s){const n=e.getFullYear(),o=n>0?n:1-n;return $e(s==="yy"?o%100:o,s.length)},M(e,s){const n=e.getMonth();return s==="M"?String(n+1):$e(n+1,2)},d(e,s){return $e(e.getDate(),s.length)},a(e,s){const n=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,s){return $e(e.getHours()%12||12,s.length)},H(e,s){return $e(e.getHours(),s.length)},m(e,s){return $e(e.getMinutes(),s.length)},s(e,s){return $e(e.getSeconds(),s.length)},S(e,s){const n=s.length,o=e.getMilliseconds(),a=Math.trunc(o*Math.pow(10,n-3));return $e(a,s.length)}},mi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qv={G:function(e,s,n){const o=e.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});default:return n.era(o,{width:"wide"})}},y:function(e,s,n){if(s==="yo"){const o=e.getFullYear(),a=o>0?o:1-o;return n.ordinalNumber(a,{unit:"year"})}return $r.y(e,s)},Y:function(e,s,n,o){const a=K0(e,o),f=a>0?a:1-a;if(s==="YY"){const y=f%100;return $e(y,2)}return s==="Yo"?n.ordinalNumber(f,{unit:"year"}):$e(f,s.length)},R:function(e,s){const n=W0(e);return $e(n,s.length)},u:function(e,s){const n=e.getFullYear();return $e(n,s.length)},Q:function(e,s,n){const o=Math.ceil((e.getMonth()+1)/3);switch(s){case"Q":return String(o);case"QQ":return $e(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,s,n){const o=Math.ceil((e.getMonth()+1)/3);switch(s){case"q":return String(o);case"qq":return $e(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,s,n){const o=e.getMonth();switch(s){case"M":case"MM":return $r.M(e,s);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(e,s,n){const o=e.getMonth();switch(s){case"L":return String(o+1);case"LL":return $e(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(e,s,n,o){const a=N3(e,o);return s==="wo"?n.ordinalNumber(a,{unit:"week"}):$e(a,s.length)},I:function(e,s,n){const o=j3(e);return s==="Io"?n.ordinalNumber(o,{unit:"week"}):$e(o,s.length)},d:function(e,s,n){return s==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):$r.d(e,s)},D:function(e,s,n){const o=C3(e);return s==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):$e(o,s.length)},E:function(e,s,n){const o=e.getDay();switch(s){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(e,s,n,o){const a=e.getDay(),f=(a-o.weekStartsOn+8)%7||7;switch(s){case"e":return String(f);case"ee":return $e(f,2);case"eo":return n.ordinalNumber(f,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,s,n,o){const a=e.getDay(),f=(a-o.weekStartsOn+8)%7||7;switch(s){case"c":return String(f);case"cc":return $e(f,s.length);case"co":return n.ordinalNumber(f,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,s,n){const o=e.getDay(),a=o===0?7:o;switch(s){case"i":return String(a);case"ii":return $e(a,s.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(e,s,n){const a=e.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,s,n){const o=e.getHours();let a;switch(o===12?a=mi.noon:o===0?a=mi.midnight:a=o/12>=1?"pm":"am",s){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,s,n){const o=e.getHours();let a;switch(o>=17?a=mi.evening:o>=12?a=mi.afternoon:o>=4?a=mi.morning:a=mi.night,s){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,s,n){if(s==="ho"){let o=e.getHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return $r.h(e,s)},H:function(e,s,n){return s==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):$r.H(e,s)},K:function(e,s,n){const o=e.getHours()%12;return s==="Ko"?n.ordinalNumber(o,{unit:"hour"}):$e(o,s.length)},k:function(e,s,n){let o=e.getHours();return o===0&&(o=24),s==="ko"?n.ordinalNumber(o,{unit:"hour"}):$e(o,s.length)},m:function(e,s,n){return s==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):$r.m(e,s)},s:function(e,s,n){return s==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):$r.s(e,s)},S:function(e,s){return $r.S(e,s)},X:function(e,s,n){const o=e.getTimezoneOffset();if(o===0)return"Z";switch(s){case"X":return Vv(o);case"XXXX":case"XX":return Cn(o);default:return Cn(o,":")}},x:function(e,s,n){const o=e.getTimezoneOffset();switch(s){case"x":return Vv(o);case"xxxx":case"xx":return Cn(o);default:return Cn(o,":")}},O:function(e,s,n){const o=e.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+Kv(o,":");default:return"GMT"+Cn(o,":")}},z:function(e,s,n){const o=e.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+Kv(o,":");default:return"GMT"+Cn(o,":")}},t:function(e,s,n){const o=Math.trunc(e.getTime()/1e3);return $e(o,s.length)},T:function(e,s,n){const o=e.getTime();return $e(o,s.length)}};function Kv(e,s=""){const n=e>0?"-":"+",o=Math.abs(e),a=Math.trunc(o/60),f=o%60;return f===0?n+String(a):n+String(a)+s+$e(f,2)}function Vv(e,s){return e%60===0?(e>0?"-":"+")+$e(Math.abs(e)/60,2):Cn(e,s)}function Cn(e,s=""){const n=e>0?"-":"+",o=Math.abs(e),a=$e(Math.trunc(o/60),2),f=$e(o%60,2);return n+a+s+f}const Gv=(e,s)=>{switch(e){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});default:return s.date({width:"full"})}},V0=(e,s)=>{switch(e){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});default:return s.time({width:"full"})}},E3=(e,s)=>{const n=e.match(/(P+)(p+)?/)||[],o=n[1],a=n[2];if(!a)return Gv(e,s);let f;switch(o){case"P":f=s.dateTime({width:"short"});break;case"PP":f=s.dateTime({width:"medium"});break;case"PPP":f=s.dateTime({width:"long"});break;default:f=s.dateTime({width:"full"});break}return f.replace("{{date}}",Gv(o,s)).replace("{{time}}",V0(a,s))},R3={p:V0,P:E3},P3=/^D+$/,T3=/^Y+$/,D3=["D","DD","YY","YYYY"];function M3(e){return P3.test(e)}function L3(e){return T3.test(e)}function A3(e,s,n){const o=O3(e,s,n);if(console.warn(o),D3.includes(e))throw new RangeError(o)}function O3(e,s,n){const o=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${s}\`) for formatting ${o} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const I3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,F3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,B3=/^'([^]*?)'?$/,H3=/''/g,z3=/[a-zA-Z]/;function zd(e,s,n){const o=Xo(),a=o.locale??q0,f=o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,y=o.weekStartsOn??o.locale?.options?.weekStartsOn??0,l=We(e);if(!OT(l))throw new RangeError("Invalid time value");let d=s.match(F3).map(v=>{const h=v[0];if(h==="p"||h==="P"){const w=R3[h];return w(v,a.formatLong)}return v}).join("").match(I3).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const h=v[0];if(h==="'")return{isToken:!1,value:U3(v)};if(qv[h])return{isToken:!0,value:v};if(h.match(z3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(d=a.localize.preprocessor(l,d));const m={firstWeekContainsDate:f,weekStartsOn:y,locale:a};return d.map(v=>{if(!v.isToken)return v.value;const h=v.value;(L3(h)||M3(h))&&A3(h,s,String(e));const w=qv[h[0]];return w(l,h,a.localize,m)}).join("")}function U3(e){const s=e.match(B3);return s?s[1].replace(H3,"'"):e}function $3(e,s,n){const o=Xo(),a=n?.locale??o.locale??q0,f=2520,y=Pl(e,s);if(isNaN(y))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:y});let d,m;y>0?(d=We(s),m=We(e)):(d=We(e),m=We(s));const v=WT(m,d),h=(Ql(m)-Ql(d))/1e3,w=Math.round((v-h)/60);let S;if(w<2)return n?.includeSeconds?v<5?a.formatDistance("lessThanXSeconds",5,l):v<10?a.formatDistance("lessThanXSeconds",10,l):v<20?a.formatDistance("lessThanXSeconds",20,l):v<40?a.formatDistance("halfAMinute",0,l):v<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):w===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",w,l);if(w<45)return a.formatDistance("xMinutes",w,l);if(w<90)return a.formatDistance("aboutXHours",1,l);if(w<$v){const k=Math.round(w/60);return a.formatDistance("aboutXHours",k,l)}else{if(w<f)return a.formatDistance("xDays",1,l);if(w<xl){const k=Math.round(w/$v);return a.formatDistance("xDays",k,l)}else if(w<xl*2)return S=Math.round(w/xl),a.formatDistance("aboutXMonths",S,l)}if(S=$T(m,d),S<12){const k=Math.round(w/xl);return a.formatDistance("xMonths",k,l)}else{const k=S%12,b=Math.trunc(S/12);return k<3?a.formatDistance("aboutXYears",b,l):k<9?a.formatDistance("overXYears",b,l):a.formatDistance("almostXYears",b+1,l)}}function W3(e,s){return $3(e,LT(e),s)}function G0({sessionId:e,sessionType:s}){const[n,o]=R.useState(""),[a,f]=R.useState(null),[y,l]=R.useState(""),[d,m]=R.useState(!1),[v,h]=R.useState(""),[w,S]=R.useState("#6366f1"),{toast:k}=Ve(),b=Kt(),{data:u=[],isLoading:x}=Je({queryKey:["session-notes",e,s],queryFn:()=>ks.getSessionNotes(e,s)}),{data:p=[]}=Je({queryKey:["tags"],queryFn:ks.listTags}),{data:g=[]}=Je({queryKey:["session-tags",e,s],queryFn:()=>ks.getSessionTags(e,s)}),C=Se({mutationFn:G=>ks.createNote(e,G,s),onSuccess:()=>{b.invalidateQueries({queryKey:["session-notes",e,s]}),o(""),k({title:"Note created"})},onError:()=>{k({title:"Failed to create note",variant:"destructive"})}}),E=Se({mutationFn:({noteId:G,content:D})=>ks.updateNote(G,D),onSuccess:()=>{b.invalidateQueries({queryKey:["session-notes",e,s]}),f(null),k({title:"Note updated"})},onError:()=>{k({title:"Failed to update note",variant:"destructive"})}}),P=Se({mutationFn:G=>ks.deleteNote(G),onSuccess:()=>{b.invalidateQueries({queryKey:["session-notes",e,s]}),k({title:"Note deleted"})},onError:()=>{k({title:"Failed to delete note",variant:"destructive"})}}),L=Se({mutationFn:()=>ks.createTag(v,w),onSuccess:()=>{b.invalidateQueries({queryKey:["tags"]}),h(""),S("#6366f1"),k({title:"Tag created"})},onError:()=>{k({title:"Failed to create tag",variant:"destructive"})}}),j=Se({mutationFn:G=>ks.addTagToSession(e,G,s),onSuccess:()=>{b.invalidateQueries({queryKey:["session-tags",e,s]}),k({title:"Tag added"})},onError:()=>{k({title:"Failed to add tag",variant:"destructive"})}}),A=Se({mutationFn:G=>ks.removeTagFromSession(e,G,s),onSuccess:()=>{b.invalidateQueries({queryKey:["session-tags",e,s]}),k({title:"Tag removed"})},onError:()=>{k({title:"Failed to remove tag",variant:"destructive"})}}),z=Se({mutationFn:()=>ks.exportSessionData(e),onSuccess:G=>{const D=new Blob([JSON.stringify(G,null,2)],{type:"application/json"}),M=URL.createObjectURL(D),H=document.createElement("a");H.href=M,H.download=`session-${e}-export.json`,H.click(),URL.revokeObjectURL(M),k({title:"Data exported successfully"})},onError:()=>{k({title:"Failed to export data",variant:"destructive"})}}),$=()=>{n.trim()&&C.mutate(n)},U=()=>{!a||!y.trim()||E.mutate({noteId:a.id,content:y})},I=G=>{f(G),l(G.content)},W=g.map(G=>G.id),J=p.filter(G=>!W.includes(G.id)),V=["#ef4444","#f97316","#f59e0b","#84cc16","#22c55e","#14b8a6","#06b6d4","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899","#f43f5e","#64748b"];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Oe,{children:[r.jsx(Fe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Be,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(W2,{className:"h-4 w-4"}),"Tags"]}),r.jsxs(x_,{open:d,onOpenChange:m,children:[r.jsx(y_,{asChild:!0,children:r.jsxs(Z,{variant:"outline",size:"sm",children:[r.jsx(lr,{className:"h-4 w-4 mr-1"}),"Manage Tags"]})}),r.jsxs(Xh,{children:[r.jsx(Jh,{children:r.jsx(Zh,{children:"Manage Tags"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Create New Tag"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Pe,{placeholder:"Tag name",value:v,onChange:G=>h(G.target.value),className:"flex-1"}),r.jsxs(zv,{children:[r.jsx(Uv,{asChild:!0,children:r.jsx(Z,{variant:"outline",size:"icon",style:{backgroundColor:w}})}),r.jsx(xh,{children:r.jsx("div",{className:"grid grid-cols-5 gap-1 p-2",children:V.map(G=>r.jsx("button",{className:ce("w-6 h-6 rounded border-2",w===G?"border-white":"border-transparent"),style:{backgroundColor:G},onClick:()=>S(G)},G))})})]}),r.jsx(Z,{onClick:()=>L.mutate(),disabled:!v.trim()||L.isPending,children:"Create"})]})]}),J.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Add Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:J.map(G=>r.jsxs(wi,{variant:"outline",className:"cursor-pointer hover:opacity-80",style:{borderColor:G.color,color:G.color},onClick:()=>j.mutate(G.id),children:[r.jsx(lr,{className:"h-3 w-3 mr-1"}),G.name]},G.id))})]}),g.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Current Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(G=>r.jsxs(wi,{style:{backgroundColor:G.color},className:"text-white",children:[G.name,r.jsx("button",{className:"ml-1 hover:opacity-80",onClick:()=>A.mutate(G.id),children:r.jsx(Lt,{className:"h-3 w-3"})})]},G.id))})]})]})]})]})]})}),r.jsx(Ie,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:g.length>0?g.map(G=>r.jsx(wi,{style:{backgroundColor:G.color},className:"text-white",children:G.name},G.id)):r.jsx("span",{className:"text-sm text-muted-foreground",children:"No tags assigned"})})})]}),r.jsxs(Oe,{children:[r.jsx(Fe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Be,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(Bh,{className:"h-4 w-4"}),"Notes (",u.length,")"]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>z.mutate(),disabled:z.isPending,children:[r.jsx(qt,{className:"h-4 w-4 mr-1"}),"Export All"]})]})}),r.jsxs(Ie,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(dh,{placeholder:"Add a note...",value:n,onChange:G=>o(G.target.value),className:"min-h-[80px]"}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(Z,{onClick:$,disabled:!n.trim()||C.isPending,size:"sm",children:[r.jsx(lr,{className:"h-4 w-4 mr-1"}),"Add Note"]})})]}),x?r.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Loading notes..."}):u.length===0?r.jsx("div",{className:"text-center text-muted-foreground py-4",children:"No notes yet"}):r.jsx("div",{className:"space-y-3",children:u.map(G=>r.jsx("div",{className:"p-3 rounded-lg border bg-muted/30",children:a?.id===G.id?r.jsxs("div",{className:"space-y-2",children:[r.jsx(dh,{value:y,onChange:D=>l(D.target.value),className:"min-h-[80px]"}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>f(null),children:[r.jsx(Lt,{className:"h-4 w-4 mr-1"}),"Cancel"]}),r.jsxs(Z,{size:"sm",onClick:U,disabled:E.isPending,children:[r.jsx(B2,{className:"h-4 w-4 mr-1"}),"Save"]})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("p",{className:"text-sm whitespace-pre-wrap flex-1",children:G.content}),r.jsxs(zv,{children:[r.jsx(Uv,{asChild:!0,children:r.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:r.jsx(A2,{className:"h-4 w-4"})})}),r.jsxs(xh,{align:"end",children:[r.jsxs(yh,{onClick:()=>I(G),children:[r.jsx(O2,{className:"h-4 w-4 mr-2"}),"Edit"]}),r.jsxs(yh,{className:"text-destructive",onClick:()=>P.mutate(G.id),children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(hr,{className:"h-3 w-3"}),G.username]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(xt,{className:"h-3 w-3"}),W3(new Date(G.created_at),{addSuffix:!0})]})]})]})},G.id))})]})]})]})}const Q0=R.forwardRef(({className:e,...s},n)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:n,className:ce("w-full caption-bottom text-sm",e),...s})}));Q0.displayName="Table";const Y0=R.forwardRef(({className:e,...s},n)=>r.jsx("thead",{ref:n,className:ce("[&_tr]:border-b",e),...s}));Y0.displayName="TableHeader";const X0=R.forwardRef(({className:e,...s},n)=>r.jsx("tbody",{ref:n,className:ce("[&_tr:last-child]:border-0",e),...s}));X0.displayName="TableBody";const q3=R.forwardRef(({className:e,...s},n)=>r.jsx("tfoot",{ref:n,className:ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s}));q3.displayName="TableFooter";const _h=R.forwardRef(({className:e,...s},n)=>r.jsx("tr",{ref:n,className:ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));_h.displayName="TableRow";const vi=R.forwardRef(({className:e,...s},n)=>r.jsx("th",{ref:n,className:ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));vi.displayName="TableHead";const xi=R.forwardRef(({className:e,...s},n)=>r.jsx("td",{ref:n,className:ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));xi.displayName="TableCell";const K3=R.forwardRef(({className:e,...s},n)=>r.jsx("caption",{ref:n,className:ce("mt-4 text-sm text-muted-foreground",e),...s}));K3.displayName="TableCaption";function J0({sessionId:e,sessionType:s}){const[n,o]=R.useState(""),[a,f]=R.useState(null),{toast:y}=Ve(),{data:l=[],isLoading:d}=Je({queryKey:["command-history",e],queryFn:()=>ks.getCommandHistory(e)}),m=l.filter(w=>w.command.toLowerCase().includes(n.toLowerCase())),v=w=>{navigator.clipboard.writeText(w),y({title:"Copied to clipboard"})},h=()=>{const w=l.map(u=>`[${zd(new Date(u.executed_at),"yyyy-MM-dd HH:mm:ss")}] (${u.username}) $ ${u.command}
${u.output||""}
Exit Code: ${u.exit_code??"N/A"}
${"=".repeat(80)}
`).join(`
`),S=new Blob([w],{type:"text/plain"}),k=URL.createObjectURL(S),b=document.createElement("a");b.href=k,b.download=`command-history-${e}.txt`,b.click(),URL.revokeObjectURL(k),y({title:"History exported"})};return r.jsxs(Oe,{children:[r.jsx(Fe,{className:"pb-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Be,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(N2,{className:"h-4 w-4"}),"Command History (",m.length,")"]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:h,disabled:l.length===0,children:[r.jsx(qt,{className:"h-4 w-4 mr-1"}),"Export"]})]})}),r.jsxs(Ie,{className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(On,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Pe,{placeholder:"Search commands...",value:n,onChange:w=>o(w.target.value),className:"pl-9"})]}),d?r.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Loading history..."}):m.length===0?r.jsx("div",{className:"text-center text-muted-foreground py-8",children:n?"No matching commands":"No command history"}):r.jsx("div",{className:"rounded-md border max-h-[400px] overflow-auto",children:r.jsxs(Q0,{children:[r.jsx(Y0,{children:r.jsxs(_h,{children:[r.jsx(vi,{className:"w-[60px]",children:"Status"}),r.jsx(vi,{children:"Command"}),r.jsx(vi,{className:"w-[120px]",children:"User"}),r.jsx(vi,{className:"w-[150px]",children:"Time"}),r.jsx(vi,{className:"w-[80px]",children:"Actions"})]})}),r.jsx(X0,{children:m.map(w=>r.jsxs(_h,{className:"cursor-pointer hover:bg-muted/50",children:[r.jsx(xi,{children:w.exit_code===0?r.jsx(zs,{className:"h-4 w-4 text-green-500"}):w.exit_code!==null&&w.exit_code!==void 0?r.jsx(es,{className:"h-4 w-4 text-red-500"}):r.jsx(wi,{variant:"outline",className:"text-xs",children:"N/A"})}),r.jsx(xi,{className:"font-mono text-sm",children:r.jsxs("div",{className:"flex items-center gap-2 max-w-[400px]",children:[r.jsx(gs,{className:"h-3 w-3 shrink-0 text-muted-foreground"}),r.jsx("span",{className:"truncate",children:w.command})]})}),r.jsx(xi,{children:r.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[r.jsx(hr,{className:"h-3 w-3"}),w.username]})}),r.jsx(xi,{children:r.jsxs("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[r.jsx(xt,{className:"h-3 w-3"}),zd(new Date(w.executed_at),"MMM d, HH:mm")]})}),r.jsx(xi,{children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:S=>{S.stopPropagation(),v(w.command)},title:"Copy command",children:r.jsx(Xr,{className:"h-3 w-3"})}),r.jsxs(x_,{children:[r.jsx(y_,{asChild:!0,children:r.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(w),title:"View details",children:r.jsx(gs,{className:"h-3 w-3"})})}),r.jsxs(Xh,{className:"max-w-3xl max-h-[80vh] overflow-hidden flex flex-col",children:[r.jsx(Jh,{children:r.jsx(Zh,{children:"Command Details"})}),a&&r.jsxs("div",{className:"space-y-4 overflow-auto flex-1",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium",children:"Command"}),r.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>v(a.command),children:[r.jsx(Xr,{className:"h-3 w-3 mr-1"}),"Copy"]})]}),r.jsxs("pre",{className:"p-3 rounded-lg bg-muted font-mono text-sm whitespace-pre-wrap break-all",children:["$ ",a.command]})]}),a.output&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("label",{className:"text-sm font-medium",children:"Output"}),r.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>v(a.output||""),children:[r.jsx(Xr,{className:"h-3 w-3 mr-1"}),"Copy"]})]}),r.jsx("pre",{className:"p-3 rounded-lg bg-black text-green-400 font-mono text-sm whitespace-pre-wrap break-all max-h-[300px] overflow-auto",children:a.output})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground border-t pt-3",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(hr,{className:"h-4 w-4"}),a.username]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(xt,{className:"h-4 w-4"}),zd(new Date(a.executed_at),"PPpp")]}),r.jsxs(wi,{variant:a.exit_code===0?"default":"destructive",children:["Exit Code: ",a.exit_code??"N/A"]})]})]})]})]})]})})]},w.id))})]})})]})]})}function Z0({icon:e=R2,title:s,description:n,action:o,className:a}){return r.jsxs("div",{className:ce("flex flex-col items-center justify-center py-12 px-4",a),children:[r.jsx("div",{className:"h-16 w-16 rounded-full bg-muted flex items-center justify-center mb-4",children:r.jsx(e,{className:"h-8 w-8 text-muted-foreground"})}),r.jsx("h3",{className:"text-lg font-medium mb-1",children:s}),n&&r.jsx("p",{className:"text-sm text-muted-foreground text-center max-w-sm mb-4",children:n}),o&&r.jsx(Z,{onClick:o.onClick,children:o.label})]})}function V3({onAction:e}){return r.jsx(Z0,{icon:gs,title:"No Active Sessions",description:"Sessions will appear here when implants connect to your Sliver server.",action:e?{label:"Generate Implant",onClick:e}:void 0})}function G3({onAction:e}){return r.jsx(Z0,{icon:dr,title:"No Active Beacons",description:"Beacons will appear here when beacon implants check in.",action:e?{label:"Generate Beacon",onClick:e}:void 0})}function yl({className:e}){return r.jsx("div",{className:ce("animate-pulse rounded-md bg-muted",e)})}function ew({items:e=5}){return r.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((s,n)=>r.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[r.jsx(yl,{className:"h-10 w-10 rounded-full"}),r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx(yl,{className:"h-4 w-1/3"}),r.jsx(yl,{className:"h-3 w-1/2"})]}),r.jsx(yl,{className:"h-8 w-20"})]},n))})}function Q3(){const[e,s]=R.useState(null),[n,o]=R.useState("info"),a=Kt(),{toast:f}=Ve(),{data:y,isLoading:l,refetch:d}=Je({queryKey:["sessions"],queryFn:yt.list,refetchInterval:1e4}),m=Se({mutationFn:S=>yt.kill(S),onSuccess:()=>{a.invalidateQueries({queryKey:["sessions"]}),s(null),f({title:"Session killed"})},onError:S=>{f({variant:"destructive",title:"Failed to kill session",description:S.response?.data?.detail})}}),v=y?.sessions||[],h=[{id:"info",label:"Info",icon:qs},{id:"terminal",label:"Terminal",icon:gs},{id:"files",label:"Files",icon:Ug},{id:"processes",label:"Processes",icon:rs},{id:"screenshots",label:"Screenshots",icon:ar},{id:"pivots",label:"Pivots",icon:Gr},{id:"notes",label:"Notes",icon:Bh}],w=S=>{const k=S?.toLowerCase()||"";return k.includes("windows")?"":k.includes("linux")?"":k.includes("darwin")||k.includes("macos")?"":""};return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Sessions"}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>d(),children:[r.jsx(vs,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),r.jsxs("div",{className:"flex-1 flex gap-4 min-h-0",children:[r.jsxs("div",{className:"w-80 flex-shrink-0 flex flex-col border rounded-lg bg-card",children:[r.jsx("div",{className:"p-3 border-b",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mt,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Active Sessions"}),r.jsx("span",{className:"ml-auto text-sm text-muted-foreground",children:v.length})]})}),r.jsx("div",{className:"flex-1 overflow-auto",children:l?r.jsx("div",{className:"p-4",children:r.jsx(ew,{items:3})}):v.length===0?r.jsx("div",{className:"p-4",children:r.jsx(V3,{})}):r.jsx("div",{className:"divide-y",children:v.map(S=>r.jsxs("button",{onClick:()=>{s(S),o("info")},className:ce("w-full text-left p-3 transition-colors hover:bg-muted/50",e?.id===S.id&&"bg-primary/10"),children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-lg",children:w(S.os)}),r.jsx("span",{className:"font-medium truncate flex-1",children:S.name}),r.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[S.username,"@",S.hostname]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[r.jsxs("span",{children:[S.os,"/",S.arch]}),r.jsx("span",{children:""}),r.jsx("span",{children:S.transport})]})]},S.id))})})]}),r.jsx("div",{className:"flex-1 flex flex-col min-w-0 border rounded-lg bg-card overflow-hidden",children:e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-4 p-4 border-b bg-muted/30",children:[r.jsx("div",{className:"text-3xl",children:w(e.os)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h2",{className:"text-xl font-semibold truncate",children:e.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.username,"@",e.hostname]})]}),r.jsxs(Z,{variant:"destructive",size:"sm",onClick:()=>m.mutate(e.id),disabled:m.isPending,children:[m.isPending?r.jsx(Te,{className:"h-4 w-4 mr-1 animate-spin"}):r.jsx(ht,{className:"h-4 w-4 mr-1"}),"Kill Session"]})]}),r.jsx("div",{className:"flex border-b",children:h.map(S=>r.jsxs("button",{onClick:()=>o(S.id),className:ce("flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 -mb-px",n===S.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:[r.jsx(S.icon,{className:"h-4 w-4"}),S.label]},S.id))}),r.jsxs("div",{className:"flex-1 overflow-hidden",children:[n==="info"&&r.jsxs("div",{className:"p-6 overflow-auto h-full",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[r.jsx(Wr,{icon:hr,label:"Username",value:e.username}),r.jsx(Wr,{icon:Il,label:"Hostname",value:e.hostname}),r.jsx(Wr,{icon:Tn,label:"Remote Address",value:e.remote_address}),r.jsx(Wr,{icon:Mt,label:"Operating System",value:`${e.os} (${e.arch})`}),r.jsx(Wr,{icon:qs,label:"Transport",value:e.transport}),r.jsx(Wr,{icon:rs,label:"Process ID",value:e.pid?.toString()||"N/A"}),r.jsx(Wr,{icon:xt,label:"Connected",value:e.first_contact?cr(e.first_contact):"Unknown"}),r.jsx(Wr,{icon:xt,label:"Last Seen",value:e.last_checkin?cr(e.last_checkin):"Unknown"})]}),r.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Session ID"}),r.jsx("p",{className:"font-mono text-sm break-all",children:e.id})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"font-medium mb-3",children:"Quick Actions"}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(Z,{variant:"secondary",size:"sm",onClick:()=>o("terminal"),children:[r.jsx(gs,{className:"h-4 w-4 mr-1"}),"Open Terminal"]}),r.jsxs(Z,{variant:"secondary",size:"sm",onClick:()=>o("files"),children:[r.jsx(Ug,{className:"h-4 w-4 mr-1"}),"Browse Files"]}),r.jsxs(Z,{variant:"secondary",size:"sm",onClick:()=>o("processes"),children:[r.jsx(rs,{className:"h-4 w-4 mr-1"}),"View Processes"]}),r.jsxs(Z,{variant:"secondary",size:"sm",onClick:()=>o("screenshots"),children:[r.jsx(ar,{className:"h-4 w-4 mr-1"}),"Capture Screenshot"]})]})]})]}),n==="terminal"&&r.jsx(iE,{sessionId:e.id,sessionName:e.name,os:e.os}),n==="files"&&r.jsx(oE,{sessionId:e.id,initialPath:e.os?.toLowerCase()==="windows"?"C:\\":"/"}),n==="processes"&&r.jsx(aE,{sessionId:e.id,sessionPid:e.pid}),n==="screenshots"&&r.jsx(lE,{sessionId:e.id,sessionName:e.name}),n==="pivots"&&r.jsx(cE,{sessionId:e.id,sessionName:e.name}),n==="notes"&&r.jsxs("div",{className:"p-6 overflow-auto h-full space-y-6",children:[r.jsx(G0,{sessionId:e.id,sessionType:"session"}),r.jsx(J0,{sessionId:e.id,sessionType:"session"})]})]})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Mt,{className:"h-16 w-16 mx-auto text-muted-foreground/30 mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"No Session Selected"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select a session from the list to interact with it"})]})})})]})]})}function Wr({icon:e,label:s,value:n}){return r.jsxs("div",{className:"p-4 border rounded-lg bg-background",children:[r.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[r.jsx(e,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:s})]}),r.jsx("p",{className:"font-medium truncate",title:n,children:n})]})}function Y3({beaconId:e,beaconName:s}){const[n,o]=R.useState(!1),[a,f]=R.useState("shell"),[y,l]=R.useState(""),[d,m]=R.useState(""),[v,h]=R.useState(new Set),w=Kt(),{toast:S}=Ve(),{data:k,isLoading:b,refetch:u}=Je({queryKey:["beacon-tasks",e],queryFn:()=>or.getTasks(e),enabled:!!e,refetchInterval:5e3}),x=Se({mutationFn:I=>or.queueShell(e,I),onSuccess:()=>{w.invalidateQueries({queryKey:["beacon-tasks",e]}),S({title:"Shell task queued"}),o(!1),l("")},onError:I=>{S({variant:"destructive",title:"Failed to queue task",description:I.response?.data?.detail||I.message})}}),p=Se({mutationFn:()=>or.queuePs(e),onSuccess:()=>{w.invalidateQueries({queryKey:["beacon-tasks",e]}),S({title:"Process list task queued"})},onError:I=>{S({variant:"destructive",title:"Failed to queue task",description:I.response?.data?.detail||I.message})}}),g=Se({mutationFn:()=>or.queueScreenshot(e),onSuccess:()=>{w.invalidateQueries({queryKey:["beacon-tasks",e]}),S({title:"Screenshot task queued"})},onError:I=>{S({variant:"destructive",title:"Failed to queue task",description:I.response?.data?.detail||I.message})}}),C=Se({mutationFn:I=>or.queueDownload(e,I),onSuccess:()=>{w.invalidateQueries({queryKey:["beacon-tasks",e]}),S({title:"Download task queued"}),o(!1),m("")},onError:I=>{S({variant:"destructive",title:"Failed to queue task",description:I.response?.data?.detail||I.message})}}),E=k?.tasks||[],P=I=>{const W=I?.toLowerCase()||"";return W.includes("shell")||W.includes("execute")?r.jsx(gs,{className:"h-4 w-4"}):W.includes("download")?r.jsx(qt,{className:"h-4 w-4"}):W.includes("screenshot")?r.jsx(ar,{className:"h-4 w-4"}):W.includes("ps")||W.includes("process")?r.jsx(rs,{className:"h-4 w-4"}):r.jsx(Zr,{className:"h-4 w-4"})},L=I=>{switch(I?.toLowerCase()){case"pending":return r.jsx(xt,{className:"h-4 w-4 text-yellow-500"});case"sent":return r.jsx(Te,{className:"h-4 w-4 text-blue-500 animate-spin"});case"completed":return r.jsx(zs,{className:"h-4 w-4 text-green-500"});case"failed":return r.jsx(es,{className:"h-4 w-4 text-red-500"});default:return r.jsx(xt,{className:"h-4 w-4 text-gray-500"})}},j=I=>{switch(I?.toLowerCase()){case"pending":return"bg-yellow-500/20 text-yellow-600";case"sent":return"bg-blue-500/20 text-blue-600";case"completed":return"bg-green-500/20 text-green-600";case"failed":return"bg-red-500/20 text-red-600";default:return"bg-gray-500/20 text-gray-600"}},A=I=>{h(W=>{const J=new Set(W);return J.has(I)?J.delete(I):J.add(I),J})},z=I=>{navigator.clipboard.writeText(I),S({title:"Copied to clipboard"})},$=()=>{switch(a){case"shell":y&&x.mutate(y);break;case"download":d&&C.mutate(d);break;case"ps":p.mutate();break;case"screenshot":g.mutate();break}},U=x.isPending||p.isPending||g.isPending||C.isPending;return r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center gap-2 p-3 border-b",children:[r.jsx("h3",{className:"font-medium",children:"Task Queue"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[E.length," task",E.length!==1?"s":""]}),r.jsx("div",{className:"flex-1"}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>u(),children:[r.jsx(vs,{className:"h-4 w-4 mr-1"}),"Refresh"]}),r.jsxs(Z,{size:"sm",onClick:()=>o(!n),children:[r.jsx(lr,{className:"h-4 w-4 mr-1"}),"New Task"]})]}),n&&r.jsxs("div",{className:"p-4 border-b bg-muted/30 space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs(Z,{size:"sm",variant:a==="shell"?"default":"outline",onClick:()=>f("shell"),children:[r.jsx(gs,{className:"h-4 w-4 mr-1"}),"Shell"]}),r.jsxs(Z,{size:"sm",variant:a==="ps"?"default":"outline",onClick:()=>f("ps"),children:[r.jsx(rs,{className:"h-4 w-4 mr-1"}),"Process List"]}),r.jsxs(Z,{size:"sm",variant:a==="screenshot"?"default":"outline",onClick:()=>f("screenshot"),children:[r.jsx(ar,{className:"h-4 w-4 mr-1"}),"Screenshot"]}),r.jsxs(Z,{size:"sm",variant:a==="download"?"default":"outline",onClick:()=>f("download"),children:[r.jsx(qt,{className:"h-4 w-4 mr-1"}),"Download File"]})]}),a==="shell"&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Command"}),r.jsx(Pe,{placeholder:"whoami",value:y,onChange:I=>l(I.target.value),className:"mt-1 font-mono",onKeyDown:I=>{I.key==="Enter"&&y&&$()}}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Command will execute on next beacon check-in"})]}),a==="download"&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Remote Path"}),r.jsx(Pe,{placeholder:"/etc/passwd or C:\\Windows\\System32\\config\\SAM",value:d,onChange:I=>m(I.target.value),className:"mt-1 font-mono",onKeyDown:I=>{I.key==="Enter"&&d&&$()}})]}),(a==="ps"||a==="screenshot")&&r.jsxs("p",{className:"text-sm text-muted-foreground",children:[a==="ps"?"List running processes on target":"Capture screenshot from target"," - Will execute on next check-in"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Z,{onClick:$,disabled:U||a==="shell"&&!y||a==="download"&&!d,children:[U?r.jsx(Te,{className:"h-4 w-4 mr-1 animate-spin"}):r.jsx(H2,{className:"h-4 w-4 mr-1"}),"Queue Task"]}),r.jsx(Z,{variant:"outline",onClick:()=>o(!1),children:"Cancel"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 p-2 border-b bg-muted/20",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:"Quick:"}),r.jsx(Z,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>x.mutate("whoami"),disabled:U,children:"whoami"}),r.jsx(Z,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>x.mutate("hostname"),disabled:U,children:"hostname"}),r.jsxs(Z,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>p.mutate(),disabled:U,children:[r.jsx(rs,{className:"h-3 w-3 mr-1"}),"ps"]}),r.jsxs(Z,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>g.mutate(),disabled:U,children:[r.jsx(ar,{className:"h-3 w-3 mr-1"}),"screenshot"]})]}),r.jsx("div",{className:"flex-1 overflow-auto",children:b?r.jsx("div",{className:"flex items-center justify-center h-32",children:r.jsx(Te,{className:"h-6 w-6 animate-spin"})}):E.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-muted-foreground",children:[r.jsx(xt,{className:"h-12 w-12 mb-2 opacity-30"}),r.jsx("p",{children:"No tasks queued"}),r.jsx("p",{className:"text-sm",children:"Tasks will execute on next beacon check-in"})]}):r.jsx("div",{className:"divide-y",children:E.map(I=>{const W=v.has(I.id);return r.jsxs("div",{className:"hover:bg-muted/30 transition-colors",children:[r.jsxs("div",{className:"p-3 cursor-pointer flex items-center gap-3",onClick:()=>A(I.id),children:[W?r.jsx(Oh,{className:"h-4 w-4 text-muted-foreground"}):r.jsx(nn,{className:"h-4 w-4 text-muted-foreground"}),P(I.description),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium text-sm",children:I.description||"Task"}),L(I.state),r.jsx("span",{className:ce("text-xs px-1.5 py-0.5 rounded",j(I.state)),children:I.state})]})}),r.jsx("span",{className:"text-xs text-muted-foreground",children:cr(I.created_at)})]}),W&&r.jsxs("div",{className:"px-3 pb-3 pl-10 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Task ID:"}),r.jsx("p",{className:"font-mono text-xs",children:I.id})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Created:"}),r.jsx("p",{className:"text-xs",children:new Date(I.created_at).toLocaleString()})]}),I.sent_at&&r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Sent:"}),r.jsx("p",{className:"text-xs",children:new Date(I.sent_at).toLocaleString()})]}),I.completed_at&&r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Completed:"}),r.jsx("p",{className:"text-xs",children:new Date(I.completed_at).toLocaleString()})]})]}),I.request&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Request"}),r.jsx(Z,{variant:"ghost",size:"sm",className:"h-6",onClick:J=>{J.stopPropagation(),z(JSON.stringify(I.request,null,2))},children:r.jsx(Xr,{className:"h-3 w-3"})})]}),r.jsx("pre",{className:"p-2 bg-black/50 rounded text-xs text-green-400 overflow-auto max-h-32",children:JSON.stringify(I.request,null,2)})]}),I.response&&r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Response"}),r.jsx(Z,{variant:"ghost",size:"sm",className:"h-6",onClick:J=>{J.stopPropagation(),z(typeof I.response=="string"?I.response:JSON.stringify(I.response,null,2))},children:r.jsx(Xr,{className:"h-3 w-3"})})]}),r.jsx("pre",{className:"p-2 bg-black/50 rounded text-xs text-green-400 overflow-auto max-h-48",children:typeof I.response=="string"?I.response:JSON.stringify(I.response,null,2)})]}),I.error&&r.jsxs("div",{className:"p-2 bg-red-500/10 rounded border border-red-500/20",children:[r.jsx("span",{className:"text-sm text-red-500 font-medium",children:"Error:"}),r.jsx("p",{className:"text-sm text-red-400 mt-1",children:I.error})]})]})]},I.id)})})}),r.jsxs("div",{className:"px-3 py-2 border-t text-xs text-muted-foreground bg-muted/30 flex items-center justify-between",children:[r.jsxs("span",{children:[E.filter(I=>I.state==="pending").length," pending,"," ",E.filter(I=>I.state==="completed").length," completed"]}),r.jsx("span",{children:"Auto-refresh: 5s"})]})]})}function X3(){const[e,s]=R.useState(null),[n,o]=R.useState("info"),a=Kt(),{toast:f}=Ve(),{data:y,isLoading:l,refetch:d}=Je({queryKey:["beacons"],queryFn:or.list,refetchInterval:1e4}),m=Se({mutationFn:k=>or.kill(k),onSuccess:()=>{a.invalidateQueries({queryKey:["beacons"]}),s(null),f({title:"Beacon killed"})},onError:k=>{f({variant:"destructive",title:"Failed to kill beacon",description:k.response?.data?.detail})}}),v=y?.beacons||[],h=[{id:"info",label:"Info",icon:qs},{id:"tasks",label:"Task Queue",icon:Kg},{id:"notes",label:"Notes",icon:Bh}],w=k=>{const b=k?.toLowerCase()||"";return b.includes("windows")?"":b.includes("linux")?"":b.includes("darwin")||b.includes("macos")?"":""},S=(k,b)=>{if(!k)return{status:"pending",color:"bg-yellow-500"};const u=new Date(k).getTime(),p=(Date.now()-u)/1e3;return p<b*1.5?{status:"active",color:"bg-green-500"}:p<b*3?{status:"delayed",color:"bg-yellow-500"}:{status:"missed",color:"bg-red-500"}};return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Beacons"}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>d(),children:[r.jsx(vs,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),r.jsxs("div",{className:"flex-1 flex gap-4 min-h-0",children:[r.jsxs("div",{className:"w-80 flex-shrink-0 flex flex-col border rounded-lg bg-card",children:[r.jsx("div",{className:"p-3 border-b",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(dr,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Active Beacons"}),r.jsx("span",{className:"ml-auto text-sm text-muted-foreground",children:v.length})]})}),r.jsx("div",{className:"flex-1 overflow-auto",children:l?r.jsx("div",{className:"p-4",children:r.jsx(ew,{items:3})}):v.length===0?r.jsx("div",{className:"p-4",children:r.jsx(G3,{})}):r.jsx("div",{className:"divide-y",children:v.map(k=>{const b=S(k.last_checkin,k.interval);return r.jsxs("button",{onClick:()=>{s(k),o("info")},className:ce("w-full text-left p-3 transition-colors hover:bg-muted/50",e?.id===k.id&&"bg-primary/10"),children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-lg",children:w(k.os)}),r.jsx("span",{className:"font-medium truncate flex-1",children:k.name}),r.jsx("div",{className:ce("h-2 w-2 rounded-full",b.color)})]}),r.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[k.username,"@",k.hostname]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[r.jsx(xt,{className:"h-3 w-3"}),r.jsxs("span",{children:[k.interval,"s interval  ",k.jitter,"% jitter"]})]}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Last: ",k.last_checkin?cr(k.last_checkin):"Pending first check-in"]})]},k.id)})})})]}),r.jsx("div",{className:"flex-1 flex flex-col min-w-0 border rounded-lg bg-card overflow-hidden",children:e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-4 p-4 border-b bg-muted/30",children:[r.jsx("div",{className:"text-3xl",children:w(e.os)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h2",{className:"text-xl font-semibold truncate",children:e.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.username,"@",e.hostname]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(xt,{className:"h-4 w-4"}),"Next check-in: ~",e.interval,"s"]}),r.jsxs(Z,{variant:"destructive",size:"sm",onClick:()=>m.mutate(e.id),disabled:m.isPending,children:[m.isPending?r.jsx(Te,{className:"h-4 w-4 mr-1 animate-spin"}):r.jsx(ht,{className:"h-4 w-4 mr-1"}),"Kill Beacon"]})]}),r.jsx("div",{className:"flex border-b",children:h.map(k=>r.jsxs("button",{onClick:()=>o(k.id),className:ce("flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 -mb-px",n===k.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:[r.jsx(k.icon,{className:"h-4 w-4"}),k.label]},k.id))}),r.jsxs("div",{className:"flex-1 overflow-hidden",children:[n==="info"&&r.jsxs("div",{className:"p-6 overflow-auto h-full",children:[r.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[r.jsx(ir,{icon:hr,label:"Username",value:e.username}),r.jsx(ir,{icon:Il,label:"Hostname",value:e.hostname}),r.jsx(ir,{icon:Tn,label:"Remote Address",value:e.remote_address||"N/A"}),r.jsx(ir,{icon:Mt,label:"Operating System",value:`${e.os} (${e.arch})`}),r.jsx(ir,{icon:qs,label:"Transport",value:e.transport||"N/A"}),r.jsx(ir,{icon:rs,label:"Process ID",value:e.pid?.toString()||"N/A"}),r.jsx(ir,{icon:xt,label:"Check-in Interval",value:`${e.interval}s (+${e.jitter}% jitter)`}),r.jsx(ir,{icon:xt,label:"Last Check-in",value:e.last_checkin?cr(e.last_checkin):"Pending"}),r.jsx(ir,{icon:xt,label:"Next Check-in",value:e.next_checkin?cr(e.next_checkin):`~${e.interval}s`})]}),r.jsxs("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Beacon ID"}),r.jsx("p",{className:"font-mono text-sm break-all",children:e.id})]}),r.jsxs("div",{className:"mt-6 p-4 border rounded-lg bg-blue-500/5 border-blue-500/20",children:[r.jsx("h3",{className:"font-medium text-blue-600 dark:text-blue-400 mb-2",children:"About Beacons"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Beacons are asynchronous implants that check in at specified intervals. Unlike interactive sessions, beacons queue tasks and execute them on the next check-in. Use the Task Queue tab to queue commands."})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h3",{className:"font-medium mb-3",children:"Quick Actions"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:r.jsxs(Z,{variant:"secondary",size:"sm",onClick:()=>o("tasks"),children:[r.jsx(Kg,{className:"h-4 w-4 mr-1"}),"View Task Queue"]})})]})]}),n==="tasks"&&r.jsx(Y3,{beaconId:e.id,beaconName:e.name}),n==="notes"&&r.jsxs("div",{className:"p-6 overflow-auto h-full space-y-6",children:[r.jsx(G0,{sessionId:e.id,sessionType:"beacon"}),r.jsx(J0,{sessionId:e.id,sessionType:"beacon"})]})]})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(dr,{className:"h-16 w-16 mx-auto text-muted-foreground/30 mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"No Beacon Selected"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select a beacon from the list to view details and queue tasks"})]})})})]})]})}function ir({icon:e,label:s,value:n}){return r.jsxs("div",{className:"p-4 border rounded-lg bg-background",children:[r.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[r.jsx(e,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:s})]}),r.jsx("p",{className:"font-medium truncate",title:n,children:n})]})}function qr({children:e,content:s,position:n="top",delay:o=300,className:a}){const[f,y]=R.useState(!1),l=R.useRef(null),d=()=>{l.current=setTimeout(()=>{y(!0)},o)},m=()=>{l.current&&clearTimeout(l.current),y(!1)};R.useEffect(()=>()=>{l.current&&clearTimeout(l.current)},[]);const v={top:"bottom-full left-1/2 -translate-x-1/2 mb-2",bottom:"top-full left-1/2 -translate-x-1/2 mt-2",left:"right-full top-1/2 -translate-y-1/2 mr-2",right:"left-full top-1/2 -translate-y-1/2 ml-2"},h={top:"top-full left-1/2 -translate-x-1/2 border-t-gray-900 dark:border-t-gray-100 border-x-transparent border-b-transparent",bottom:"bottom-full left-1/2 -translate-x-1/2 border-b-gray-900 dark:border-b-gray-100 border-x-transparent border-t-transparent",left:"left-full top-1/2 -translate-y-1/2 border-l-gray-900 dark:border-l-gray-100 border-y-transparent border-r-transparent",right:"right-full top-1/2 -translate-y-1/2 border-r-gray-900 dark:border-r-gray-100 border-y-transparent border-l-transparent"};return r.jsxs("div",{className:"relative inline-flex",onMouseEnter:d,onMouseLeave:m,onFocus:d,onBlur:m,children:[e,f&&s&&r.jsxs("div",{className:ce("absolute z-50 px-3 py-2 text-sm rounded-lg shadow-lg","bg-gray-900 text-white dark:bg-gray-100 dark:text-gray-900","whitespace-nowrap animate-in fade-in-0 zoom-in-95",v[n],a),role:"tooltip",children:[s,r.jsx("div",{className:ce("absolute border-4",h[n])})]})]})}const pi={session:"Direct real-time connection to the target. Commands execute immediately.",beacon:"Periodic connection (check-in). Commands are queued and execute on next check-in.",arch:"Architecture - CPU type: x64 (64-bit) or x86 (32-bit).",c2:"Command & Control - Server controlling the implants.",jitter:"Random variation in check-in timing to avoid detection patterns.",interval:"Time between beacon check-ins."},J3={implantType:"session",os:"windows",arch:"amd64",c2Host:"",c2Port:"8888",protocol:"mtls",format:"exe",name:"",interval:60,jitter:30};function Z3({onComplete:e,onCancel:s}){const[n,o]=R.useState("type"),[a,f]=R.useState(J3),{toast:y}=Ve(),l=Se({mutationFn:()=>{const S={name:a.name||`implant-${Date.now()}`,os:a.os,arch:a.arch,format:a.format,is_beacon:a.implantType==="beacon",c2_urls:[`${a.protocol}://${a.c2Host}:${a.c2Port}`]};return a.implantType==="beacon"&&(S.beacon_interval=a.interval,S.beacon_jitter=a.jitter),uh.generate(S)},onSuccess:S=>{y({title:"Implant generated successfully!"}),S.download_url&&(window.location.href=S.download_url),e()},onError:S=>{y({variant:"destructive",title:"Failed to generate implant",description:S.response?.data?.detail||S.message})}}),d=[{id:"type",label:"Implant Type"},{id:"os",label:"Operating System"},{id:"connection",label:"Connection"},{id:"options",label:"Options"},{id:"generate",label:"Generate"}],m=d.findIndex(S=>S.id===n),v=()=>{switch(n){case"type":return!0;case"os":return!0;case"connection":return a.c2Host.length>0&&a.c2Port.length>0;case"options":return!0;default:return!1}},h=()=>{const S=m+1;S<d.length&&o(d[S].id)},w=()=>{const S=m-1;S>=0&&o(d[S].id)};return r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:s}),r.jsxs("div",{className:"relative w-full max-w-2xl bg-card rounded-xl shadow-2xl border overflow-hidden animate-in zoom-in-95 fade-in duration-200",children:[r.jsx("div",{className:"flex border-b",children:d.map((S,k)=>r.jsxs("div",{className:ce("flex-1 flex items-center justify-center gap-2 py-3 text-sm font-medium",k<=m?"text-primary":"text-muted-foreground"),children:[r.jsx("div",{className:ce("w-6 h-6 rounded-full flex items-center justify-center text-xs",k<m?"bg-primary text-primary-foreground":k===m?"border-2 border-primary":"border-2 border-muted"),children:k<m?r.jsx(Ho,{className:"h-4 w-4"}):k+1}),r.jsx("span",{className:"hidden sm:inline",children:S.label})]},S.id))}),r.jsxs("div",{className:"p-6",children:[n==="type"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Choose Implant Type"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Session for real-time interaction, Beacon for stealth operations"})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("button",{onClick:()=>f({...a,implantType:"session"}),className:ce("p-6 rounded-xl border-2 text-left transition-all",a.implantType==="session"?"border-primary bg-primary/5":"border-muted hover:border-muted-foreground"),children:[r.jsx(Mt,{className:"h-10 w-10 text-green-500 mb-4"}),r.jsx("h3",{className:"text-lg font-bold",children:"Session"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Direct real-time connection. Commands execute immediately."}),r.jsxs("div",{className:"flex items-center gap-2 mt-4 text-xs",children:[r.jsx(Y2,{className:"h-4 w-4 text-yellow-500"}),r.jsx("span",{children:"Fast response"})]})]}),r.jsxs("button",{onClick:()=>f({...a,implantType:"beacon"}),className:ce("p-6 rounded-xl border-2 text-left transition-all",a.implantType==="beacon"?"border-primary bg-primary/5":"border-muted hover:border-muted-foreground"),children:[r.jsx(dr,{className:"h-10 w-10 text-blue-500 mb-4"}),r.jsx("h3",{className:"text-lg font-bold",children:"Beacon"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Periodic check-in. Less traffic, harder to detect."}),r.jsxs("div",{className:"flex items-center gap-2 mt-4 text-xs",children:[r.jsx(xt,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{children:"Stealth operations"})]})]})]})]}),n==="os"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Select Target Operating System"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"The implant will be compiled for this OS"})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:[{id:"windows",icon:"",name:"Windows"},{id:"linux",icon:"",name:"Linux"},{id:"darwin",icon:"",name:"macOS"}].map(S=>r.jsxs("button",{onClick:()=>f({...a,os:S.id}),className:ce("p-6 rounded-xl border-2 text-center transition-all",a.os===S.id?"border-primary bg-primary/5":"border-muted hover:border-muted-foreground"),children:[r.jsx("span",{className:"text-4xl",children:S.icon}),r.jsx("h3",{className:"font-bold mt-3",children:S.name})]},S.id))}),r.jsxs("div",{className:"mt-6",children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"CPU Architecture"}),r.jsx("div",{className:"flex gap-4",children:[{id:"amd64",name:"64-bit (x64)",desc:"Most common"},{id:"386",name:"32-bit (x86)",desc:"Older machines"}].map(S=>r.jsxs("button",{onClick:()=>f({...a,arch:S.id}),className:ce("flex-1 p-4 rounded-lg border-2 text-left transition-all",a.arch===S.id?"border-primary bg-primary/5":"border-muted hover:border-muted-foreground"),children:[r.jsx("span",{className:"font-medium",children:S.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:S.desc})]},S.id))})]})]}),n==="connection"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Configure Connection"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Enter your C2 server address and connection protocol"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Connection Protocol"}),r.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[{id:"mtls",name:"mTLS",desc:"High security, custom port",recommended:!0},{id:"https",name:"HTTPS",desc:"Web traffic disguise, port 443"},{id:"http",name:"HTTP",desc:"No encryption (testing only)"},{id:"dns",name:"DNS",desc:"Via DNS, very slow"}].map(S=>r.jsxs("button",{onClick:()=>f({...a,protocol:S.id}),className:ce("p-4 rounded-lg border-2 text-left transition-all",a.protocol===S.id?"border-primary bg-primary/5":"border-muted hover:border-muted-foreground"),children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:S.name}),S.recommended&&r.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-500/20 text-green-600 rounded",children:"Recommended"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:S.desc})]},S.id))})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"C2 Server Host/IP *"}),r.jsx(Pe,{placeholder:"192.168.1.100 or c2.example.com",value:a.c2Host,onChange:S=>f({...a,c2Host:S.target.value})}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Address the implant will connect to"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Port *"}),r.jsx(Pe,{placeholder:"8888",value:a.c2Port,onChange:S=>f({...a,c2Port:S.target.value})}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Port of your running listener"})]})]}),r.jsx("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(qs,{className:"h-5 w-5 text-blue-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-blue-600 dark:text-blue-400",children:"Important Note"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Host and port must match a running Listener. If you don't have one yet, create a Listener first on the Listeners page."})]})]})})]})]}),n==="options"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Additional Options"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure output format and other settings"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Implant Name (optional)"}),r.jsx(Pe,{placeholder:"my-implant",value:a.name,onChange:S=>f({...a,name:S.target.value})}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Leave empty to auto-generate"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Output Format"}),r.jsx("div",{className:"grid gap-3 md:grid-cols-3",children:[{id:"exe",name:"Executable",desc:".exe (Win) / ELF (Linux)"},{id:"shared",name:"Shared Library",desc:".dll / .so / .dylib"},{id:"shellcode",name:"Shellcode",desc:"Raw bytes"}].map(S=>r.jsxs("button",{onClick:()=>f({...a,format:S.id}),className:ce("p-4 rounded-lg border-2 text-left transition-all",a.format===S.id?"border-primary bg-primary/5":"border-muted hover:border-muted-foreground"),children:[r.jsx("span",{className:"font-medium",children:S.name}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:S.desc})]},S.id))})]}),a.implantType==="beacon"&&r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Interval (seconds)"}),r.jsx(Pe,{type:"number",value:a.interval,onChange:S=>f({...a,interval:parseInt(S.target.value)||60})}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Time between check-ins"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Jitter (%)"}),r.jsx(Pe,{type:"number",value:a.jitter,onChange:S=>f({...a,jitter:parseInt(S.target.value)||30})}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Random variation (0-100)"})]})]})]})]}),n==="generate"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Review and Generate"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Verify your configuration before generating"})]}),r.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[r.jsx(bn,{label:"Type",value:a.implantType==="session"?"Session":"Beacon"}),r.jsx(bn,{label:"Operating System",value:`${a.os} (${a.arch})`}),r.jsx(bn,{label:"Connection",value:`${a.protocol}://${a.c2Host}:${a.c2Port}`}),r.jsx(bn,{label:"Format",value:a.format}),a.name&&r.jsx(bn,{label:"Name",value:a.name}),a.implantType==="beacon"&&r.jsxs(r.Fragment,{children:[r.jsx(bn,{label:"Interval",value:`${a.interval}s`}),r.jsx(bn,{label:"Jitter",value:`${a.jitter}%`})]})]}),r.jsx(Z,{className:"w-full",size:"lg",onClick:()=>l.mutate(),disabled:l.isPending,children:l.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Te,{className:"h-5 w-5 mr-2 animate-spin"}),"Generating implant..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qt,{className:"h-5 w-5 mr-2"}),"Generate and Download Implant"]})})]})]}),r.jsxs("div",{className:"flex justify-between p-4 border-t bg-muted/30",children:[r.jsx(Z,{variant:"outline",onClick:m===0?s:w,children:m===0?"Cancel":r.jsxs(r.Fragment,{children:[r.jsx(Ih,{className:"h-4 w-4 mr-1"}),"Back"]})}),n!=="generate"&&r.jsxs(Z,{onClick:h,disabled:!v(),children:["Next",r.jsx(nn,{className:"h-4 w-4 ml-1"})]})]})]})]})}function bn({label:e,value:s}){return r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-muted-foreground",children:e}),r.jsx("span",{className:"font-medium",children:s})]})}function eD(){const{toast:e}=Ve(),[s,n]=R.useState(!1),[o,a]=R.useState(!1),[f,y]=R.useState(""),[l,d]=R.useState("windows"),[m,v]=R.useState("amd64"),[h,w]=R.useState("exe"),[S,k]=R.useState(!1),[b,u]=R.useState(60),[x,p]=R.useState(30),[g,C]=R.useState(!1),[E,P]=R.useState(!0),[L,j]=R.useState([{protocol:"mtls",host:"",port:443}]),[A,z]=R.useState(null),$=Se({mutationFn:()=>uh.generate({name:f,os:l,arch:m,format:h,c2:L.filter(V=>V.host),beacon:S,interval:b,jitter:x,debug:g,evasion:E}),onSuccess:V=>{z(V),e({title:"Implant generated successfully!"})},onError:V=>{e({variant:"destructive",title:"Failed to generate implant",description:V.response?.data?.detail})}}),U=()=>{j([...L,{protocol:"mtls",host:"",port:443}])},I=V=>{j(L.filter((G,D)=>D!==V))},W=(V,G,D)=>{const M=[...L];M[V]={...M[V],[G]:D},j(M)},J=async()=>{if(A)try{const V=await uh.download(A.download_url.split("/").pop()),G=window.URL.createObjectURL(V),D=document.createElement("a");D.href=G,D.download=A.filename,document.body.appendChild(D),D.click(),window.URL.revokeObjectURL(G),document.body.removeChild(D)}catch(V){e({variant:"destructive",title:"Download failed",description:V.message})}};return r.jsxs("div",{className:"space-y-6",children:[s&&r.jsx(Z3,{onComplete:()=>n(!1),onCancel:()=>n(!1)}),r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Implant Builder"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Generate implants to deploy on target machines"})]})}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsx("button",{onClick:()=>n(!0),className:"p-6 rounded-xl border-2 border-dashed border-primary/50 bg-primary/5 hover:bg-primary/10 transition-colors text-left group",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 rounded-xl bg-primary/20 group-hover:bg-primary/30 transition-colors",children:r.jsx(G2,{className:"h-8 w-8 text-primary"})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:["Quick Generate with Wizard",r.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-500/20 text-green-600 rounded-full",children:"Recommended"})]}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Step-by-step guide, ideal for beginners"})]})]})}),r.jsx("button",{onClick:()=>a(!o),className:ce("p-6 rounded-xl border-2 text-left transition-colors",o?"border-primary bg-primary/5":"border-muted hover:border-muted-foreground"),children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"p-3 rounded-xl bg-muted",children:r.jsx(Us,{className:"h-8 w-8"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold",children:"Advanced Form"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Full options for experienced users"})]})]})})]}),r.jsx("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Xx,{className:"h-5 w-5 text-blue-500 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-blue-600 dark:text-blue-400",children:"What is an Implant?"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"An implant is software installed on the target machine to create a reverse connection back to your server. Once the implant runs, you will have a Session or Beacon to interact with the target machine."})]})]})}),o&&r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(Oe,{children:[r.jsx(Fe,{children:r.jsxs(Be,{className:"flex items-center gap-2",children:[r.jsx(Us,{className:"h-5 w-5"}),"Implant Configuration"]})}),r.jsxs(Ie,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:["Implant Name",r.jsx(qr,{content:"Name to identify this implant. Leave empty to auto-generate.",children:r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"})})]}),r.jsx(Pe,{placeholder:"my-implant",value:f,onChange:V=>y(V.target.value),className:"mt-1"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:["Target Operating System",r.jsx(qr,{content:"Select the OS where the implant will run",children:r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"})})]}),r.jsx("div",{className:"flex gap-2 mt-1",children:[{id:"windows",icon:"",name:"Windows"},{id:"linux",icon:"",name:"Linux"},{id:"darwin",icon:"",name:"macOS"}].map(V=>r.jsxs(Z,{size:"sm",variant:l===V.id?"default":"outline",onClick:()=>d(V.id),children:[r.jsx("span",{className:"mr-1",children:V.icon}),V.name]},V.id))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:["CPU Architecture",r.jsx(qr,{content:pi.arch,children:r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"})})]}),r.jsx("div",{className:"flex gap-2 mt-1",children:[{id:"amd64",name:"64-bit"},{id:"386",name:"32-bit"}].map(V=>r.jsx(Z,{size:"sm",variant:m===V.id?"default":"outline",onClick:()=>v(V.id),children:V.name},V.id))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:["Output Format",r.jsx(qr,{content:"exe/ELF: Executable file. dll/so: Shared library. shellcode: Raw bytes",children:r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"})})]}),r.jsx("div",{className:"flex gap-2 mt-1",children:[{id:"exe",name:"Executable"},{id:"shared",name:"Shared Lib"},{id:"shellcode",name:"Shellcode"}].map(V=>r.jsx(Z,{size:"sm",variant:h===V.id?"default":"outline",onClick:()=>w(V.id),children:V.name},V.id))})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:["Connection Type",r.jsx(qr,{content:`Session: ${pi.session} | Beacon: ${pi.beacon}`,children:r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"})})]}),r.jsxs("div",{className:"flex gap-2 mt-1",children:[r.jsx(Z,{size:"sm",variant:S?"outline":"default",onClick:()=>k(!1),children:"Session (real-time)"}),r.jsx(Z,{size:"sm",variant:S?"default":"outline",onClick:()=>k(!0),children:"Beacon (periodic)"})]})]}),S&&r.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 rounded-lg bg-muted/50",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:["Interval",r.jsx(qr,{content:pi.interval,children:r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"})})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Pe,{type:"number",value:b,onChange:V=>u(parseInt(V.target.value))}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"sec"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:["Jitter",r.jsx(qr,{content:pi.jitter,children:r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"})})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx(Pe,{type:"number",value:x,onChange:V=>p(parseInt(V.target.value))}),r.jsx("span",{className:"text-sm text-muted-foreground",children:"%"})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:["C2 Configuration",r.jsx(qr,{content:pi.c2,children:r.jsx(Zt,{className:"h-4 w-4 text-muted-foreground"})})]}),r.jsxs(Z,{size:"sm",variant:"outline",onClick:U,children:[r.jsx(lr,{className:"h-4 w-4 mr-1"}),"Add"]})]}),L.map((V,G)=>r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsxs("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-2 text-sm",value:V.protocol,onChange:D=>W(G,"protocol",D.target.value),children:[r.jsx("option",{value:"mtls",children:"mTLS"}),r.jsx("option",{value:"https",children:"HTTPS"}),r.jsx("option",{value:"http",children:"HTTP"}),r.jsx("option",{value:"dns",children:"DNS"})]}),r.jsx(Pe,{placeholder:"host/IP",value:V.host,onChange:D=>W(G,"host",D.target.value)}),r.jsx(Pe,{type:"number",placeholder:"port",className:"w-24",value:V.port,onChange:D=>W(G,"port",parseInt(D.target.value))}),L.length>1&&r.jsx(Z,{size:"icon",variant:"ghost",onClick:()=>I(G),children:r.jsx(ht,{className:"h-4 w-4"})})]},G)),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Host and port must match a running Listener"})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:E,onChange:V=>P(V.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm",children:"Evasion (AV bypass)"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:g,onChange:V=>C(V.target.checked),className:"rounded"}),r.jsx("span",{className:"text-sm",children:"Debug mode"})]})]}),r.jsx(Z,{className:"w-full",size:"lg",onClick:()=>$.mutate(),disabled:$.isPending||!L[0]?.host,children:$.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating implant..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Us,{className:"mr-2 h-4 w-4"}),"Generate Implant"]})})]})]}),r.jsxs(Oe,{children:[r.jsx(Fe,{children:r.jsx(Be,{children:"Generated Implant"})}),r.jsx(Ie,{children:A?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 rounded-lg bg-muted",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Filename:"}),r.jsx("p",{className:"font-medium",children:A.filename})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Size:"}),r.jsx("p",{className:"font-medium",children:cy(A.size)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"OS/Arch:"}),r.jsxs("p",{className:"font-medium",children:[A.os,"/",A.arch]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-muted-foreground",children:"Format:"}),r.jsx("p",{className:"font-medium",children:A.format})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("span",{className:"text-muted-foreground text-sm",children:"MD5:"}),r.jsx("p",{className:"font-mono text-xs break-all",children:A.md5})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("span",{className:"text-muted-foreground text-sm",children:"SHA256:"}),r.jsx("p",{className:"font-mono text-xs break-all",children:A.sha256})]})]}),r.jsxs(Z,{className:"w-full",size:"lg",onClick:J,children:[r.jsx(qt,{className:"mr-2 h-4 w-4"}),"Download Implant"]}),r.jsxs("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/20",children:[r.jsx("h4",{className:"font-medium text-green-600 dark:text-green-400 mb-2",children:"Next Steps"}),r.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[r.jsx("li",{children:"Download the implant file to your machine"}),r.jsx("li",{children:"Transfer the file to the target machine"}),r.jsx("li",{children:"Execute the file on the target machine"}),r.jsx("li",{children:"Check Sessions or Beacons to see the new connection"})]})]})]}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Us,{className:"h-16 w-16 mx-auto text-muted-foreground/30 mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Configure and generate an implant to see details here"})]})})]})]})]})}function tD(){const[e,s]=R.useState(!1),[n,o]=R.useState("mtls"),[a,f]=R.useState("0.0.0.0"),[y,l]=R.useState(443),[d,m]=R.useState(""),v=Kt(),{toast:h}=Ve(),{data:w,isLoading:S,refetch:k}=Je({queryKey:["listeners"],queryFn:gi.list,refetchInterval:3e4}),b=Se({mutationFn:()=>gi.startMtls(a,y),onSuccess:()=>{v.invalidateQueries({queryKey:["listeners"]}),h({title:"mTLS listener started"}),s(!1)},onError:P=>{h({variant:"destructive",title:"Failed to start listener",description:P.response?.data?.detail})}}),u=Se({mutationFn:()=>gi.startHttps({host:a,port:y,domain:d,letsencrypt:!1}),onSuccess:()=>{v.invalidateQueries({queryKey:["listeners"]}),h({title:"HTTPS listener started"}),s(!1)},onError:P=>{h({variant:"destructive",title:"Failed to start listener",description:P.response?.data?.detail})}}),x=Se({mutationFn:()=>gi.startHttp({host:a,port:y,domain:d}),onSuccess:()=>{v.invalidateQueries({queryKey:["listeners"]}),h({title:"HTTP listener started"}),s(!1)},onError:P=>{h({variant:"destructive",title:"Failed to start listener",description:P.response?.data?.detail})}}),p=Se({mutationFn:P=>gi.stop(P),onSuccess:()=>{v.invalidateQueries({queryKey:["listeners"]}),h({title:"Listener stopped"})},onError:P=>{h({variant:"destructive",title:"Failed to stop listener",description:P.response?.data?.detail})}}),g=w?.listeners||[],C=()=>{switch(n){case"mtls":b.mutate();break;case"https":u.mutate();break;case"http":x.mutate();break}},E=b.isPending||u.isPending||x.isPending;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Listeners"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>k(),children:[r.jsx(vs,{className:"h-4 w-4 mr-2"}),"Refresh"]}),r.jsxs(Z,{size:"sm",onClick:()=>s(!e),children:[r.jsx(lr,{className:"h-4 w-4 mr-2"}),"New Listener"]})]})]}),e&&r.jsxs(Oe,{children:[r.jsx(Fe,{children:r.jsx(Be,{children:"Start New Listener"})}),r.jsxs(Ie,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Protocol"}),r.jsx("div",{className:"flex gap-2 mt-1",children:["mtls","https","http","dns"].map(P=>r.jsx(Z,{size:"sm",variant:n===P?"default":"outline",onClick:()=>{o(P),P==="mtls"?l(8888):P==="https"?l(443):P==="http"?l(80):P==="dns"&&l(53)},children:P.toUpperCase()},P))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Host"}),r.jsx(Pe,{value:a,onChange:P=>f(P.target.value),placeholder:"0.0.0.0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Port"}),r.jsx(Pe,{type:"number",value:y,onChange:P=>l(parseInt(P.target.value))})]})]}),(n==="https"||n==="http")&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Domain (optional)"}),r.jsx(Pe,{value:d,onChange:P=>m(P.target.value),placeholder:"example.com"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Z,{onClick:C,disabled:E,children:E?r.jsxs(r.Fragment,{children:[r.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Starting..."]}):"Start Listener"}),r.jsx(Z,{variant:"outline",onClick:()=>s(!1),children:"Cancel"})]})]})]}),r.jsxs(Oe,{children:[r.jsx(Fe,{children:r.jsxs(Be,{className:"flex items-center gap-2",children:[r.jsx(Jr,{className:"h-5 w-5"}),"Active Listeners (",g.length,")"]})}),r.jsx(Ie,{children:S?r.jsx("p",{className:"text-muted-foreground",children:"Loading..."}):g.length===0?r.jsx("p",{className:"text-muted-foreground",children:"No active listeners"}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:g.map(P=>r.jsxs("div",{className:"p-4 rounded-lg border bg-card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),r.jsx("span",{className:"font-medium uppercase",children:P.protocol})]}),r.jsx(Z,{size:"sm",variant:"ghost",onClick:()=>p.mutate(P.id),disabled:p.isPending,children:r.jsx(ht,{className:"h-4 w-4 text-destructive"})})]}),P.domain?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-lg font-semibold text-primary",children:P.domain}),r.jsxs("p",{className:"text-sm font-mono text-muted-foreground",children:[P.host||"0.0.0.0",":",P.port]})]}):r.jsxs("p",{className:"text-lg font-mono",children:[P.host||"0.0.0.0",":",P.port]}),r.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["ID: ",P.id]})]},P.id))})})]})]})}const sD={sharpersist:{short:"Persistence toolkit",long:"Install persistence mechanisms (Registry, Scheduled Tasks, Startup folder) to maintain access after reboot."},nanodump:{short:"Credential dumper",long:"Dump LSASS memory to extract credentials without triggering traditional detection methods."},rubeus:{short:"Kerberos attacks",long:"Perform Kerberos attacks including Kerberoasting, AS-REP roasting, ticket manipulation, and delegation abuse."},seatbelt:{short:"Host enumeration",long:"Comprehensive host reconnaissance - gather system info, installed software, security products, and misconfigurations."},sharphound:{short:"AD collector",long:"Collect Active Directory data for BloodHound - map attack paths, permissions, and relationships."},certify:{short:"ADCS attacks",long:"Enumerate and exploit Active Directory Certificate Services (ADCS) misconfigurations."},sharpwmi:{short:"WMI execution",long:"Execute commands remotely via Windows Management Instrumentation (WMI)."},sharpview:{short:"AD enumeration",long:"PowerView functionality in C# - enumerate AD users, groups, computers, GPOs, and ACLs."}};function rD({pkg:e,onInstall:s,onUninstall:n,isInstalling:o,isUninstalling:a}){const f=sD[e.name.toLowerCase()];return r.jsxs(Oe,{className:ce("transition-colors",e.installed&&"border-green-500/50 bg-green-500/5"),children:[r.jsxs(Fe,{className:"pb-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Us,{className:"h-5 w-5"}),r.jsx(Be,{className:"text-lg",children:e.name}),f&&r.jsx("span",{className:"text-xs px-2 py-0.5 bg-muted rounded-full text-muted-foreground",children:f.short})]}),e.installed?r.jsxs("div",{className:"flex items-center gap-1 text-green-500 text-sm",children:[r.jsx(zs,{className:"h-4 w-4"}),r.jsx("span",{children:"Installed"})]}):r.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground text-sm",children:[r.jsx(es,{className:"h-4 w-4"}),r.jsx("span",{children:"Not installed"})]})]}),f&&r.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:f.long}),r.jsxs(fs,{className:"mt-2 text-xs",children:["Command: ",r.jsx("code",{className:"px-1 py-0.5 bg-muted rounded",children:e.command_name}),"  ","v",e.version]})]}),r.jsx(Ie,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[e.repo_url&&r.jsxs("a",{href:e.repo_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[r.jsx(Ol,{className:"h-3 w-3"}),"Documentation"]}),r.jsx("div",{className:"flex gap-2 ml-auto",children:e.installed?r.jsxs(Z,{variant:"destructive",size:"sm",onClick:()=>n(e.name),disabled:a,children:[a?r.jsx(Te,{className:"h-4 w-4 animate-spin mr-1"}):r.jsx(ht,{className:"h-4 w-4 mr-1"}),"Uninstall"]}):r.jsxs(Z,{variant:"default",size:"sm",onClick:()=>s(e.name),disabled:o,children:[o?r.jsx(Te,{className:"h-4 w-4 animate-spin mr-1"}):r.jsx(qt,{className:"h-4 w-4 mr-1"}),"Install"]})})]})})]})}function nD(){const{toast:e}=Ve(),s=Kt(),[n,o]=R.useState(""),[a,f]=R.useState(!1),[y,l]=R.useState(null),{data:d,isLoading:m,refetch:v}=Je({queryKey:["armory",a,n],queryFn:()=>jd.list(a,n||void 0)}),h=Se({mutationFn:u=>jd.install(u),onMutate:u=>l(`install-${u}`),onSuccess:u=>{e({title:"Package Installed",description:u.message}),s.invalidateQueries({queryKey:["armory"]})},onError:u=>{e({title:"Installation Failed",description:u.message,variant:"destructive"})},onSettled:()=>l(null)}),w=Se({mutationFn:u=>jd.uninstall(u),onMutate:u=>l(`uninstall-${u}`),onSuccess:u=>{e({title:"Package Uninstalled",description:u.message}),s.invalidateQueries({queryKey:["armory"]})},onError:u=>{e({title:"Uninstallation Failed",description:u.message,variant:"destructive"})},onSettled:()=>l(null)}),S=d?.packages||[],k=d?.installed_count||0,b=d?.total||0;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Tools & Extensions"}),r.jsx("p",{className:"text-muted-foreground",children:"Install and manage post-exploitation tools for your operations"})]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>v(),children:[r.jsx(vs,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[r.jsxs(Oe,{children:[r.jsx(Fe,{className:"pb-2",children:r.jsx(Be,{className:"text-sm font-medium",children:"Total Packages"})}),r.jsx(Ie,{children:r.jsx("div",{className:"text-2xl font-bold",children:b})})]}),r.jsxs(Oe,{children:[r.jsx(Fe,{className:"pb-2",children:r.jsx(Be,{className:"text-sm font-medium",children:"Installed"})}),r.jsx(Ie,{children:r.jsx("div",{className:"text-2xl font-bold text-green-500",children:k})})]}),r.jsxs(Oe,{children:[r.jsx(Fe,{className:"pb-2",children:r.jsx(Be,{className:"text-sm font-medium",children:"Available"})}),r.jsx(Ie,{children:r.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:b-k})})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(On,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Pe,{placeholder:"Search packages...",value:n,onChange:u=>o(u.target.value),className:"pl-10"})]}),r.jsx(Z,{variant:a?"default":"outline",size:"sm",onClick:()=>f(!a),children:a?"Show All":"Installed Only"})]}),r.jsxs(Oe,{className:"border-blue-500/50 bg-blue-500/5",children:[r.jsxs(Fe,{children:[r.jsxs(Be,{className:"flex items-center gap-2",children:[r.jsx(Us,{className:"h-5 w-5 text-blue-500"}),"OSEP Recommended Extensions"]}),r.jsx(fs,{children:"Essential tools for OSEP exam. Install these before the exam."})]}),r.jsx(Ie,{children:r.jsx("div",{className:"flex flex-wrap gap-2",children:["sharpersist","nanodump","rubeus","seatbelt","sharphound","certify"].map(u=>{const p=S.find(g=>g.name===u)?.installed||!1;return r.jsxs("div",{className:ce("px-3 py-1 rounded-full text-sm flex items-center gap-1",p?"bg-green-500/20 text-green-500":"bg-muted text-muted-foreground"),children:[p?r.jsx(zs,{className:"h-3 w-3"}):r.jsx(es,{className:"h-3 w-3"}),u]},u)})})})]}),m?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(Te,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):S.length===0?r.jsx(Oe,{children:r.jsxs(Ie,{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(Us,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No packages found"})]})}):r.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:S.map(u=>r.jsx(rD,{pkg:u,onInstall:x=>h.mutate(x),onUninstall:x=>w.mutate(x),isInstalling:y===`install-${u.name}`,isUninstalling:y===`uninstall-${u.name}`},u.name))})]})}function iD(e){return e<60?`${e}m`:e<1440?`${Math.floor(e/60)}h ${e%60}m`:`${Math.floor(e/1440)}d ${Math.floor(e%1440/60)}h`}function oD(){const{toast:e}=Ve(),s=Kt(),[n,o]=R.useState([]),[a,f]=R.useState([]),[y,l]=R.useState(null),[d,m]=R.useState(""),{data:v,isLoading:h,refetch:w}=Je({queryKey:["cleanup-status"],queryFn:()=>Sn.getStatus(),refetchInterval:3e4}),S=v||{stale_sessions:[],dead_beacons:[],total_sessions:0,total_beacons:0,total_jobs:0},k=Se({mutationFn:j=>Sn.bulkKillSessions(j),onSuccess:j=>{e({title:"Sessions Removed",description:`Removed ${j.success.length} sessions. ${j.failed.length} failed.`}),o([]),s.invalidateQueries({queryKey:["cleanup-status"]}),s.invalidateQueries({queryKey:["sessions"]})},onError:j=>{e({title:"Operation Failed",description:j.message,variant:"destructive"})}}),b=Se({mutationFn:j=>Sn.bulkKillBeacons(j),onSuccess:j=>{e({title:"Beacons Removed",description:`Removed ${j.success.length} beacons. ${j.failed.length} failed.`}),f([]),s.invalidateQueries({queryKey:["cleanup-status"]}),s.invalidateQueries({queryKey:["beacons"]})},onError:j=>{e({title:"Operation Failed",description:j.message,variant:"destructive"})}}),u=Se({mutationFn:()=>Sn.killAllSessions(),onSuccess:j=>{e({title:"All Sessions Removed",description:`Successfully removed ${j.success.length} sessions.`}),l(null),s.invalidateQueries({queryKey:["cleanup-status"]}),s.invalidateQueries({queryKey:["sessions"]})},onError:j=>{e({title:"Operation Failed",description:j.message,variant:"destructive"})}}),x=Se({mutationFn:()=>Sn.killAllBeacons(),onSuccess:j=>{e({title:"All Beacons Removed",description:`Successfully removed ${j.success.length} beacons.`}),l(null),s.invalidateQueries({queryKey:["cleanup-status"]}),s.invalidateQueries({queryKey:["beacons"]})},onError:j=>{e({title:"Operation Failed",description:j.message,variant:"destructive"})}}),p=Se({mutationFn:()=>Sn.killEverything(),onSuccess:j=>{e({title:"Cleanup Complete",description:`Sessions: ${j.sessions_killed}, Beacons: ${j.beacons_killed}, Listeners: ${j.jobs_killed} removed.`}),l(null),s.invalidateQueries()},onError:j=>{e({title:"Operation Failed",description:j.message,variant:"destructive"})}}),g=j=>{o(A=>A.includes(j)?A.filter(z=>z!==j):[...A,j])},C=j=>{f(A=>A.includes(j)?A.filter(z=>z!==j):[...A,j])},E=()=>{o(S.stale_sessions.map(j=>j.id))},P=()=>{f(S.dead_beacons.map(j=>j.id))},L=k.isPending||b.isPending||u.isPending||x.isPending||p.isPending;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Cleanup Manager"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage inactive connections and clean up your infrastructure"})]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>w(),disabled:h,children:[r.jsx(vs,{className:ce("h-4 w-4 mr-2",h&&"animate-spin")}),"Refresh"]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[r.jsxs(Oe,{children:[r.jsx(Fe,{className:"pb-2",children:r.jsxs(Be,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(Mt,{className:"h-4 w-4"}),"Sessions"]})}),r.jsxs(Ie,{children:[r.jsx("div",{className:"text-2xl font-bold",children:S.total_sessions}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Live connections"})]})]}),r.jsxs(Oe,{children:[r.jsx(Fe,{className:"pb-2",children:r.jsxs(Be,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(dr,{className:"h-4 w-4"}),"Beacons"]})}),r.jsxs(Ie,{children:[r.jsx("div",{className:"text-2xl font-bold",children:S.total_beacons}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled callbacks"})]})]}),r.jsxs(Oe,{children:[r.jsx(Fe,{className:"pb-2",children:r.jsxs(Be,{className:"text-sm font-medium flex items-center gap-2",children:[r.jsx(Jr,{className:"h-4 w-4"}),"Listeners"]})}),r.jsxs(Ie,{children:[r.jsx("div",{className:"text-2xl font-bold",children:S.total_jobs}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Waiting for connections"})]})]}),r.jsxs(Oe,{className:S.stale_sessions.length>0?"border-yellow-500/50":"",children:[r.jsx(Fe,{className:"pb-2",children:r.jsxs(Be,{className:"text-sm font-medium flex items-center gap-2 text-yellow-500",title:"Sessions that haven't responded in 24+ hours",children:[r.jsx(xt,{className:"h-4 w-4"}),"Inactive",r.jsx(Zt,{className:"h-3 w-3 opacity-50"})]})}),r.jsxs(Ie,{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:S.stale_sessions.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"No response > 24h"})]})]}),r.jsxs(Oe,{className:S.dead_beacons.length>0?"border-red-500/50":"",children:[r.jsx(Fe,{className:"pb-2",children:r.jsxs(Be,{className:"text-sm font-medium flex items-center gap-2 text-red-500",title:"Beacons that missed 10+ scheduled check-ins",children:[r.jsx(Nn,{className:"h-4 w-4"}),"Unresponsive",r.jsx(Zt,{className:"h-3 w-3 opacity-50"})]})}),r.jsxs(Ie,{children:[r.jsx("div",{className:"text-2xl font-bold text-red-500",children:S.dead_beacons.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Missed > 10 check-ins"})]})]})]}),r.jsxs(Oe,{className:"border-red-500/50",children:[r.jsxs(Fe,{children:[r.jsxs(Be,{className:"flex items-center gap-2 text-red-500",children:[r.jsx(No,{className:"h-5 w-5"}),"Danger Zone"]}),r.jsxs(fs,{children:["Bulk cleanup operations. ",r.jsx("span",{className:"text-red-500 font-medium",children:"These actions cannot be undone."})]})]}),r.jsxs(Ie,{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap gap-4",children:[y==="sessions"?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Remove all sessions?"}),r.jsxs(Z,{variant:"destructive",size:"sm",onClick:()=>u.mutate(),disabled:L,children:[u.isPending?r.jsx(Te,{className:"h-4 w-4 animate-spin mr-1"}):null,"Confirm"]}),r.jsx(Z,{variant:"outline",size:"sm",onClick:()=>l(null),children:"Cancel"})]}):r.jsxs(Z,{variant:"outline",className:"border-red-500/50 text-red-500 hover:bg-red-500/10",onClick:()=>l("sessions"),disabled:L||S.total_sessions===0,children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Remove All Sessions (",S.total_sessions,")"]}),y==="beacons"?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Remove all beacons?"}),r.jsxs(Z,{variant:"destructive",size:"sm",onClick:()=>x.mutate(),disabled:L,children:[x.isPending?r.jsx(Te,{className:"h-4 w-4 animate-spin mr-1"}):null,"Confirm"]}),r.jsx(Z,{variant:"outline",size:"sm",onClick:()=>l(null),children:"Cancel"})]}):r.jsxs(Z,{variant:"outline",className:"border-red-500/50 text-red-500 hover:bg-red-500/10",onClick:()=>l("beacons"),disabled:L||S.total_beacons===0,children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Remove All Beacons (",S.total_beacons,")"]})]}),r.jsx("div",{className:"pt-4 border-t border-red-500/20",children:y==="everything"?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[r.jsx(Nn,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"This will remove ALL sessions, beacons, and listeners!"})]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Type ",r.jsx("code",{className:"px-1 py-0.5 bg-red-500/10 rounded text-red-500",children:"CONFIRM"})," to proceed:"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pe,{placeholder:"Type CONFIRM",value:d,onChange:j=>m(j.target.value),className:"w-40 border-red-500/50"}),r.jsxs(Z,{variant:"destructive",onClick:()=>{p.mutate(),m("")},disabled:L||d!=="CONFIRM",children:[p.isPending?r.jsx(Te,{className:"h-4 w-4 animate-spin mr-1"}):r.jsx(No,{className:"h-4 w-4 mr-1"}),"Remove Everything"]}),r.jsx(Z,{variant:"outline",onClick:()=>{l(null),m("")},children:"Cancel"})]})]}):r.jsxs(Z,{variant:"destructive",onClick:()=>l("everything"),disabled:L,children:[r.jsx(No,{className:"h-4 w-4 mr-2"}),"Remove Everything"]})})]})]}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[r.jsxs(Oe,{children:[r.jsx(Fe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Be,{className:"flex items-center gap-2",children:[r.jsx(xt,{className:"h-5 w-5 text-yellow-500"}),"Inactive Sessions"]}),r.jsx(fs,{children:"Sessions with no response for 24+ hours"})]}),r.jsx("div",{className:"flex gap-2",children:S.stale_sessions.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(Z,{variant:"outline",size:"sm",onClick:E,children:"Select All"}),r.jsxs(Z,{variant:"destructive",size:"sm",onClick:()=>k.mutate(n),disabled:n.length===0||L,children:[k.isPending?r.jsx(Te,{className:"h-4 w-4 animate-spin mr-1"}):r.jsx(ht,{className:"h-4 w-4 mr-1"}),"Remove (",n.length,")"]})]})})]})}),r.jsx(Ie,{children:S.stale_sessions.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[r.jsx(zs,{className:"h-12 w-12 mb-2 text-green-500"}),r.jsx("p",{children:"No stale sessions"})]}):r.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:S.stale_sessions.map(j=>r.jsx("div",{className:ce("p-3 rounded-lg border cursor-pointer transition-colors",n.includes(j.id)?"border-primary bg-primary/5":"hover:bg-muted/50"),onClick:()=>g(j.id),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:j.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.username,"@",j.hostname]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm",children:j.os}),r.jsxs("p",{className:"text-xs text-yellow-500",children:["Stale: ",iD(j.stale_minutes)]})]})]})},j.id))})})]}),r.jsxs(Oe,{children:[r.jsx(Fe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs(Be,{className:"flex items-center gap-2",children:[r.jsx(Nn,{className:"h-5 w-5 text-red-500"}),"Unresponsive Beacons"]}),r.jsx(fs,{children:"Beacons that missed 10+ scheduled check-ins"})]}),r.jsx("div",{className:"flex gap-2",children:S.dead_beacons.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(Z,{variant:"outline",size:"sm",onClick:P,children:"Select All"}),r.jsxs(Z,{variant:"destructive",size:"sm",onClick:()=>b.mutate(a),disabled:a.length===0||L,children:[b.isPending?r.jsx(Te,{className:"h-4 w-4 animate-spin mr-1"}):r.jsx(ht,{className:"h-4 w-4 mr-1"}),"Remove (",a.length,")"]})]})})]})}),r.jsx(Ie,{children:S.dead_beacons.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[r.jsx(zs,{className:"h-12 w-12 mb-2 text-green-500"}),r.jsx("p",{children:"No dead beacons"})]}):r.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:S.dead_beacons.map(j=>r.jsx("div",{className:ce("p-3 rounded-lg border cursor-pointer transition-colors",a.includes(j.id)?"border-primary bg-primary/5":"hover:bg-muted/50"),onClick:()=>C(j.id),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:j.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.username,"@",j.hostname]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm",children:j.os}),r.jsxs("p",{className:"text-xs text-red-500",children:["Missed: ",j.missed_checkins," check-ins"]})]})]})},j.id))})})]})]}),r.jsxs(Oe,{children:[r.jsxs(Fe,{children:[r.jsx(Be,{children:"Cleanup Checklist"}),r.jsx(fs,{children:"Recommended cleanup steps before ending an engagement"})]}),r.jsx(Ie,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:"Target Cleanup"}),r.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(es,{className:"h-4 w-4"}),"Remove persistence mechanisms"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(es,{className:"h-4 w-4"}),"Delete dropped executables"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(es,{className:"h-4 w-4"}),"Delete credential dumps"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(es,{className:"h-4 w-4"}),"Clear event logs (if authorized)"]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("h4",{className:"font-medium",children:"Sliver Cleanup"}),r.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[S.dead_beacons.length===0?r.jsx(zs,{className:"h-4 w-4 text-green-500"}):r.jsx(es,{className:"h-4 w-4"}),"Kill dead beacons"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[S.stale_sessions.length===0?r.jsx(zs,{className:"h-4 w-4 text-green-500"}):r.jsx(es,{className:"h-4 w-4"}),"Kill stale sessions"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(es,{className:"h-4 w-4"}),"Export session notes"]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(es,{className:"h-4 w-4"}),"Archive audit logs"]})]})]})]})})]})]})}function aD(){const{user:e}=ms();return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h1",{className:"text-3xl font-bold",children:"Settings"})}),r.jsxs(Oe,{children:[r.jsx(Fe,{children:r.jsxs(Be,{className:"flex items-center gap-2",children:[r.jsx(hr,{className:"h-5 w-5"}),"User Information"]})}),r.jsx(Ie,{children:r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Username"}),r.jsx("p",{className:"font-medium",children:e?.username})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Role"}),r.jsx("p",{className:"font-medium capitalize",children:e?.role})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Email"}),r.jsx("p",{className:"font-medium",children:e?.email||"Not set"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"User ID"}),r.jsx("p",{className:"font-medium",children:e?.id})]})]})})]}),r.jsxs(Oe,{children:[r.jsxs(Fe,{children:[r.jsxs(Be,{className:"flex items-center gap-2",children:[r.jsx(Ns,{className:"h-5 w-5"}),"Permissions"]}),r.jsx(fs,{children:"Your current access permissions"})]}),r.jsx(Ie,{children:e?.permissions&&e.permissions.length>0?r.jsx("div",{className:"flex flex-wrap gap-2",children:e.permissions.map(s=>r.jsx("span",{className:"px-2 py-1 rounded-md bg-muted text-sm font-mono",children:s},s))}):r.jsx("p",{className:"text-muted-foreground",children:e?.role==="admin"?"Full access (admin)":"No specific permissions"})})]}),r.jsxs(Oe,{children:[r.jsx(Fe,{children:r.jsxs(Be,{className:"flex items-center gap-2",children:[r.jsx(qs,{className:"h-5 w-5"}),"About SliverUI"]})}),r.jsxs(Ie,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Version"}),r.jsx("p",{className:"font-medium",children:"1.0.0"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Description"}),r.jsx("p",{className:"text-muted-foreground",children:"SliverUI is a web-based graphical user interface for the Sliver C2 framework. It provides an intuitive interface for managing sessions, beacons, implants, and listeners without requiring deep knowledge of CLI commands."})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Features"}),r.jsxs("ul",{className:"list-disc list-inside text-muted-foreground mt-1",children:[r.jsx("li",{children:"Real-time session and beacon monitoring"}),r.jsx("li",{children:"Visual implant builder with form-based configuration"}),r.jsx("li",{children:"Listener management with one-click start/stop"}),r.jsx("li",{children:"Role-based access control for team collaboration"}),r.jsx("li",{children:"Audit logging for compliance"})]})]})]})]})]})}const lD=()=>{const e=ms(),s=async(a,f)=>{try{const y=await yi.login(a,f);e.setTokens(y.access_token,y.refresh_token);const l=await yi.me();return e.login(y.access_token,y.refresh_token,l),{success:!0}}catch(y){return{success:!1,error:y instanceof Error?y.message:"Login failed"}}},n=async()=>{try{await yi.logout()}catch{}e.logout()},o=async()=>{if(!e.accessToken)return!1;try{const a=await yi.me();return e.login(e.accessToken,e.refreshToken||"",a),!0}catch{return e.logout(),!1}};return{user:e.user,isAuthenticated:e.isAuthenticated,accessToken:e.accessToken,hasPermission:e.hasPermission,isAdmin:()=>e.user?.role==="admin",login:s,logout:n,checkAuth:o}};function cD(){const[e,s]=R.useState(!1),[n,o]=R.useState(null),[a,f]=R.useState({username:"",email:"",password:"",role_id:2}),[y,l]=R.useState(!1),d=Kt(),{toast:m}=Ve(),{data:v,isLoading:h}=Je({queryKey:["users"],queryFn:ui.list}),{data:w}=Je({queryKey:["roles"],queryFn:ui.roles}),S=Se({mutationFn:j=>ui.create(j),onSuccess:()=>{d.invalidateQueries({queryKey:["users"]}),m({title:"User created successfully"}),g()},onError:j=>{m({variant:"destructive",title:"Failed to create user",description:j.response?.data?.detail})}}),k=Se({mutationFn:({id:j,data:A})=>ui.update(j,A),onSuccess:()=>{d.invalidateQueries({queryKey:["users"]}),m({title:"User updated successfully"}),g()},onError:j=>{m({variant:"destructive",title:"Failed to update user",description:j.response?.data?.detail})}}),b=Se({mutationFn:j=>ui.delete(j),onSuccess:()=>{d.invalidateQueries({queryKey:["users"]}),m({title:"User deleted"})},onError:j=>{m({variant:"destructive",title:"Failed to delete user",description:j.response?.data?.detail})}}),u=Se({mutationFn:({id:j,is_active:A})=>ui.update(j,{is_active:A}),onSuccess:()=>{d.invalidateQueries({queryKey:["users"]})}}),x=v?.users||[],p=w||[],g=()=>{s(!1),o(null),f({username:"",email:"",password:"",role_id:2}),l(!1)},C=j=>{o(j),f({username:j.username,email:j.email||"",password:"",role_id:j.role.id}),s(!0)},E=()=>{if(n){const j={};a.username!==n.username&&(j.username=a.username),a.email!==(n.email||"")&&(j.email=a.email),a.password&&(j.password=a.password),a.role_id!==n.role.id&&(j.role_id=a.role_id),k.mutate({id:n.id,data:j})}else S.mutate(a)},P=j=>{switch(j){case"admin":return r.jsx(ty,{className:"h-4 w-4 text-red-500"});case"operator":return r.jsx(Ns,{className:"h-4 w-4 text-blue-500"});case"viewer":return r.jsx(z2,{className:"h-4 w-4 text-gray-500"});default:return r.jsx(Ns,{className:"h-4 w-4"})}},L=S.isPending||k.isPending;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(sy,{className:"h-6 w-6"}),r.jsx("h2",{className:"text-2xl font-bold",children:"User Management"})]}),r.jsxs(Z,{onClick:()=>s(!e),children:[r.jsx(lr,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),e&&r.jsxs("div",{className:"p-4 border rounded-lg bg-card",children:[r.jsx("h3",{className:"font-medium mb-4",children:n?"Edit User":"Create New User"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Username *"}),r.jsx(Pe,{value:a.username,onChange:j=>f({...a,username:j.target.value}),placeholder:"username",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Email"}),r.jsx(Pe,{type:"email",value:a.email,onChange:j=>f({...a,email:j.target.value}),placeholder:"user@example.com",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm font-medium",children:["Password ",n?"(leave blank to keep)":"*"]}),r.jsxs("div",{className:"relative mt-1",children:[r.jsx(Pe,{type:y?"text":"password",value:a.password,onChange:j=>f({...a,password:j.target.value}),placeholder:""}),r.jsx(Z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>l(!y),children:y?r.jsx(w2,{className:"h-4 w-4"}):r.jsx(sh,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Role *"}),r.jsx("select",{className:"w-full mt-1 h-10 rounded-md border border-input bg-background px-3 py-2",value:a.role_id,onChange:j=>f({...a,role_id:parseInt(j.target.value)}),children:p.map(j=>r.jsxs("option",{value:j.id,children:[j.name," ",j.description&&`- ${j.description}`]},j.id))})]})]}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsxs(Z,{onClick:E,disabled:L||!a.username,children:[L?r.jsx(Te,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(Ho,{className:"h-4 w-4 mr-2"}),n?"Update":"Create"]}),r.jsxs(Z,{variant:"outline",onClick:g,children:[r.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]}),r.jsx("div",{className:"border rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-muted",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-3 font-medium",children:"User"}),r.jsx("th",{className:"p-3 font-medium",children:"Role"}),r.jsx("th",{className:"p-3 font-medium",children:"Status"}),r.jsx("th",{className:"p-3 font-medium",children:"Created"}),r.jsx("th",{className:"p-3 font-medium",children:"Last Login"}),r.jsx("th",{className:"p-3 font-medium w-32",children:"Actions"})]})}),r.jsx("tbody",{children:h?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"p-8 text-center",children:r.jsx(Te,{className:"h-6 w-6 animate-spin mx-auto"})})}):x.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"p-8 text-center text-muted-foreground",children:"No users found"})}):x.map(j=>r.jsxs("tr",{className:"border-t hover:bg-muted/50",children:[r.jsx("td",{className:"p-3",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:j.username}),j.email&&r.jsx("p",{className:"text-sm text-muted-foreground",children:j.email})]})}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[P(j.role.name),r.jsx("span",{className:"capitalize",children:j.role.name})]})}),r.jsx("td",{className:"p-3",children:r.jsx("button",{onClick:()=>u.mutate({id:j.id,is_active:!j.is_active}),className:ce("px-2 py-1 rounded text-xs font-medium transition-colors",j.is_active?"bg-green-500/20 text-green-600 hover:bg-green-500/30":"bg-red-500/20 text-red-600 hover:bg-red-500/30"),children:j.is_active?"Active":"Disabled"})}),r.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:Fl(j.created_at)}),r.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:j.last_login?Fl(j.last_login):"Never"}),r.jsx("td",{className:"p-3",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>C(j),children:r.jsx($2,{className:"h-4 w-4"})}),r.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive",onClick:()=>{confirm(`Delete user ${j.username}?`)&&b.mutate(j.id)},disabled:b.isPending,children:r.jsx(ht,{className:"h-4 w-4"})})]})})]},j.id))})]})}),r.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:p.map(j=>r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[P(j.name),r.jsx("span",{className:"font-medium capitalize",children:j.name})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:j.description||"No description"})]},j.id))})]})}function uD(){const[e,s]=R.useState(""),[n,o]=R.useState(""),[a,f]=R.useState(""),[y,l]=R.useState(1),d=50,m=ms(g=>g.accessToken),{data:v,isLoading:h,refetch:w}=Je({queryKey:["audit-logs",y,e,n,a],queryFn:async()=>{const g=await fetch(`/api/v1/audit?page=${y}&page_size=${d}`+(e?`&search=${encodeURIComponent(e)}`:"")+(n?`&action=${encodeURIComponent(n)}`:"")+(a?`&resource=${encodeURIComponent(a)}`:""),{headers:{Authorization:`Bearer ${m}`}});if(!g.ok)throw new Error("Failed to fetch audit logs");return g.json()}}),S=v?.logs||[],k=Math.ceil((v?.total||0)/d),b=["login","logout","shell","kill","download","upload","generate","create","update","delete"],u=["auth","sessions","beacons","implants","listeners","files","users"],x=()=>{const g=["ID","Timestamp","User","Action","Resource","Resource ID","IP Address","Details"],C=S.map(A=>[A.id,A.created_at,A.username||A.user_id,A.action,A.resource,A.resource_id||"",A.ip_address||"",JSON.stringify(A.details||{})]),E=[g,...C].map(A=>A.join(",")).join(`
`),P=new Blob([E],{type:"text/csv"}),L=URL.createObjectURL(P),j=document.createElement("a");j.href=L,j.download=`audit_logs_${new Date().toISOString()}.csv`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(L)},p=g=>{switch(g){case"login":case"create":return"text-green-500 bg-green-500/10";case"logout":return"text-blue-500 bg-blue-500/10";case"delete":case"kill":return"text-red-500 bg-red-500/10";case"shell":case"execute":return"text-yellow-500 bg-yellow-500/10";case"download":case"upload":return"text-purple-500 bg-purple-500/10";default:return"text-gray-500 bg-gray-500/10"}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Zr,{className:"h-6 w-6"}),r.jsx("h2",{className:"text-2xl font-bold",children:"Audit Logs"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Z,{variant:"outline",onClick:()=>w(),children:[r.jsx(vs,{className:"h-4 w-4 mr-2"}),"Refresh"]}),r.jsxs(Z,{variant:"outline",onClick:x,children:[r.jsx(qt,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 p-4 border rounded-lg bg-card",children:[r.jsx("div",{className:"flex-1 min-w-[200px]",children:r.jsxs("div",{className:"relative",children:[r.jsx(On,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Pe,{placeholder:"Search logs...",value:e,onChange:g=>{s(g.target.value),l(1)},className:"pl-8"})]})}),r.jsx("div",{className:"w-40",children:r.jsxs("select",{className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm",value:n,onChange:g=>{o(g.target.value),l(1)},children:[r.jsx("option",{value:"",children:"All Actions"}),b.map(g=>r.jsx("option",{value:g,children:g},g))]})}),r.jsx("div",{className:"w-40",children:r.jsxs("select",{className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm",value:a,onChange:g=>{f(g.target.value),l(1)},children:[r.jsx("option",{value:"",children:"All Resources"}),u.map(g=>r.jsx("option",{value:g,children:g},g))]})}),(e||n||a)&&r.jsx(Z,{variant:"ghost",onClick:()=>{s(""),o(""),f(""),l(1)},children:"Clear Filters"})]}),r.jsx("div",{className:"border rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-muted",children:r.jsxs("tr",{className:"text-left",children:[r.jsxs("th",{className:"p-3 font-medium",children:[r.jsx(v2,{className:"h-4 w-4 inline mr-1"}),"Timestamp"]}),r.jsxs("th",{className:"p-3 font-medium",children:[r.jsx(hr,{className:"h-4 w-4 inline mr-1"}),"User"]}),r.jsxs("th",{className:"p-3 font-medium",children:[r.jsx(Vx,{className:"h-4 w-4 inline mr-1"}),"Action"]}),r.jsx("th",{className:"p-3 font-medium",children:"Resource"}),r.jsx("th",{className:"p-3 font-medium",children:"Details"}),r.jsx("th",{className:"p-3 font-medium",children:"IP Address"})]})}),r.jsx("tbody",{children:h?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"p-8 text-center",children:r.jsx(Te,{className:"h-6 w-6 animate-spin mx-auto"})})}):S.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"p-8 text-center text-muted-foreground",children:"No audit logs found"})}):S.map(g=>r.jsxs("tr",{className:"border-t hover:bg-muted/50",children:[r.jsx("td",{className:"p-3 font-mono text-xs",children:Fl(g.created_at)}),r.jsx("td",{className:"p-3",children:r.jsx("span",{className:"font-medium",children:g.username||`User #${g.user_id}`})}),r.jsx("td",{className:"p-3",children:r.jsx("span",{className:ce("px-2 py-1 rounded text-xs font-medium",p(g.action)),children:g.action})}),r.jsxs("td",{className:"p-3",children:[r.jsx("span",{className:"text-muted-foreground",children:g.resource}),g.resource_id&&r.jsxs("span",{className:"ml-1 font-mono text-xs",children:["#",g.resource_id]})]}),r.jsx("td",{className:"p-3 max-w-xs",children:g.details&&r.jsx("pre",{className:"text-xs text-muted-foreground truncate",children:JSON.stringify(g.details)})}),r.jsx("td",{className:"p-3 font-mono text-xs text-muted-foreground",children:g.ip_address||"-"})]},g.id))})]})}),k>1&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",y," of ",k," (",v?.total||0," total logs)"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>l(y-1),disabled:y===1,children:[r.jsx(Ih,{className:"h-4 w-4"}),"Previous"]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>l(y+1),disabled:y>=k,children:["Next",r.jsx(nn,{className:"h-4 w-4"})]})]})]})]})}function dD(){const[e,s]=R.useState("users"),{user:n}=lD();if(n?.role!=="admin")return r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ns,{className:"h-16 w-16 mx-auto text-destructive/50 mb-4"}),r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),r.jsxs("p",{className:"text-muted-foreground",children:["You do not have permission to access this page.",r.jsx("br",{}),"Admin privileges are required."]})]})});const o=[{id:"users",label:"User Management",icon:sy},{id:"audit",label:"Audit Logs",icon:Zr}];return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Fh,{className:"h-8 w-8"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Administration"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage users and view system activity"})]})]})}),r.jsx("div",{className:"flex border-b mb-6",children:o.map(a=>r.jsxs("button",{onClick:()=>s(a.id),className:ce("flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors border-b-2 -mb-px",e===a.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:[r.jsx(a.icon,{className:"h-4 w-4"}),a.label]},a.id))}),r.jsxs("div",{className:"flex-1 overflow-auto",children:[e==="users"&&r.jsx(cD,{}),e==="audit"&&r.jsx(uD,{})]})]})}const hD=[{value:"chrome",label:"Chrome"},{value:"edge",label:"Edge"},{value:"firefox",label:"Firefox"}],Qv=[{value:"sharp_chromium",label:"SharpChromium",description:"Chrome/Edge DPAPI decryption. Best for Chrome < 127."},{value:"sharp_dpapi",label:"SharpDPAPI",description:"DPAPI master key extraction. Needs elevated privileges."},{value:"cookie_monster",label:"CookieMonster",description:"BOF in-memory extraction. No disk writes."},{value:"manual_shell",label:"Manual Shell",description:"Copy cookie file for offline analysis. Most stealthy."}],Yv="h-9 w-full rounded-md border bg-background px-3 text-sm focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2";function fD({sessionId:e,onExtracted:s}){const{toast:n}=Ve(),[o,a]=R.useState("chrome"),[f,y]=R.useState("sharp_chromium"),[l,d]=R.useState(""),[m,v]=R.useState(null),[h,w]=R.useState(!1),S=Qv.find(u=>u.value===f),k=Se({mutationFn:()=>vt.extractCookies({session_id:e,browser:o,method:f,target_domain:l||void 0}),onSuccess:u=>{const x=u?.cookies??[],p=u?.raw_output??null;p&&v(typeof p=="string"?p:JSON.stringify(p,null,2)),s?.(x),n({title:"Cookies extracted",description:`Retrieved ${x.length} cookie${x.length===1?"":"s"}${l?` for ${l}`:""}.`})},onError:u=>{const x=u?.response?.data?.message??u?.response?.data?.error??u?.message??"Unknown error occurred";n({variant:"destructive",title:"Extraction failed",description:String(x)})}}),b=()=>{v(null),w(!1),k.mutate()};return r.jsxs(Oe,{children:[r.jsx(Fe,{children:r.jsxs(Be,{className:"flex items-center gap-2 text-lg",children:[r.jsx(ki,{className:"h-5 w-5"}),"Extract Cookies"]})}),r.jsxs(Ie,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{htmlFor:"cookie-browser",className:"text-sm font-medium leading-none",children:"Browser"}),r.jsx("select",{id:"cookie-browser",value:o,onChange:u=>a(u.target.value),className:Yv,children:hD.map(u=>r.jsx("option",{value:u.value,children:u.label},u.value))})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{htmlFor:"cookie-method",className:"text-sm font-medium leading-none",children:"Method"}),r.jsx("select",{id:"cookie-method",value:f,onChange:u=>y(u.target.value),className:Yv,children:Qv.map(u=>r.jsx("option",{value:u.value,children:u.label},u.value))})]})]}),S&&r.jsx("p",{className:"text-xs text-muted-foreground",children:S.description}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{htmlFor:"cookie-domain",className:"text-sm font-medium leading-none",children:["Domain filter",r.jsx("span",{className:"ml-1 font-normal text-muted-foreground",children:"(optional)"})]}),r.jsx("input",{id:"cookie-domain",type:"text",placeholder:"e.g. .example.com",value:l,onChange:u=>d(u.target.value),className:ce("h-9 w-full rounded-md border bg-background px-3 text-sm","placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2")})]}),r.jsx(Z,{onClick:b,disabled:k.isPending,className:"w-full sm:w-auto",children:k.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Extracting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ki,{className:"mr-2 h-4 w-4"}),"Extract"]})}),m&&r.jsxs("div",{className:"rounded-md border",children:[r.jsxs("button",{type:"button",onClick:()=>w(u=>!u),className:ce("flex w-full items-center gap-2 px-4 py-2 text-sm font-medium","hover:bg-muted/50 transition-colors",h&&"border-b"),children:[h?r.jsx(Oh,{className:"h-4 w-4"}):r.jsx(nn,{className:"h-4 w-4"}),"Raw Output"]}),h&&r.jsx("pre",{className:"max-h-64 overflow-auto whitespace-pre-wrap p-4 text-xs text-muted-foreground",children:m})]})]})]})}function mD(e,s,n){const o=new Blob([e],{type:n}),a=URL.createObjectURL(o),f=document.createElement("a");f.href=a,f.download=s,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(a)}function pD(e){switch(e){case"netscape":return"txt";case"json":case"editthiscookie":return"json";case"header":return"txt"}}function gD(e){switch(e){case"json":case"editthiscookie":return"application/json";default:return"text/plain"}}function vD({cookies:e,sessionId:s,onDelete:n,onSelectionChange:o}){const[a,f]=R.useState(""),[y,l]=R.useState("json"),[d,m]=R.useState(new Set),[v,h]=R.useState("asc"),{toast:w}=Ve(),S=R.useMemo(()=>{const j=[...e].sort((z,$)=>{const U=z.domain.localeCompare($.domain);return v==="asc"?U:-U});if(!a)return j;const A=a.toLowerCase();return j.filter(z=>z.domain.toLowerCase().includes(A)||z.name.toLowerCase().includes(A))},[e,a,v]),k=S.length>0&&S.every(j=>j.id!=null&&d.has(j.id)),b=R.useCallback(()=>{h(j=>j==="asc"?"desc":"asc")},[]),u=R.useCallback(j=>{j!=null&&m(A=>{const z=new Set(A);return z.has(j)?z.delete(j):z.add(j),z})},[]),x=R.useCallback(()=>{if(k)m(new Set);else{const j=new Set;S.forEach(A=>{A.id!=null&&j.add(A.id)}),m(j)}},[k,S]);R.useEffect(()=>{o?.(Array.from(d))},[d,o]);const p=R.useCallback(async j=>{try{await navigator.clipboard.writeText(j),w({title:"Copied to clipboard"})}catch{w({variant:"destructive",title:"Failed to copy"})}},[w]),g=Se({mutationFn:j=>vt.exportCookies(j),onSuccess:j=>{const A=j?.content??JSON.stringify(j,null,2),z=j?.filename??`cookies_export_${Date.now()}.${pD(y)}`,$=j?.content_type??gD(y);mD(A,z,$),w({title:"Cookies exported",description:`${j?.count??0} cookies as ${y}`})},onError:()=>{w({variant:"destructive",title:"Failed to export cookies"})}}),C=Se({mutationFn:()=>vt.deleteCookies(s),onSuccess:()=>{w({title:"All cookies deleted for this session"}),m(new Set),n?.()},onError:()=>{w({variant:"destructive",title:"Failed to delete cookies"})}}),E=()=>{const j=`This will delete ALL ${e.length} cookies for this session. Continue?`;window.confirm(j)&&C.mutate()},P=()=>{const j=Array.from(d);g.mutate({cookie_ids:j.length>0?j:void 0,session_id:s,format:y})},L=(j,A=40)=>j.length<=A?j:j.slice(0,A)+"...";return r.jsxs(Oe,{children:[r.jsx(Fe,{className:"pb-3",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs(Be,{className:"text-lg flex items-center gap-2",children:[r.jsx(ki,{className:"h-5 w-5"}),"Extracted Cookies",r.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",e.length,")"]})]})})}),r.jsxs(Ie,{className:"space-y-4",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-xs",children:[r.jsx(On,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Pe,{placeholder:"Filter by domain or name...",value:a,onChange:j=>f(j.target.value),className:"pl-8 h-9"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:y,onChange:j=>l(j.target.value),className:ce("h-9 rounded-md border border-input bg-background px-3 pr-8 text-sm","appearance-none cursor-pointer","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"),children:[r.jsx("option",{value:"json",children:"JSON"}),r.jsx("option",{value:"netscape",children:"Netscape"}),r.jsx("option",{value:"editthiscookie",children:"EditThisCookie"}),r.jsx("option",{value:"header",children:"Cookie Header"})]}),r.jsx(Oh,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-3 w-3 text-muted-foreground pointer-events-none"})]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:P,disabled:g.isPending||e.length===0,children:[g.isPending?r.jsx(Te,{className:"h-4 w-4 mr-1 animate-spin"}):r.jsx(qt,{className:"h-4 w-4 mr-1"}),"Export",d.size>0?` (${d.size})`:""]})]}),e.length>0&&r.jsxs(Z,{variant:"destructive",size:"sm",onClick:E,disabled:C.isPending,children:[C.isPending?r.jsx(Te,{className:"h-4 w-4 mr-1 animate-spin"}):r.jsx(ht,{className:"h-4 w-4 mr-1"}),"Clear All"]}),r.jsx("div",{className:"flex-1"}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[S.length," of ",e.length," cookies"]})]}),e.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-muted-foreground",children:[r.jsx(ki,{className:"h-12 w-12 mb-3 opacity-30"}),r.jsx("p",{className:"text-sm font-medium",children:"No cookies extracted yet"}),r.jsx("p",{className:"text-xs mt-1",children:"Use the extract panel above to pull cookies from a target browser."})]}):r.jsx("div",{className:"border rounded-lg overflow-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-muted/50 sticky top-0",children:r.jsxs("tr",{className:"text-left",children:[r.jsx("th",{className:"p-2 w-10",children:r.jsx("input",{type:"checkbox",checked:k,onChange:x,className:"h-4 w-4 rounded border-input accent-primary cursor-pointer"})}),r.jsx("th",{className:"p-2 font-medium text-muted-foreground cursor-pointer hover:bg-muted/70 select-none",onClick:b,children:r.jsxs("div",{className:"flex items-center gap-1",children:["Domain",r.jsx(Gx,{className:ce("h-3 w-3",v==="desc"&&"rotate-180")})]})}),r.jsx("th",{className:"p-2 font-medium text-muted-foreground",children:"Name"}),r.jsx("th",{className:"p-2 font-medium text-muted-foreground",children:"Value"}),r.jsx("th",{className:"p-2 font-medium text-muted-foreground",children:"Path"}),r.jsx("th",{className:"p-2 font-medium text-muted-foreground text-center w-16",children:"Secure"}),r.jsx("th",{className:"p-2 font-medium text-muted-foreground text-center w-20",children:"HttpOnly"})]})}),r.jsxs("tbody",{children:[S.map((j,A)=>{const z=j.id!=null&&d.has(j.id);return r.jsxs("tr",{className:ce("border-b border-border/50 transition-colors",z?"bg-primary/5":"hover:bg-muted/50"),children:[r.jsx("td",{className:"p-2",children:r.jsx("input",{type:"checkbox",checked:z,onChange:()=>u(j.id),disabled:j.id==null,className:"h-4 w-4 rounded border-input accent-primary cursor-pointer disabled:cursor-not-allowed disabled:opacity-50"})}),r.jsx("td",{className:"p-2 font-mono text-xs whitespace-nowrap",children:j.domain}),r.jsx("td",{className:"p-2 font-medium whitespace-nowrap",children:j.name}),r.jsx("td",{className:"p-2",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"font-mono text-xs text-muted-foreground truncate max-w-[280px] cursor-pointer hover:text-foreground",title:j.value,onClick:()=>p(j.value),children:L(j.value)}),r.jsx(Z,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>p(j.value),children:r.jsx(zo,{className:"h-3 w-3"})})]})}),r.jsx("td",{className:"p-2 font-mono text-xs text-muted-foreground whitespace-nowrap",children:j.path}),r.jsx("td",{className:"p-2 text-center",children:j.secure&&r.jsx(P2,{className:"h-4 w-4 text-green-500 mx-auto"})}),r.jsx("td",{className:"p-2 text-center",children:j.http_only&&r.jsx(ty,{className:"h-4 w-4 text-blue-500 mx-auto"})})]},j.id??`${j.domain}-${j.name}-${A}`)}),S.length===0&&e.length>0&&r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"p-8 text-center text-muted-foreground",children:"No cookies match the current filter."})})]})]})})]})]})}const Xv="google-chrome --remote-debugging-port=9222 --user-data-dir=/tmp/cdp-profile";function xD({selectedCookieIds:e,sessionId:s}){const{toast:n}=Ve(),[o,a]=R.useState("127.0.0.1"),[f,y]=R.useState(9222),[l,d]=R.useState(""),[m,v]=R.useState([]),[h,w]=R.useState(null),S=Se({mutationFn:()=>vt.getCDPTargets(o,f),onSuccess:x=>{const p=x?.targets??x??[];v(Array.isArray(p)?p:[]),n({title:"CDP targets retrieved",description:`Found ${Array.isArray(p)?p.length:0} open tab${Array.isArray(p)&&p.length===1?"":"s"}`})},onError:x=>{v([]),n({variant:"destructive",title:"Failed to list CDP targets",description:ts(x,"Could not connect to Chrome DevTools. Is Chrome running with --remote-debugging-port?")})}}),k=Se({mutationFn:()=>vt.injectCookies({host:o,port:f,cookie_ids:e,url:l||void 0}),onSuccess:x=>{const p={injected_count:x?.injected_count??0,failed_count:x?.failed_count??0,errors:x?.errors??[]};w(p),n({title:"Cookie injection complete",description:`${p.injected_count} injected, ${p.failed_count} failed`})},onError:x=>{w(null),n({variant:"destructive",title:"Cookie injection failed",description:ts(x,"Unknown error during injection")})}}),b=async(x,p)=>{try{await navigator.clipboard.writeText(x),n({title:`${p} copied to clipboard`})}catch{n({variant:"destructive",title:"Failed to copy to clipboard"})}},u=S.isPending||k.isPending;return r.jsxs(Oe,{children:[r.jsxs(Fe,{children:[r.jsxs(Be,{className:"flex items-center gap-2 text-lg",children:[r.jsx(Yg,{className:"h-5 w-5"}),"CDP Cookie Injection"]}),r.jsx(fs,{children:"Inject extracted cookies into a Chrome instance via the Chrome DevTools Protocol."})]}),r.jsxs(Ie,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-2 rounded-md border border-yellow-500/30 bg-yellow-500/10 p-3 text-sm text-yellow-700 dark:text-yellow-400",children:[r.jsx(Nn,{className:"mt-0.5 h-4 w-4 shrink-0"}),r.jsxs("div",{className:"flex-1 space-y-1",children:[r.jsx("span",{children:"Launch Chrome with remote debugging enabled first:"}),r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"rounded bg-yellow-500/20 px-2 py-1.5 font-mono text-xs break-all whitespace-pre-wrap pr-8",children:Xv}),r.jsx(Z,{variant:"ghost",size:"icon",className:"absolute right-0.5 top-0.5 h-6 w-6",onClick:()=>b(Xv,"Chrome launch command"),title:"Copy launch command",children:r.jsx(zo,{className:"h-3 w-3"})})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"text-sm font-medium",children:"CDP Target"}),r.jsxs("div",{className:"flex items-end gap-3",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{htmlFor:"cdp-inject-host",className:"text-sm font-medium leading-none",children:"Host"}),r.jsx(Pe,{id:"cdp-inject-host",type:"text",value:o,onChange:x=>a(x.target.value),disabled:u,placeholder:"127.0.0.1",className:"w-40"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{htmlFor:"cdp-inject-port",className:"text-sm font-medium leading-none",children:"Port"}),r.jsx(Pe,{id:"cdp-inject-port",type:"number",min:1,max:65535,value:f,onChange:x=>y(Number(x.target.value)),disabled:u,className:"w-28"})]}),r.jsxs(Z,{variant:"outline",onClick:()=>S.mutate(),disabled:u,children:[S.isPending?r.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(L2,{className:"mr-2 h-4 w-4"}),"List Tabs"]})]}),m.length>0&&r.jsxs("div",{className:"rounded-md border",children:[r.jsx("div",{className:"px-3 py-2 border-b bg-muted/50",children:r.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Open Tabs (",m.length,")"]})}),r.jsx("ul",{className:"divide-y max-h-48 overflow-auto",children:m.map((x,p)=>r.jsxs("li",{className:"px-3 py-2 text-sm hover:bg-muted/30 transition-colors",children:[r.jsx("p",{className:"font-medium truncate",children:x.title||"(untitled)"}),r.jsxs("p",{className:"text-xs text-muted-foreground truncate flex items-center gap-1",children:[r.jsx(Ol,{className:"h-3 w-3 shrink-0"}),x.url]})]},x.id??p))})]})]}),r.jsxs("div",{className:"space-y-3 border-t pt-4",children:[r.jsx("h3",{className:"text-sm font-medium",children:"Injection"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Selected cookies:"}),r.jsx("span",{className:ce("font-medium",e.length>0?"text-foreground":"text-muted-foreground"),children:e.length}),e.length===0&&r.jsx("span",{className:"text-xs text-muted-foreground",children:"(select cookies from the table above)"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{htmlFor:"cdp-navigate-url",className:"text-sm font-medium leading-none",children:["Navigate to URL after injection",r.jsx("span",{className:"ml-1 font-normal text-muted-foreground",children:"(optional)"})]}),r.jsx(Pe,{id:"cdp-navigate-url",type:"text",value:l,onChange:x=>d(x.target.value),disabled:u,placeholder:"https://example.com/dashboard",className:"max-w-md"})]}),r.jsxs(Z,{onClick:()=>{w(null),k.mutate()},disabled:e.length===0||k.isPending,children:[k.isPending?r.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(Yg,{className:"mr-2 h-4 w-4"}),k.isPending?"Injecting...":`Inject ${e.length} Cookie${e.length===1?"":"s"}`]})]}),h&&r.jsxs("div",{className:"space-y-2 border-t pt-4",children:[h.injected_count>0&&r.jsxs("div",{className:"flex items-center gap-2 rounded-md border border-green-500/30 bg-green-500/10 p-3 text-sm text-green-700 dark:text-green-400",children:[r.jsx(y2,{className:"h-4 w-4 shrink-0"}),r.jsxs("span",{children:["Injected ",h.injected_count," cookie",h.injected_count===1?"":"s"," successfully"]})]}),h.failed_count>0&&r.jsxs("div",{className:"rounded-md border border-red-500/30 bg-red-500/10 p-3 text-sm text-red-700 dark:text-red-400",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(es,{className:"h-4 w-4 shrink-0"}),r.jsxs("span",{children:["Failed to inject ",h.failed_count," cookie",h.failed_count===1?"":"s"]})]}),h.errors.length>0&&r.jsx("ul",{className:"mt-2 ml-6 list-disc space-y-1 text-xs",children:h.errors.map((x,p)=>r.jsx("li",{children:x},p))})]})]})]})]})}function yD({sessionId:e}){const{toast:s}=Ve(),[n,o]=R.useState(1080),[a,f]=R.useState(!1),[y,l]=R.useState(null),[d,m]=R.useState(null),v=Se({mutationFn:()=>vt.startProxy({session_id:e,port:n}),onSuccess:u=>{f(!0),l(u.tunnel_id),m({proxy_pac:u.proxy_pac??"",browser_launch_cmd:u.browser_launch_cmd??"",foxyproxy_config:u.foxyproxy_config??"",curl_example:u.curl_example??""}),s({title:"SOCKS5 proxy started",description:`Listening on port ${n}`})},onError:u=>{s({variant:"destructive",title:"Failed to start proxy",description:ts(u)})}}),h=Se({mutationFn:()=>{if(y===null)throw new Error("No active tunnel");return vt.stopProxy({session_id:e,tunnel_id:y})},onSuccess:()=>{f(!1),l(null),m(null),s({title:"SOCKS5 proxy stopped"})},onError:u=>{s({variant:"destructive",title:"Failed to stop proxy",description:ts(u)})}}),w=v.isPending||h.isPending,S=()=>{a?h.mutate():v.mutate()},k=async(u,x)=>{try{await navigator.clipboard.writeText(u),s({title:`${x} copied to clipboard`})}catch{s({variant:"destructive",title:"Failed to copy to clipboard"})}},b=d?[{label:"Chrome Launch",content:d.browser_launch_cmd},{label:"curl Example",content:d.curl_example},{label:"FoxyProxy",content:d.foxyproxy_config},{label:"PAC File",content:d.proxy_pac}]:[];return r.jsxs(Oe,{children:[r.jsxs(Fe,{children:[r.jsxs(Be,{className:"flex items-center gap-2 text-lg",children:[r.jsx(Tn,{className:"h-5 w-5"}),"SOCKS5 Browser Proxy"]}),r.jsx(fs,{children:"Route browser traffic through the implant session via a local SOCKS5 proxy."})]}),r.jsxs(Ie,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:ce("inline-block h-2.5 w-2.5 rounded-full",a?"bg-green-500":"bg-gray-400")}),a?r.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["Active on port ",n]}):r.jsx("span",{className:"text-muted-foreground",children:"Inactive"})]}),r.jsxs("div",{className:"flex items-end gap-3",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{htmlFor:"proxy-port",className:"text-sm font-medium leading-none",children:"Port"}),r.jsx(Pe,{id:"proxy-port",type:"number",min:1024,max:65535,value:n,onChange:u=>o(Number(u.target.value)),disabled:a||w,className:"w-32"})]}),r.jsxs(Z,{onClick:S,disabled:w,variant:"default",className:ce(a&&"bg-green-600 hover:bg-green-700"),children:[w?r.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}):a?r.jsx(Zx,{className:"mr-2 h-4 w-4"}):r.jsx(ey,{className:"mr-2 h-4 w-4"}),w?a?"Stopping...":"Starting...":a?"Stop Proxy":"Start Proxy"]})]}),a&&d&&r.jsx("div",{className:"space-y-3 pt-2",children:b.map(u=>r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("span",{className:"text-sm font-medium",children:u.label})}),r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-muted rounded-md p-3 font-mono text-xs overflow-x-auto whitespace-pre-wrap break-all pr-10",children:u.content}),r.jsx(Z,{variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-7 w-7",onClick:()=>k(u.content,u.label),title:`Copy ${u.label}`,children:r.jsx(zo,{className:"h-3.5 w-3.5"})})]})]},u.label))})]})]})}function _D({sessionId:e}){const{toast:s}=Ve(),[n,o]=R.useState(9222),[a,f]=R.useState(9222),[y,l]=R.useState(!1),[d,m]=R.useState(null),[v,h]=R.useState(null),w=Se({mutationFn:()=>vt.startCDP({session_id:e,remote_port:n,local_port:a}),onSuccess:p=>{l(!0),m(p.tunnel_id),h({local_url:p.local_url??"",devtools_frontend:p.devtools_frontend??"",ws_debug_url:p.ws_debug_url??"",json_url:p.json_url??""}),s({title:"CDP tunnel started",description:`Remote :${n} forwarded to local :${a}`})},onError:p=>{s({variant:"destructive",title:"Failed to start CDP tunnel",description:ts(p)})}}),S=Se({mutationFn:()=>{if(d===null)throw new Error("No active tunnel");return vt.stopCDP({session_id:e,tunnel_id:d})},onSuccess:()=>{l(!1),m(null),h(null),s({title:"CDP tunnel stopped"})},onError:p=>{s({variant:"destructive",title:"Failed to stop CDP tunnel",description:ts(p)})}}),k=w.isPending||S.isPending,b=()=>{y?S.mutate():w.mutate()},u=async(p,g)=>{try{await navigator.clipboard.writeText(p),s({title:`${g} copied to clipboard`})}catch{s({variant:"destructive",title:"Failed to copy to clipboard"})}},x=v?[{label:"DevTools URL",content:v.devtools_frontend},{label:"JSON Endpoint",content:v.json_url},{label:"WebSocket URL",content:v.ws_debug_url}]:[];return r.jsxs(Oe,{children:[r.jsxs(Fe,{children:[r.jsxs(Be,{className:"flex items-center gap-2 text-lg",children:[r.jsx(Mt,{className:"h-5 w-5"}),"CDP Remote Debugging"]}),r.jsx(fs,{children:"Forward Chrome DevTools Protocol from the target to your local machine."})]}),r.jsxs(Ie,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start gap-2 rounded-md border border-yellow-500/30 bg-yellow-500/10 p-3 text-sm text-yellow-700 dark:text-yellow-400",children:[r.jsx(Nn,{className:"mt-0.5 h-4 w-4 shrink-0"}),r.jsxs("span",{children:["Target Chrome must be running with"," ",r.jsx("code",{className:"rounded bg-yellow-500/20 px-1 py-0.5 font-mono text-xs",children:"--remote-debugging-port=9222"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:ce("inline-block h-2.5 w-2.5 rounded-full",y?"bg-green-500":"bg-gray-400")}),y?r.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["Active  remote :",n," to local :",a]}):r.jsx("span",{className:"text-muted-foreground",children:"Inactive"})]}),r.jsxs("div",{className:"flex items-end gap-3",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{htmlFor:"cdp-remote-port",className:"text-sm font-medium leading-none",children:"Remote Port"}),r.jsx(Pe,{id:"cdp-remote-port",type:"number",min:1,max:65535,value:n,onChange:p=>o(Number(p.target.value)),disabled:y||k,className:"w-32"})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("label",{htmlFor:"cdp-local-port",className:"text-sm font-medium leading-none",children:"Local Port"}),r.jsx(Pe,{id:"cdp-local-port",type:"number",min:1024,max:65535,value:a,onChange:p=>f(Number(p.target.value)),disabled:y||k,className:"w-32"})]}),r.jsxs(Z,{onClick:b,disabled:k,className:ce(y&&"bg-green-600 hover:bg-green-700"),children:[k?r.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}):y?r.jsx(Zx,{className:"mr-2 h-4 w-4"}):r.jsx(ey,{className:"mr-2 h-4 w-4"}),k?y?"Stopping...":"Starting...":y?"Stop CDP":"Start CDP"]})]}),y&&v&&r.jsx("div",{className:"space-y-3 pt-2",children:x.map(p=>r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("span",{className:"text-sm font-medium",children:p.label})}),r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-muted rounded-md p-3 font-mono text-xs overflow-x-auto whitespace-pre-wrap break-all pr-10",children:p.content}),r.jsx(Z,{variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-7 w-7",onClick:()=>u(p.content,p.label),title:`Copy ${p.label}`,children:r.jsx(zo,{className:"h-3.5 w-3.5"})})]})]},p.label))})]})]})}function wD({selectedCookieIds:e,sessionId:s}){const{toast:n}=Ve(),o=R.useRef(null),[a,f]=R.useState(null),[y,l]=R.useState(""),[d,m]=R.useState(null),[v,h]=R.useState(""),[w,S]=R.useState(""),[k,b]=R.useState([]),[u,x]=R.useState(""),[p,g]=R.useState(""),[C,E]=R.useState(!1);R.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[k]);const P=Se({mutationFn:()=>vt.startAutomation({cookie_ids:e,url:u||void 0,proxy:p||void 0}),onSuccess:D=>{f(D.automation_id),D.screenshot&&m(D.screenshot),D.page_title&&h(D.page_title),D.page_url&&l(D.page_url),n({title:"Automation started",description:`Session ${D.automation_id} is active`})},onError:D=>{n({variant:"destructive",title:"Failed to start automation",description:ts(D)})}}),L=Se({mutationFn:D=>{if(!a)throw new Error("No active automation");return vt.automationNavigate({automation_id:a,url:D,screenshot:!0})},onSuccess:D=>{D.title&&h(D.title),D.url&&l(D.url),D.screenshot&&m(D.screenshot),n({title:"Navigation complete",description:D.title||D.url||"Page loaded"})},onError:D=>{n({variant:"destructive",title:"Navigation failed",description:ts(D)})}}),j=Se({mutationFn:()=>{if(!a)throw new Error("No active automation");return vt.automationScreenshot({automation_id:a,full_page:C})},onSuccess:D=>{D.screenshot&&m(D.screenshot),n({title:"Screenshot captured",description:`${D.width}x${D.height}`})},onError:D=>{n({variant:"destructive",title:"Screenshot failed",description:ts(D)})}}),A=Se({mutationFn:D=>{if(!a)throw new Error("No active automation");return vt.automationExecuteJS({automation_id:a,script:D})},onSuccess:(D,M)=>{if(b(H=>[...H,{type:"input",text:M}]),D.error)b(H=>[...H,{type:"error",text:D.error}]);else{const H=D.result!==void 0&&D.result!==null?typeof D.result=="string"?D.result:JSON.stringify(D.result,null,2):"undefined";b(O=>[...O,{type:"output",text:H}])}},onError:(D,M)=>{b(H=>[...H,{type:"input",text:M},{type:"error",text:ts(D)}])}}),z=Se({mutationFn:()=>{if(!a)throw new Error("No active automation");return vt.automationCookies(a)},onSuccess:D=>{n({title:"Cookies retrieved",description:`${D.count} cookie${D.count===1?"":"s"} found in automation context`})},onError:D=>{n({variant:"destructive",title:"Failed to get cookies",description:ts(D)})}}),$=Se({mutationFn:()=>{if(!a)throw new Error("No active automation");return vt.stopAutomation(a)},onSuccess:D=>{f(null),m(null),h(""),l(""),S(""),b([]),n({title:"Automation stopped",description:D.message||"Session terminated"})},onError:D=>{n({variant:"destructive",title:"Failed to stop automation",description:ts(D)})}}),U=a!==null,I=()=>{y.trim()&&L.mutate(y.trim())},W=D=>{D.key==="Enter"&&I()},J=()=>{if(!w.trim())return;const D=w.trim();S(""),A.mutate(D)},V=D=>{D.key==="Enter"&&J()},G=()=>{$.mutate()};return r.jsxs(Oe,{children:[r.jsx(Fe,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Be,{className:"flex items-center gap-2 text-lg",children:[r.jsx(wl,{className:"h-5 w-5"}),"Session Replay"]}),U&&r.jsxs(Z,{variant:"destructive",size:"sm",onClick:G,disabled:$.isPending,children:[$.isPending?r.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(Gg,{className:"mr-2 h-4 w-4"}),"Stop"]})]})}),r.jsxs(Ie,{className:"space-y-4",children:[U?r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full bg-green-500"}),r.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["Active (",a,")"]})]}):r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("span",{className:"inline-block h-2.5 w-2.5 rounded-full bg-gray-400"}),r.jsx("span",{className:"text-muted-foreground",children:"Inactive"}),r.jsxs(wi,{variant:"secondary",className:"ml-2",children:[e.length," cookies selected"]})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{htmlFor:"automation-initial-url",className:"text-sm font-medium leading-none",children:["Initial URL",r.jsx("span",{className:"ml-1 font-normal text-muted-foreground",children:"(optional)"})]}),r.jsx(Pe,{id:"automation-initial-url",type:"text",placeholder:"https://example.com",value:u,onChange:D=>x(D.target.value),disabled:P.isPending})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("label",{htmlFor:"automation-proxy",className:"text-sm font-medium leading-none",children:["Proxy",r.jsx("span",{className:"ml-1 font-normal text-muted-foreground",children:"(optional)"})]}),r.jsx(Pe,{id:"automation-proxy",type:"text",placeholder:"socks5://127.0.0.1:1080",value:p,onChange:D=>g(D.target.value),disabled:P.isPending})]}),r.jsx(Z,{onClick:()=>P.mutate(),disabled:e.length===0||P.isPending,className:"w-full sm:w-auto",children:P.isPending?r.jsxs(r.Fragment,{children:[r.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}),"Starting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(wl,{className:"mr-2 h-4 w-4"}),"Start Automation"]})})]}),U&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Tn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(Pe,{type:"text",placeholder:"https://example.com",value:y,onChange:D=>l(D.target.value),onKeyDown:W,disabled:L.isPending,className:"pl-9"})]}),r.jsxs(Z,{onClick:I,disabled:!y.trim()||L.isPending,children:[L.isPending?r.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(h2,{className:"mr-2 h-4 w-4"}),"Go"]})]}),U&&v&&r.jsx("p",{className:"text-sm text-muted-foreground truncate",children:v}),U&&r.jsx("div",{className:"rounded-md border max-h-96 overflow-auto bg-muted/20",children:d?r.jsx("img",{src:`data:image/png;base64,${d}`,alt:v||"Browser screenshot",className:"w-full h-auto"}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-muted-foreground",children:[r.jsx(E2,{className:"h-10 w-10 mb-2 opacity-30"}),r.jsx("p",{className:"text-sm",children:"No screenshot"}),r.jsx("p",{className:"text-xs mt-1",children:"Navigate to a page or take a screenshot"})]})}),U&&r.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:C,onChange:D=>E(D.target.checked),className:"rounded border-gray-300"}),"Full Page Screenshot"]}),U&&r.jsxs("div",{className:"rounded-md border",children:[r.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 border-b bg-muted/30",children:[r.jsx(gs,{className:"h-4 w-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm font-medium",children:"JS Console"})]}),r.jsx("div",{ref:o,className:"max-h-64 overflow-auto p-3 font-mono text-xs space-y-1",children:k.length===0?r.jsx("p",{className:"text-muted-foreground",children:"Enter JavaScript to execute in the browser context."}):k.map((D,M)=>r.jsxs("div",{className:ce("whitespace-pre-wrap break-all",D.type==="input"&&"text-foreground",D.type==="output"&&"text-green-500",D.type==="error"&&"text-red-500"),children:[r.jsx("span",{className:"select-none opacity-50 mr-1",children:D.type==="input"?">":D.type==="output"?"<":"!"}),D.text]},M))}),r.jsxs("div",{className:"flex gap-2 p-2 border-t",children:[r.jsx(Pe,{type:"text",placeholder:"document.title",value:w,onChange:D=>S(D.target.value),onKeyDown:V,disabled:A.isPending,className:"font-mono text-xs"}),r.jsxs(Z,{size:"sm",onClick:J,disabled:!w.trim()||A.isPending,children:[A.isPending?r.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(wl,{className:"mr-2 h-4 w-4"}),"Execute"]})]})]}),U&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>j.mutate(),disabled:j.isPending,children:[j.isPending?r.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(ar,{className:"mr-2 h-4 w-4"}),"Screenshot"]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>z.mutate(),disabled:z.isPending,children:[z.isPending?r.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(ki,{className:"mr-2 h-4 w-4"}),"Get Cookies"]}),r.jsxs(Z,{variant:"destructive",size:"sm",onClick:G,disabled:$.isPending,children:[$.isPending?r.jsx(Te,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(Gg,{className:"mr-2 h-4 w-4"}),"Stop"]})]})]})]})}const bD=[{id:"cookies",label:"Cookies",icon:ki},{id:"proxy",label:"Proxy",icon:ry},{id:"cdp",label:"CDP Debug",icon:g2},{id:"profile",label:"Profile",icon:rh},{id:"automation",label:"Automation",icon:wl}];function SD(){const[e,s]=R.useState(null),[n,o]=R.useState("cookies"),[a,f]=R.useState([]),[y,l]=R.useState([]),d=R.useCallback(C=>{l(C)},[]),{data:m,isLoading:v,refetch:h}=Je({queryKey:["sessions"],queryFn:yt.list,refetchInterval:15e3}),{data:w,refetch:S}=Je({queryKey:["browser-cookies",e?.id],queryFn:()=>vt.getCookies({session_id:e?.id}),enabled:!!e?.id}),{data:k,isLoading:b}=Je({queryKey:["browser-info",e?.id],queryFn:()=>vt.getBrowserInfo(e?.id),enabled:!!e?.id}),u=m?.sessions||[],x=w?.cookies||a,p=C=>{f(C),S()},g=C=>{const E=C?.toLowerCase()||"";return E.includes("windows")?"":E.includes("linux")?"":E.includes("darwin")||E.includes("mac")?"":""};return r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[r.jsx(Tn,{className:"h-8 w-8"}),"Browser Operations"]}),r.jsx("p",{className:"text-muted-foreground mt-1",children:"Cookie extraction, browser proxy, and CDP debugging"})]}),r.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>h(),children:[r.jsx(vs,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),r.jsxs("div",{className:"flex-1 flex gap-4 min-h-0",children:[r.jsxs("div",{className:"w-72 flex-shrink-0 flex flex-col border rounded-lg bg-card",children:[r.jsx("div",{className:"p-3 border-b",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mt,{className:"h-5 w-5"}),r.jsx("span",{className:"font-medium",children:"Sessions"}),r.jsx("span",{className:"ml-auto text-sm text-muted-foreground",children:u.length})]})}),r.jsx("div",{className:"flex-1 overflow-auto",children:v?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(Te,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):u.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Mt,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),r.jsx("p",{className:"text-sm",children:"No active sessions"})]}):r.jsx("div",{className:"divide-y",children:u.map(C=>r.jsx("button",{onClick:()=>{s(C),o("cookies"),f([])},className:ce("w-full text-left p-3 transition-colors hover:bg-muted/50",e?.id===C.id&&"bg-primary/10"),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm",children:g(C.os)}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("p",{className:"text-sm font-medium truncate",children:C.hostname}),r.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[C.username,"  ",C.os]})]}),r.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 shrink-0"})]})},C.id))})}),e&&k&&r.jsxs("div",{className:"border-t p-3",children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Detected Browsers"}),b?r.jsx(Te,{className:"h-4 w-4 animate-spin"}):k.browsers?.length>0?r.jsx("div",{className:"space-y-1",children:k.browsers.map((C,E)=>r.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[r.jsx("div",{className:ce("h-1.5 w-1.5 rounded-full",C.running?"bg-green-500":"bg-gray-400")}),r.jsx("span",{children:C.name}),C.running&&r.jsxs("span",{className:"text-muted-foreground",children:["(PID ",C.pid,")"]})]},E))}):r.jsx("p",{className:"text-xs text-muted-foreground",children:"No browsers detected"})]})]}),r.jsx("div",{className:"flex-1 flex flex-col min-w-0 border rounded-lg bg-card overflow-hidden",children:e?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-4 p-4 border-b bg-muted/30",children:[r.jsx("span",{className:"text-lg",children:g(e.os)}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("h2",{className:"font-semibold truncate",children:e.hostname}),r.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[e.username,"  ",e.remote_address]})]})]}),r.jsx("div",{className:"flex border-b",children:bD.map(C=>r.jsxs("button",{onClick:()=>o(C.id),className:ce("flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors border-b-2 -mb-px",n===C.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"),children:[r.jsx(C.icon,{className:"h-4 w-4"}),C.label]},C.id))}),r.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[n==="cookies"&&r.jsxs("div",{className:"space-y-4",children:[r.jsx(fD,{sessionId:e.id,onExtracted:p}),r.jsx(vD,{cookies:x,sessionId:e.id,onDelete:()=>S(),onSelectionChange:d}),y.length>0&&r.jsx(xD,{selectedCookieIds:y,sessionId:e.id})]}),n==="proxy"&&r.jsx(yD,{sessionId:e.id},`proxy-${e.id}`),n==="cdp"&&r.jsx(_D,{sessionId:e.id},`cdp-${e.id}`),n==="profile"&&r.jsx(CD,{sessionId:e.id,browserInfo:k}),n==="automation"&&r.jsx(wD,{selectedCookieIds:y,sessionId:e.id},`auto-${e.id}`)]})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Tn,{className:"h-16 w-16 mx-auto text-muted-foreground/30 mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"No Session Selected"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select a session from the list to start browser operations"})]})})})]})]})}function CD({sessionId:e,browserInfo:s}){const[n,o]=R.useState(null),[a,f]=R.useState(null),{toast:y}=Ve(),l=async v=>{o(v),f(null);try{const h=await vt.downloadProfile({session_id:e,browser:v});f(h),y({title:"Profile downloaded",description:`${h.files?.length||0} files from ${v}`})}catch(h){y({variant:"destructive",title:"Download failed",description:ts(h,"Failed to download profile")})}finally{o(null)}},d=async(v,h)=>{try{await navigator.clipboard.writeText(v),y({title:`${h} copied to clipboard`})}catch{y({variant:"destructive",title:"Failed to copy"})}},m=s?.browsers||[];return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-1",children:"Browser Profile Download"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Download cookie databases, login data, and other profile files for offline analysis."})]}),m.length>0?r.jsx("div",{className:"grid gap-3",children:m.map((v,h)=>{const w=n===v.browser_type;return r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:v.name}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.running?"Running":"Not running"," "," ",v.profiles?.join(", ")||"Default"]}),v.cookie_path&&r.jsx("p",{className:"text-xs text-muted-foreground font-mono mt-1",children:v.cookie_path})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs(Z,{size:"sm",onClick:()=>l(v.browser_type),disabled:n!==null,children:[w?r.jsx(Te,{className:"h-4 w-4 animate-spin mr-2"}):r.jsx(rh,{className:"h-4 w-4 mr-2"}),w?"Downloading...":"Download"]})})]},h)})}):r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(rh,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),r.jsx("p",{children:"No browsers detected on target"}),r.jsx("p",{className:"text-sm mt-1",children:"Select a session and wait for browser detection to complete"})]}),a&&a.launch_commands&&r.jsxs("div",{className:"space-y-4 border-t pt-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-1",children:"Launch Browser with Profile"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Use these commands on your local machine to launch a browser with the victim's session."})]}),a.zip_url&&r.jsx("div",{children:r.jsxs("a",{href:a.zip_url,download:!0,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-primary text-primary-foreground text-sm font-medium hover:bg-primary/90",children:[r.jsx(qt,{className:"h-4 w-4"}),"Download Profile as ZIP"]})}),r.jsx("div",{className:"space-y-3",children:Object.entries(a.launch_commands).map(([v,h])=>r.jsxs("div",{className:"space-y-1.5",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("span",{className:"text-sm font-medium capitalize",children:v})}),r.jsxs("div",{className:"relative",children:[r.jsx("pre",{className:"bg-muted rounded-md p-3 font-mono text-xs overflow-x-auto whitespace-pre-wrap break-all pr-10",children:h}),r.jsx(Z,{variant:"ghost",size:"icon",className:"absolute right-1 top-1 h-7 w-7",onClick:()=>d(h,`${v} command`),children:r.jsx(zo,{className:"h-3.5 w-3.5"})})]})]},v))}),a.files?.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Downloaded Files"}),r.jsx("div",{className:"space-y-1",children:a.files.map((v,h)=>r.jsxs("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"font-mono",children:v.name}),r.jsx("span",{className:"text-muted-foreground",children:v.size>1024*1024?`${(v.size/(1024*1024)).toFixed(1)} MB`:v.size>1024?`${(v.size/1024).toFixed(1)} KB`:`${v.size} B`})]},h))})]})]})]})}function jD({children:e}){return ms(n=>n.isAuthenticated)?r.jsx(r.Fragment,{children:e}):r.jsx(Ll,{to:"/login",replace:!0})}function kD(){return r.jsxs(r.Fragment,{children:[r.jsxs(LS,{children:[r.jsx(Nt,{element:r.jsx(KN,{}),children:r.jsx(Nt,{path:"/login",element:r.jsx(VN,{})})}),r.jsxs(Nt,{element:r.jsx(jD,{children:r.jsx(qN,{})}),children:[r.jsx(Nt,{path:"/",element:r.jsx(Ll,{to:"/dashboard",replace:!0})}),r.jsx(Nt,{path:"/dashboard",element:r.jsx(GN,{})}),r.jsx(Nt,{path:"/sessions",element:r.jsx(Q3,{})}),r.jsx(Nt,{path:"/beacons",element:r.jsx(X3,{})}),r.jsx(Nt,{path:"/implants",element:r.jsx(eD,{})}),r.jsx(Nt,{path:"/listeners",element:r.jsx(tD,{})}),r.jsx(Nt,{path:"/armory",element:r.jsx(nD,{})}),r.jsx(Nt,{path:"/cleanup",element:r.jsx(oD,{})}),r.jsx(Nt,{path:"/browser-ops",element:r.jsx(SD,{})}),r.jsx(Nt,{path:"/settings",element:r.jsx(aD,{})}),r.jsx(Nt,{path:"/admin",element:r.jsx(dD,{})})]}),r.jsx(Nt,{path:"*",element:r.jsx(Ll,{to:"/dashboard",replace:!0})})]}),r.jsx(Ij,{})]})}class ND extends R.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("ErrorBoundary caught:",s,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:r.jsxs("div",{className:"text-center p-8 max-w-md",children:[r.jsx("h2",{className:"text-xl font-bold text-destructive mb-4",children:"Something went wrong"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:this.state.error?.message}),r.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null}),window.location.reload()},className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Reload Application"})]})}):this.props.children}}const ED=new Rb({defaultOptions:{queries:{staleTime:5e3,retry:1}}});ib.createRoot(document.getElementById("root")).render(r.jsx(Bs.StrictMode,{children:r.jsx(Pb,{client:ED,children:r.jsx(ND,{children:r.jsx(US,{children:r.jsx(kD,{})})})})}));
